/*!common/components/validate/validate.js*/
;define("common/components/validate/validate",["require","exports","module"],function(require,exports,module){function a(a){this.rules=a.rules,this.messages=a.messages,this.form=a.form,this.$form=$(a.form),this.$input=[],this.errorPlacement=a.errorPlacement,this.errorRemove=a.errorRemove,this.allUnValidCb=a.allUnValidCb,this.someValidCb=a.someValidCb,this.allValidCb=a.allValidCb,this.notAllValidCb=a.notAllValidCb,this.validSate={},this.init()}a.prototype.init=function(){var a=this,h=a.rules,c=a.messages,v=a.$form,V=a.validSate;$.each(h,function(h,g){var $=v.find('input[name="'+h+'"]'),b=function(){$.data("hasInput",1),$.unbind("input",b)};V[h]=!1,$.bind("blur validate",function(){a.isValid($,{messages:c[h]||{},rules:g},h)}),$.bind("input",b)})},a.prototype.checkAll=function(){var a=this,h=a.rules,c=a.$form,v=a.messages,V=!0,g=!0;return $.each(h,function(h,$){var b=c.find('input[name="'+h+'"]');a.isValid(b,{messages:v[h]||{},rules:$,force:!0},h)?g=!1:V=!1}),V},a.prototype.errorRemoveAll=function(){var a=this,h=a.rules,c=a.$form,v=a.messages;$.each(h,function(h){var V=c.find('input[name="'+h+'"]');a.hideError(V,h,v[h])})},a.prototype.showError=function(a,h,c){var v=this,V=v.errorPlacement,g=a.parent().find("p.error");return V?void V(c,h,a):void(0==g.length?c&&a.parent().append('<p class="error">'+c+"</p>"):g.html(c).show())},a.prototype.hideError=function(a,h,c){var v=this,V=v.errorRemove,g=a.parent().find("p.error");return V?void V(c,h,a):void(0!=g.length&&g.hide())},a.prototype.isValid=function(a,h,c){var v,V=this,g=h.rules,b=h.messages,y=V.validSate;return y[c]=!0,v=h.getValue?h.getValue():a.val(),$.each(g,function(g,$){return $?"required"!==g||"function"==typeof $||0==$||!a.data("hasInput")&&!h.force||""!==v&&"undefined"!=typeof v?"function"!=typeof $||$(v)?void V.hideError(a,c,b[g]):(y[c]=!1,V.showError(a,c,b[g]||""),!1):(y[c]=!1,V.showError(a,c,b[g]||"必填"),!1):!0}),y[c]},a.prototype.isAllUnValid=function(){var a=this,h=a.validSate,c=!0;return $.each(h,function(a,h){return h?c=!1:null,!1}),c},a.prototype.isAllValid=function(){var a=this,h=a.validSate,c=!0;return $.each(h,function(a,h){return h?!0:(c=!1,!1)}),c},a.prototype.valid=function(a){var h=this,c=h.rules,v=h.$form,V=h.messages,g=v.find('input[name="'+a+'"]');return h.isValid(g,{messages:V[a]||{},rules:c[a],force:!0},a)},module.exports.LgValidate=a});
/*!common/components/toast/index.js*/
;define("common/components/toast/index",["require","exports","module"],function(require,exports,module){function c(){var c=document.querySelector(".common-message-info");document.body.removeChild(c)}function a(a){var v;return function(y,T){var b=T?T:2e3;v&&(c(),clearTimeout(v),v=null);var g='<div class="common-message-info"><span class="icon '+a+'"></span><span class="text">'+y+"</span></div>";$("body").append(g),v=setTimeout(function(){c(),clearTimeout(v),v=null},b)}}var v=a("error"),y=a("success");module.exports={error:v,success:y}});
/*!common/static/js/pdf/pdf.js*/
;!function(a,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define("common/static/js/pdf/pdf",[],c):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=c():a["pdfjs-dist/build/pdf"]=a.pdfjsLib=c()}(this,function(){return function(a){function c(v){if(h[v])return h[v].exports;var module=h[v]={i:v,l:!1,exports:{}};return a[v].call(module.exports,module,module.exports,c),module.l=!0,module.exports}var h={};return c.m=a,c.c=h,c.d=function(exports,a,h){c.o(exports,a)||Object.defineProperty(exports,a,{enumerable:!0,get:h})},c.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},c.t=function(a,h){if(1&h&&(a=c(a)),8&h)return a;if(4&h&&"object"==typeof a&&a&&a.__esModule)return a;var v=Object.create(null);if(c.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:a}),2&h&&"string"!=typeof a)for(var g in a)c.d(v,g,function(c){return a[c]}.bind(null,g));return v},c.n=function(module){var a=module&&module.__esModule?function(){return module["default"]}:function(){return module};return c.d(a,"a",a),a},c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},c.p="",c(c.s=0)}([function(module,exports,a){"use strict";var c=a(1),h=a(181),v=a(196),g=a(197),y=a(185),b=a(198),_=a(190),A=a(187),S=a(4),w=S.isNodeJS;if(w){var k=a(199).PDFNodeStream;h.setPDFNetworkStreamFactory(function(a){return new k(a)})}else{var C,R=a(202).PDFNetworkStream;y.isFetchSupported()&&(C=a(203).PDFFetchStream),h.setPDFNetworkStreamFactory(function(a){return C&&y.isValidFetchUrl(a.url)?new C(a):new R(a)})}exports.build=h.build,exports.version=h.version,exports.getDocument=h.getDocument,exports.LoopbackPort=h.LoopbackPort,exports.PDFDataRangeTransport=h.PDFDataRangeTransport,exports.PDFWorker=h.PDFWorker,exports.renderTextLayer=v.renderTextLayer,exports.AnnotationLayer=g.AnnotationLayer,exports.createPromiseCapability=c.createPromiseCapability,exports.PasswordResponses=c.PasswordResponses,exports.InvalidPDFException=c.InvalidPDFException,exports.MissingPDFException=c.MissingPDFException,exports.SVGGraphics=b.SVGGraphics,exports.NativeImageDecoding=c.NativeImageDecoding,exports.CMapCompressionType=c.CMapCompressionType,exports.PermissionFlag=c.PermissionFlag,exports.UnexpectedResponseException=c.UnexpectedResponseException,exports.OPS=c.OPS,exports.VerbosityLevel=c.VerbosityLevel,exports.UNSUPPORTED_FEATURES=c.UNSUPPORTED_FEATURES,exports.createValidAbsoluteUrl=c.createValidAbsoluteUrl,exports.createObjectURL=c.createObjectURL,exports.removeNullCharacters=c.removeNullCharacters,exports.shadow=c.shadow,exports.Util=c.Util,exports.ReadableStream=c.ReadableStream,exports.RenderingCancelledException=y.RenderingCancelledException,exports.getFilenameFromUrl=y.getFilenameFromUrl,exports.LinkTarget=y.LinkTarget,exports.addLinkAttributes=y.addLinkAttributes,exports.loadScript=y.loadScript,exports.PDFDateString=y.PDFDateString,exports.GlobalWorkerOptions=_.GlobalWorkerOptions,exports.apiCompatibilityParams=A.apiCompatibilityParams},function(module,exports,a){"use strict";function c(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function h(a,h,v){return h&&c(a.prototype,h),v&&c(a,v),a}function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a,c){return!c||"object"!==v(c)&&"function"!=typeof c?b(a):c}function b(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _(o){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function A(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&S(a,c)}function S(o,p){return(S=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function w(a){Number.isInteger(a)&&(Rt=a)}function k(){return Rt}function C(a){Rt>=St.INFOS&&console.log("Info: ".concat(a))}function R(a){Rt>=St.WARNINGS&&console.log("Warning: ".concat(a))}function P(a){throw new Error(a)}function E(a,c){a||P(c)}function T(a,c){var h;try{if(h=new URL(a),!h.origin||"null"===h.origin)return!1}catch(e){return!1}var v=new URL(c,h);return h.origin===v.origin}function O(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function L(a,c){if(!a)return null;try{var h=c?new URL(a,c):new URL(a);if(O(h))return h}catch(ex){}return null}function F(a,c,h){return Object.defineProperty(a,c,{value:h,enumerable:!0,configurable:!0,writable:!1}),h}function I(a){return"string"!=typeof a?(R("The argument for removeNullCharacters must be a string."),a):a.replace(Nt,"")}function M(a){E(null!==a&&"object"===v(a)&&void 0!==a.length,"Invalid argument for bytesToString");var c=a.length,h=8192;if(h>c)return String.fromCharCode.apply(null,a);for(var g=[],i=0;c>i;i+=h){var y=Math.min(i+h,c),b=a.subarray(i,y);g.push(String.fromCharCode.apply(null,b))}return g.join("")}function N(a){E("string"==typeof a,"Invalid argument for stringToBytes");for(var c=a.length,h=new Uint8Array(c),i=0;c>i;++i)h[i]=255&a.charCodeAt(i);return h}function j(a){return void 0!==a.length?a.length:(E(void 0!==a.byteLength),a.byteLength)}function D(a){var c=a.length;if(1===c&&a[0]instanceof Uint8Array)return a[0];for(var h=0,i=0;c>i;i++)h+=j(a[i]);for(var v=0,g=new Uint8Array(h),y=0;c>y;y++){var b=a[y];b instanceof Uint8Array||(b="string"==typeof b?N(b):new Uint8Array(b));var _=b.byteLength;g.set(b,v),v+=_}return g}function U(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function W(x){return 0>=x?0:Math.ceil(Math.log2(x))}function B(a,c){return a[c]<<24>>24}function G(a,c){return a[c]<<8|a[c+1]}function z(a,c){return(a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3])>>>0}function H(){var a=new Uint8Array(4);a[0]=1;var c=new Uint32Array(a.buffer,0,1);return 1===c[0]}function X(){try{return new Function(""),!0}catch(e){return!1}}function Y(a){var c=a.length,h=[];if("þ"===a[0]&&"ÿ"===a[1])for(var i=2;c>i;i+=2)h.push(String.fromCharCode(a.charCodeAt(i)<<8|a.charCodeAt(i+1)));else if("ÿ"===a[0]&&"þ"===a[1])for(var v=2;c>v;v+=2)h.push(String.fromCharCode(a.charCodeAt(v+1)<<8|a.charCodeAt(v)));else for(var g=0;c>g;++g){var y=qt[a.charCodeAt(g)];h.push(y?String.fromCharCode(y):a.charAt(g))}return h.join("")}function V(a){return decodeURIComponent(escape(a))}function Q(a){return unescape(encodeURIComponent(a))}function K(a){for(var c in a)return!1;return!0}function J(a){return"boolean"==typeof a}function Z(a){return"number"==typeof a}function $(a){return"string"==typeof a}function et(a){return"object"===v(a)&&null!==a&&void 0!==a.byteLength}function tt(a,c){return a.length!==c.length?!1:a.every(function(a,h){return a===c[h]})}function nt(a){return 32===a||9===a||13===a||10===a}function it(){var a=Object.create(null),c=!1;return Object.defineProperty(a,"settled",{get:function(){return c}}),a.promise=new Promise(function(h,v){a.resolve=function(a){c=!0,h(a)},a.reject=function(a){c=!0,v(a)}}),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayByteLength=j,exports.arraysToBytes=D,exports.assert=E,exports.bytesToString=M,exports.createPromiseCapability=it,exports.getVerbosityLevel=k,exports.info=C,exports.isArrayBuffer=et,exports.isArrayEqual=tt,exports.isBool=J,exports.isEmptyObj=K,exports.isNum=Z,exports.isString=$,exports.isSpace=nt,exports.isSameOrigin=T,exports.createValidAbsoluteUrl=L,exports.isLittleEndian=H,exports.isEvalSupported=X,exports.log2=W,exports.readInt8=B,exports.readUint16=G,exports.readUint32=z,exports.removeNullCharacters=I,exports.setVerbosityLevel=w,exports.shadow=F,exports.string32=U,exports.stringToBytes=N,exports.stringToPDFString=Y,exports.stringToUTF8String=V,exports.utf8StringToString=Q,exports.warn=R,exports.unreachable=P,Object.defineProperty(exports,"ReadableStream",{enumerable:!0,get:function(){return at.ReadableStream}}),exports.createObjectURL=exports.FormatError=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.TextRenderingMode=exports.StreamType=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.NativeImageDecoding=exports.MissingPDFException=exports.InvalidPDFException=exports.AbortException=exports.CMapCompressionType=exports.ImageKind=exports.FontType=exports.AnnotationType=exports.AnnotationStateModelType=exports.AnnotationReviewState=exports.AnnotationReplyType=exports.AnnotationMarkedState=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationBorderStyleType=exports.UNSUPPORTED_FEATURES=exports.VerbosityLevel=exports.OPS=exports.IDENTITY_MATRIX=exports.FONT_IDENTITY_MATRIX=exports.BaseException=void 0,a(2);var at=a(179),ot=[1,0,0,1,0,0];exports.IDENTITY_MATRIX=ot;var st=[.001,0,0,.001,0,0];exports.FONT_IDENTITY_MATRIX=st;var ut={NONE:"none",DECODE:"decode",DISPLAY:"display"};exports.NativeImageDecoding=ut;var ct={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};exports.PermissionFlag=ct;var lt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};exports.TextRenderingMode=lt;var ht={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};exports.ImageKind=ht;var ft={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};exports.AnnotationType=ft;var dt={MARKED:"Marked",REVIEW:"Review"};exports.AnnotationStateModelType=dt;var pt={MARKED:"Marked",UNMARKED:"Unmarked"};exports.AnnotationMarkedState=pt;var vt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};exports.AnnotationReviewState=vt;var gt={GROUP:"Group",REPLY:"R"};exports.AnnotationReplyType=gt;var mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};exports.AnnotationFlag=mt;var yt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};exports.AnnotationFieldFlag=yt;var bt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};exports.AnnotationBorderStyleType=bt;var _t={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};exports.StreamType=_t;var At={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};exports.FontType=At;var St={ERRORS:0,WARNINGS:1,INFOS:5};exports.VerbosityLevel=St;var wt={NONE:0,BINARY:1,STREAM:2};exports.CMapCompressionType=wt;var kt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};exports.OPS=kt;var xt={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};exports.UNSUPPORTED_FEATURES=xt;var Ct={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};exports.PasswordResponses=Ct;var Rt=St.WARNINGS,Pt=function(){function a(c){this.constructor===a&&P("Cannot initialize BaseException."),this.message=c,this.name=this.constructor.name}return a.prototype=new Error,a.constructor=a,a}();exports.BaseException=Pt;var Et=function(a){function c(a,h){var v;return g(this,c),v=y(this,_(c).call(this,a)),v.code=h,v}return A(c,a),c}(Pt);exports.PasswordException=Et;var Tt=function(a){function c(a,h){var v;return g(this,c),v=y(this,_(c).call(this,a)),v.details=h,v}return A(c,a),c}(Pt);exports.UnknownErrorException=Tt;var Ot=function(a){function c(){return g(this,c),y(this,_(c).apply(this,arguments))}return A(c,a),c}(Pt);exports.InvalidPDFException=Ot;var Lt=function(a){function c(){return g(this,c),y(this,_(c).apply(this,arguments))}return A(c,a),c}(Pt);exports.MissingPDFException=Lt;var Ft=function(a){function c(a,h){var v;return g(this,c),v=y(this,_(c).call(this,a)),v.status=h,v}return A(c,a),c}(Pt);exports.UnexpectedResponseException=Ft;var It=function(a){function c(){return g(this,c),y(this,_(c).apply(this,arguments))}return A(c,a),c}(Pt);exports.FormatError=It;var Mt=function(a){function c(){return g(this,c),y(this,_(c).apply(this,arguments))}return A(c,a),c}(Pt);exports.AbortException=Mt;var Nt=/\x00/g,jt=["rgb(",0,",",0,",",0,")"],Dt=function(){function a(){g(this,a)}return h(a,null,[{key:"makeCssRgb",value:function(r,a,c){return jt[1]=r,jt[3]=a,jt[5]=c,jt.join("")}},{key:"transform",value:function(a,c){return[a[0]*c[0]+a[2]*c[1],a[1]*c[0]+a[3]*c[1],a[0]*c[2]+a[2]*c[3],a[1]*c[2]+a[3]*c[3],a[0]*c[4]+a[2]*c[5]+a[4],a[1]*c[4]+a[3]*c[5]+a[5]]}},{key:"applyTransform",value:function(p,m){var a=p[0]*m[0]+p[1]*m[2]+m[4],c=p[0]*m[1]+p[1]*m[3]+m[5];return[a,c]}},{key:"applyInverseTransform",value:function(p,m){var d=m[0]*m[3]-m[1]*m[2],a=(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,c=(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d;return[a,c]}},{key:"getAxialAlignedBoundingBox",value:function(r,m){var c=a.applyTransform(r,m),h=a.applyTransform(r.slice(2,4),m),v=a.applyTransform([r[0],r[3]],m),g=a.applyTransform([r[2],r[1]],m);return[Math.min(c[0],h[0],v[0],g[0]),Math.min(c[1],h[1],v[1],g[1]),Math.max(c[0],h[0],v[0],g[0]),Math.max(c[1],h[1],v[1],g[1])]}},{key:"inverseTransform",value:function(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]}},{key:"apply3dTransform",value:function(m,a){return[m[0]*a[0]+m[1]*a[1]+m[2]*a[2],m[3]*a[0]+m[4]*a[1]+m[5]*a[2],m[6]*a[0]+m[7]*a[1]+m[8]*a[2]]}},{key:"singularValueDecompose2dScale",value:function(m){var a=[m[0],m[2],m[1],m[3]],c=m[0]*a[0]+m[1]*a[2],h=m[0]*a[1]+m[1]*a[3],v=m[2]*a[0]+m[3]*a[2],d=m[2]*a[1]+m[3]*a[3],g=(c+d)/2,y=Math.sqrt((c+d)*(c+d)-4*(c*d-v*h))/2,b=g+y||1,_=g-y||1;return[Math.sqrt(b),Math.sqrt(_)]}},{key:"normalizeRect",value:function(a){var r=a.slice(0);return a[0]>a[2]&&(r[0]=a[2],r[2]=a[0]),a[1]>a[3]&&(r[1]=a[3],r[3]=a[1]),r}},{key:"intersect",value:function(c,h){function v(a,c){return a-c}var g=[c[0],c[2],h[0],h[2]].sort(v),y=[c[1],c[3],h[1],h[3]].sort(v),b=[];return c=a.normalizeRect(c),h=a.normalizeRect(h),g[0]===c[0]&&g[1]===h[0]||g[0]===h[0]&&g[1]===c[0]?(b[0]=g[1],b[2]=g[2],y[0]===c[1]&&y[1]===h[1]||y[0]===h[1]&&y[1]===c[1]?(b[1]=y[1],b[3]=y[2],b):null):null}}]),a}();exports.Util=Dt;var qt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],Ut=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(!v&&URL.createObjectURL){var g=new Blob([c],{type:h});return URL.createObjectURL(g)}for(var y="data:".concat(h,";base64,"),i=0,b=c.length;b>i;i+=3){var _=255&c[i],A=255&c[i+1],S=255&c[i+2],w=_>>2,k=(3&_)<<4|A>>4,C=b>i+1?(15&A)<<2|S>>6:64,R=b>i+2?63&S:64;y+=a[w]+a[k]+a[C]+a[R]}return y}}();exports.createObjectURL=Ut},function(module,exports,a){"use strict";function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var h=a(3),v=h.globalScope;if(!v._pdfjsCompatibilityChecked){v._pdfjsCompatibilityChecked=!0;var g=a(4),y=g.isNodeJS,b="object"===("undefined"==typeof window?"undefined":c(window))&&"object"===("undefined"==typeof document?"undefined":c(document)),_="undefined"!=typeof navigator&&navigator.userAgent||"",A=/Trident/.test(_);!function(){!v.btoa&&y&&(v.btoa=function(a){return Buffer.from(a,"binary").toString("base64")})}(),function(){!v.atob&&y&&(v.atob=function(a){return Buffer.from(a,"base64").toString("binary")})}(),function(){b&&"undefined"==typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){if(b&&!y){var a=document.createElement("div");if(a.classList.add("testOne","testTwo"),a.classList.contains("testOne")!==!0||a.classList.contains("testTwo")!==!0){var c=DOMTokenList.prototype.add,h=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var a=arguments.length,h=new Array(a),v=0;a>v;v++)h[v]=arguments[v];for(var g=0,y=h;g<y.length;g++){var b=y[g];c.call(this,b)}},DOMTokenList.prototype.remove=function(){for(var a=arguments.length,c=new Array(a),v=0;a>v;v++)c[v]=arguments[v];for(var g=0,y=c;g<y.length;g++){var b=y[g];h.call(this,b)}}}}}(),function(){if(b&&!y){var a=document.createElement("div");a.classList.toggle("test",0)!==!1&&(DOMTokenList.prototype.toggle=function(a){var c=arguments.length>1?!!arguments[1]:!this.contains(a);return this[c?"add":"remove"](a),c})}}(),function(){if(b&&A){var a=window.history.pushState,c=window.history.replaceState;window.history.pushState=function(c,h,v){var g=void 0===v?[c,h]:[c,h,v];a.apply(this,g)},window.history.replaceState=function(a,h,v){var g=void 0===v?[a,h]:[a,h,v];c.apply(this,g)}}}(),function(){String.prototype.startsWith||a(5)}(),function(){String.prototype.endsWith||a(58)}(),function(){String.prototype.includes||a(60)}(),function(){Array.prototype.includes||a(62)}(),function(){Array.from||a(69)}(),function(){Object.assign||a(90)}(),function(){Math.log2||(Math.log2=a(93))}(),function(){Number.isNaN||(Number.isNaN=a(95))}(),function(){Number.isInteger||(Number.isInteger=a(97))}(),function(){v.Promise&&v.Promise.prototype&&v.Promise.prototype["finally"]||(v.Promise=a(100))}(),function(){v.URL=a(123)}(),function(){v.WeakMap||(v.WeakMap=a(130))}(),function(){v.WeakSet||(v.WeakSet=a(140))}(),function(){String.prototype.codePointAt||a(142)}(),function(){String.fromCodePoint||(String.fromCodePoint=a(144))}(),function(){v.Symbol||a(146)}(),function(){String.prototype.padStart||a(169)}(),function(){String.prototype.padEnd||a(174)}(),function(){Object.values||(Object.values=a(176))}()}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.globalScope=void 0;var a="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{};exports.globalScope=a},function(module,exports){"use strict";function a(c){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNodeJS=void 0;var c="object"===("undefined"==typeof process?"undefined":a(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;exports.isNodeJS=c},function(module,exports,a){a(6);var c=a(55);module.exports=c("String","startsWith")},function(module,exports,a){"use strict";var c=a(7),h=a(44),v=a(50),g=a(17),y=a(54),b="".startsWith,_=Math.min;c({target:"String",proto:!0,forced:!y("startsWith")},{startsWith:function(a){var c=String(g(this));v(a);var y=h(_(arguments.length>1?arguments[1]:void 0,c.length)),A=String(a);return b?b.call(c,A,y):c.slice(y,y+A.length)===A}})},function(module,exports,a){var c=a(8),h=a(9).f,v=a(23),g=a(26),y=a(30),b=a(37),_=a(49);module.exports=function(a,A){var S,w,k,C,R,P,E=a.target,T=a.global,O=a.stat;if(w=T?c:O?c[E]||y(E,{}):(c[E]||{}).prototype)for(k in A){if(R=A[k],a.noTargetGet?(P=h(w,k),C=P&&P.value):C=w[k],S=_(T?k:E+(O?".":"#")+k,a.forced),!S&&void 0!==C){if(typeof R==typeof C)continue;b(R,C)}(a.sham||C&&C.sham)&&v(R,"sham",!0),g(w,k,R,a)}}},function(module){var a=function(a){return a&&a.Math==Math&&a};module.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof global&&global)||Function("return this")()},function(module,exports,a){var c=a(10),h=a(12),v=a(13),g=a(14),y=a(18),b=a(20),_=a(21),A=Object.getOwnPropertyDescriptor;exports.f=c?A:function(a,c){if(a=g(a),c=y(c,!0),_)try{return A(a,c)}catch(S){}return b(a,c)?v(!h.f.call(a,c),a[c]):void 0}},function(module,exports,a){var c=a(11);module.exports=!c(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module){module.exports=function(a){try{return!!a()}catch(c){return!0}}},function(module,exports){"use strict";var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,h=c&&!a.call({1:2},1);exports.f=h?function(a){var h=c(this,a);return!!h&&h.enumerable}:a},function(module){module.exports=function(a,c){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:c}}},function(module,exports,a){var c=a(15),h=a(17);module.exports=function(a){return c(h(a))}},function(module,exports,a){var c=a(11),h=a(16),v="".split;module.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(a){return"String"==h(a)?v.call(a,""):Object(a)}:Object},function(module){var a={}.toString;module.exports=function(c){return a.call(c).slice(8,-1)}},function(module){module.exports=function(a){if(void 0==a)throw TypeError("Can't call method on "+a);return a}},function(module,exports,a){var c=a(19);module.exports=function(a,h){if(!c(a))return a;var v,g;if(h&&"function"==typeof(v=a.toString)&&!c(g=v.call(a)))return g;if("function"==typeof(v=a.valueOf)&&!c(g=v.call(a)))return g;if(!h&&"function"==typeof(v=a.toString)&&!c(g=v.call(a)))return g;throw TypeError("Can't convert object to primitive value")}},function(module){module.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},function(module){var a={}.hasOwnProperty;module.exports=function(c,h){return a.call(c,h)}},function(module,exports,a){var c=a(10),h=a(11),v=a(22);module.exports=!c&&!h(function(){return 7!=Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a})},function(module,exports,a){var c=a(8),h=a(19),v=c.document,g=h(v)&&h(v.createElement);module.exports=function(a){return g?v.createElement(a):{}}},function(module,exports,a){var c=a(10),h=a(24),v=a(13);module.exports=c?function(a,c,g){return h.f(a,c,v(1,g))}:function(a,c,h){return a[c]=h,a}},function(module,exports,a){var c=a(10),h=a(21),v=a(25),g=a(18),y=Object.defineProperty;exports.f=c?y:function(a,c,b){if(v(a),c=g(c,!0),v(b),h)try{return y(a,c,b)}catch(_){}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(a[c]=b.value),a}},function(module,exports,a){var c=a(19);module.exports=function(a){if(!c(a))throw TypeError(String(a)+" is not an object");return a}},function(module,exports,a){var c=a(8),h=a(27),v=a(23),g=a(20),y=a(30),b=a(31),_=a(32),A=_.get,S=_.enforce,w=String(b).split("toString");h("inspectSource",function(a){return b.call(a)}),(module.exports=function(a,h,b,_){var A=_?!!_.unsafe:!1,k=_?!!_.enumerable:!1,C=_?!!_.noTargetGet:!1;return"function"==typeof b&&("string"!=typeof h||g(b,"name")||v(b,"name",h),S(b).source=w.join("string"==typeof h?h:"")),a===c?void(k?a[h]=b:y(h,b)):(A?!C&&a[h]&&(k=!0):delete a[h],void(k?a[h]=b:v(a,h,b)))})(Function.prototype,"toString",function(){return"function"==typeof this&&A(this).source||b.call(this)})},function(module,exports,a){var c=a(28),h=a(29);(module.exports=function(a,c){return h[a]||(h[a]=void 0!==c?c:{})})("versions",[]).push({version:"3.4.0",mode:c?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(module){module.exports=!1},function(module,exports,a){var c=a(8),h=a(30),v="__core-js_shared__",g=c[v]||h(v,{});module.exports=g},function(module,exports,a){var c=a(8),h=a(23);module.exports=function(a,v){try{h(c,a,v)}catch(g){c[a]=v}return v}},function(module,exports,a){var c=a(27);module.exports=c("native-function-to-string",Function.toString)},function(module,exports,a){var c,h,v,g=a(33),y=a(8),b=a(19),_=a(23),A=a(20),S=a(34),w=a(36),k=y.WeakMap,C=function(a){return v(a)?h(a):c(a,{})},R=function(a){return function(c){var v;if(!b(c)||(v=h(c)).type!==a)throw TypeError("Incompatible receiver, "+a+" required");return v}};if(g){var P=new k,E=P.get,T=P.has,O=P.set;c=function(a,c){return O.call(P,a,c),c},h=function(a){return E.call(P,a)||{}},v=function(a){return T.call(P,a)}}else{var L=S("state");w[L]=!0,c=function(a,c){return _(a,L,c),c},h=function(a){return A(a,L)?a[L]:{}},v=function(a){return A(a,L)}}module.exports={set:c,get:h,has:v,enforce:C,getterFor:R}},function(module,exports,a){var c=a(8),h=a(31),v=c.WeakMap;module.exports="function"==typeof v&&/native code/.test(h.call(v))},function(module,exports,a){var c=a(27),h=a(35),v=c("keys");module.exports=function(a){return v[a]||(v[a]=h(a))}},function(module){var a=0,c=Math.random();module.exports=function(h){return"Symbol("+String(void 0===h?"":h)+")_"+(++a+c).toString(36)}},function(module){module.exports={}},function(module,exports,a){var c=a(20),h=a(38),v=a(9),g=a(24);module.exports=function(a,y){for(var b=h(y),_=g.f,A=v.f,i=0;i<b.length;i++){var S=b[i];c(a,S)||_(a,S,A(y,S))}}},function(module,exports,a){var c=a(39),h=a(41),v=a(48),g=a(25);module.exports=c("Reflect","ownKeys")||function(a){var c=h.f(g(a)),y=v.f;return y?c.concat(y(a)):c}},function(module,exports,a){var c=a(40),h=a(8),v=function(a){return"function"==typeof a?a:void 0};module.exports=function(a,g){return arguments.length<2?v(c[a])||v(h[a]):c[a]&&c[a][g]||h[a]&&h[a][g]}},function(module,exports,a){module.exports=a(8)},function(module,exports,a){var c=a(42),h=a(47),v=h.concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(a){return c(a,v)}},function(module,exports,a){var c=a(20),h=a(14),v=a(43).indexOf,g=a(36);module.exports=function(a,y){var b,_=h(a),i=0,A=[];for(b in _)!c(g,b)&&c(_,b)&&A.push(b);for(;y.length>i;)c(_,b=y[i++])&&(~v(A,b)||A.push(b));return A}},function(module,exports,a){var c=a(14),h=a(44),v=a(46),g=function(a){return function(g,y,b){var _,A=c(g),S=h(A.length),w=v(b,S);if(a&&y!=y){for(;S>w;)if(_=A[w++],_!=_)return!0}else for(;S>w;w++)if((a||w in A)&&A[w]===y)return a||w||0;return!a&&-1}};module.exports={includes:g(!0),indexOf:g(!1)}},function(module,exports,a){var c=a(45),h=Math.min;module.exports=function(a){return a>0?h(c(a),9007199254740991):0}},function(module){var a=Math.ceil,c=Math.floor;module.exports=function(h){return isNaN(h=+h)?0:(h>0?c:a)(h)}},function(module,exports,a){var c=a(45),h=Math.max,v=Math.min;module.exports=function(a,g){var y=c(a);return 0>y?h(y+g,0):v(y,g)}},function(module){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,a){var c=a(11),h=/#|\.prototype\./,v=function(a,h){var v=y[g(a)];return v==_?!0:v==b?!1:"function"==typeof h?c(h):!!h},g=v.normalize=function(a){return String(a).replace(h,".").toLowerCase()},y=v.data={},b=v.NATIVE="N",_=v.POLYFILL="P";module.exports=v},function(module,exports,a){var c=a(51);module.exports=function(a){if(c(a))throw TypeError("The method doesn't accept regular expressions");return a}},function(module,exports,a){var c=a(19),h=a(16),v=a(52),g=v("match");module.exports=function(a){var v;return c(a)&&(void 0!==(v=a[g])?!!v:"RegExp"==h(a))}},function(module,exports,a){var c=a(8),h=a(27),v=a(35),g=a(53),y=c.Symbol,b=h("wks");module.exports=function(a){return b[a]||(b[a]=g&&y[a]||(g?y:v)("Symbol."+a))}},function(module,exports,a){var c=a(11);module.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},function(module,exports,a){var c=a(52),h=c("match");module.exports=function(a){var c=/./;try{"/./"[a](c)}catch(e){try{return c[h]=!1,"/./"[a](c)}catch(f){}}return!1}},function(module,exports,a){var c=a(8),h=a(56),v=Function.call;module.exports=function(a,g,y){return h(v,c[a].prototype[g],y)}},function(module,exports,a){var c=a(57);module.exports=function(a,h,v){if(c(a),void 0===h)return a;switch(v){case 0:return function(){return a.call(h)};case 1:return function(c){return a.call(h,c)};case 2:return function(c,v){return a.call(h,c,v)};case 3:return function(c,v,g){return a.call(h,c,v,g)}}return function(){return a.apply(h,arguments)}}},function(module){module.exports=function(a){if("function"!=typeof a)throw TypeError(String(a)+" is not a function");return a}},function(module,exports,a){a(59);var c=a(55);module.exports=c("String","endsWith")},function(module,exports,a){"use strict";var c=a(7),h=a(44),v=a(50),g=a(17),y=a(54),b="".endsWith,_=Math.min;c({target:"String",proto:!0,forced:!y("endsWith")},{endsWith:function(a){var c=String(g(this));v(a);var y=arguments.length>1?arguments[1]:void 0,A=h(c.length),S=void 0===y?A:_(h(y),A),w=String(a);return b?b.call(c,w,S):c.slice(S-w.length,S)===w}})},function(module,exports,a){a(61);var c=a(55);module.exports=c("String","includes")},function(module,exports,a){"use strict";var c=a(7),h=a(50),v=a(17),g=a(54);c({target:"String",proto:!0,forced:!g("includes")},{includes:function(a){return!!~String(v(this)).indexOf(h(a),arguments.length>1?arguments[1]:void 0)}})},function(module,exports,a){a(63);var c=a(55);module.exports=c("Array","includes")},function(module,exports,a){"use strict";var c=a(7),h=a(43).includes,v=a(64);c({target:"Array",proto:!0},{includes:function(a){return h(this,a,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(module,exports,a){var c=a(52),h=a(65),v=a(23),g=c("unscopables"),y=Array.prototype;
void 0==y[g]&&v(y,g,h(null)),module.exports=function(a){y[g][a]=!0}},function(module,exports,a){var c=a(25),h=a(66),v=a(47),g=a(36),y=a(68),b=a(22),_=a(34),A=_("IE_PROTO"),S="prototype",w=function(){},k=function(){var a,c=b("iframe"),h=v.length,g="<",_="script",A=">",w="java"+_+":";for(c.style.display="none",y.appendChild(c),c.src=String(w),a=c.contentWindow.document,a.open(),a.write(g+_+A+"document.F=Object"+g+"/"+_+A),a.close(),k=a.F;h--;)delete k[S][v[h]];return k()};module.exports=Object.create||function(a,v){var g;return null!==a?(w[S]=c(a),g=new w,w[S]=null,g[A]=a):g=k(),void 0===v?g:h(g,v)},g[A]=!0},function(module,exports,a){var c=a(10),h=a(24),v=a(25),g=a(67);module.exports=c?Object.defineProperties:function(a,c){v(a);for(var y,b=g(c),_=b.length,A=0;_>A;)h.f(a,y=b[A++],c[y]);return a}},function(module,exports,a){var c=a(42),h=a(47);module.exports=Object.keys||function(a){return c(a,h)}},function(module,exports,a){var c=a(39);module.exports=c("document","documentElement")},function(module,exports,a){a(70),a(82);var c=a(40);module.exports=c.Array.from},function(module,exports,a){"use strict";var c=a(71).charAt,h=a(32),v=a(72),g="String Iterator",y=h.set,b=h.getterFor(g);v(String,"String",function(a){y(this,{type:g,string:String(a),index:0})},function(){var a,h=b(this),v=h.string,g=h.index;return g>=v.length?{value:void 0,done:!0}:(a=c(v,g),h.index+=a.length,{value:a,done:!1})})},function(module,exports,a){var c=a(45),h=a(17),v=function(a){return function(v,g){var y,b,_=String(h(v)),A=c(g),S=_.length;return 0>A||A>=S?a?"":void 0:(y=_.charCodeAt(A),55296>y||y>56319||A+1===S||(b=_.charCodeAt(A+1))<56320||b>57343?a?_.charAt(A):y:a?_.slice(A,A+2):(y-55296<<10)+(b-56320)+65536)}};module.exports={codeAt:v(!1),charAt:v(!0)}},function(module,exports,a){"use strict";var c=a(7),h=a(73),v=a(75),g=a(80),y=a(78),b=a(23),_=a(26),A=a(52),S=a(28),w=a(79),k=a(74),C=k.IteratorPrototype,R=k.BUGGY_SAFARI_ITERATORS,P=A("iterator"),E="keys",T="values",O="entries",L=function(){return this};module.exports=function(a,A,k,F,I,M,N){h(k,A,F);var j,D,U,W=function(a){if(a===I&&X)return X;if(!R&&a in z)return z[a];switch(a){case E:return function(){return new k(this,a)};case T:return function(){return new k(this,a)};case O:return function(){return new k(this,a)}}return function(){return new k(this)}},B=A+" Iterator",G=!1,z=a.prototype,H=z[P]||z["@@iterator"]||I&&z[I],X=!R&&H||W(I),Y="Array"==A?z.entries||H:H;if(Y&&(j=v(Y.call(new a)),C!==Object.prototype&&j.next&&(S||v(j)===C||(g?g(j,C):"function"!=typeof j[P]&&b(j,P,L)),y(j,B,!0,!0),S&&(w[B]=L))),I==T&&H&&H.name!==T&&(G=!0,X=function(){return H.call(this)}),S&&!N||z[P]===X||b(z,P,X),w[A]=X,I)if(D={values:W(T),keys:M?X:W(E),entries:W(O)},N)for(U in D)!R&&!G&&U in z||_(z,U,D[U]);else c({target:A,proto:!0,forced:R||G},D);return D}},function(module,exports,a){"use strict";var c=a(74).IteratorPrototype,h=a(65),v=a(13),g=a(78),y=a(79),b=function(){return this};module.exports=function(a,_,A){var S=_+" Iterator";return a.prototype=h(c,{next:v(1,A)}),g(a,S,!1,!0),y[S]=b,a}},function(module,exports,a){"use strict";var c,h,v,g=a(75),y=a(23),b=a(20),_=a(52),A=a(28),S=_("iterator"),w=!1,k=function(){return this};[].keys&&(v=[].keys(),"next"in v?(h=g(g(v)),h!==Object.prototype&&(c=h)):w=!0),void 0==c&&(c={}),A||b(c,S)||y(c,S,k),module.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:w}},function(module,exports,a){var c=a(20),h=a(76),v=a(34),g=a(77),y=v("IE_PROTO"),b=Object.prototype;module.exports=g?Object.getPrototypeOf:function(a){return a=h(a),c(a,y)?a[y]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?b:null}},function(module,exports,a){var c=a(17);module.exports=function(a){return Object(c(a))}},function(module,exports,a){var c=a(11);module.exports=!c(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},function(module,exports,a){var c=a(24).f,h=a(20),v=a(52),g=v("toStringTag");module.exports=function(a,v,y){a&&!h(a=y?a:a.prototype,g)&&c(a,g,{configurable:!0,value:v})}},function(module){module.exports={}},function(module,exports,a){var c=a(25),h=a(81);module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,v=!1,g={};try{a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,a.call(g,[]),v=g instanceof Array}catch(y){}return function(g,y){return c(g),h(y),v?a.call(g,y):g.__proto__=y,g}}():void 0)},function(module,exports,a){var c=a(19);module.exports=function(a){if(!c(a)&&null!==a)throw TypeError("Can't set "+String(a)+" as a prototype");return a}},function(module,exports,a){var c=a(7),h=a(83),v=a(89),g=!v(function(a){Array.from(a)});c({target:"Array",stat:!0,forced:g},{from:h})},function(module,exports,a){"use strict";var c=a(56),h=a(76),v=a(84),g=a(85),y=a(44),b=a(86),_=a(87);module.exports=function(a){var A,S,w,k,C,R=h(a),P="function"==typeof this?this:Array,E=arguments.length,T=E>1?arguments[1]:void 0,O=void 0!==T,L=0,F=_(R);if(O&&(T=c(T,E>2?arguments[2]:void 0,2)),void 0==F||P==Array&&g(F))for(A=y(R.length),S=new P(A);A>L;L++)b(S,L,O?T(R[L],L):R[L]);else for(k=F.call(R),C=k.next,S=new P;!(w=C.call(k)).done;L++)b(S,L,O?v(k,T,[w.value,L],!0):w.value);return S.length=L,S}},function(module,exports,a){var c=a(25);module.exports=function(a,h,v,g){try{return g?h(c(v)[0],v[1]):h(v)}catch(y){var b=a["return"];throw void 0!==b&&c(b.call(a)),y}}},function(module,exports,a){var c=a(52),h=a(79),v=c("iterator"),g=Array.prototype;module.exports=function(a){return void 0!==a&&(h.Array===a||g[v]===a)}},function(module,exports,a){"use strict";var c=a(18),h=a(24),v=a(13);module.exports=function(a,g,y){var b=c(g);b in a?h.f(a,b,v(0,y)):a[b]=y}},function(module,exports,a){var c=a(88),h=a(79),v=a(52),g=v("iterator");module.exports=function(a){return void 0!=a?a[g]||a["@@iterator"]||h[c(a)]:void 0}},function(module,exports,a){var c=a(16),h=a(52),v=h("toStringTag"),g="Arguments"==c(function(){return arguments}()),y=function(a,c){try{return a[c]}catch(h){}};module.exports=function(a){var h,b,_;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(b=y(h=Object(a),v))?b:g?c(h):"Object"==(_=c(h))&&"function"==typeof h.callee?"Arguments":_}},function(module,exports,a){var c=a(52),h=c("iterator"),v=!1;try{var g=0,y={next:function(){return{done:!!g++}},"return":function(){v=!0}};y[h]=function(){return this},Array.from(y,function(){throw 2})}catch(b){}module.exports=function(a,c){if(!c&&!v)return!1;var g=!1;try{var y={};y[h]=function(){return{next:function(){return{done:g=!0}}}},a(y)}catch(b){}return g}},function(module,exports,a){a(91);var c=a(40);module.exports=c.Object.assign},function(module,exports,a){var c=a(7),h=a(92);c({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(module,exports,a){"use strict";var c=a(10),h=a(11),v=a(67),g=a(48),y=a(12),b=a(76),_=a(15),A=Object.assign;module.exports=!A||h(function(){var a={},c={},h=Symbol(),g="abcdefghijklmnopqrst";return a[h]=7,g.split("").forEach(function(a){c[a]=a}),7!=A({},a)[h]||v(A({},c)).join("")!=g})?function(a){for(var h=b(a),A=arguments.length,S=1,w=g.f,k=y.f;A>S;)for(var C,R=_(arguments[S++]),P=w?v(R).concat(w(R)):v(R),E=P.length,T=0;E>T;)C=P[T++],(!c||k.call(R,C))&&(h[C]=R[C]);return h}:A},function(module,exports,a){a(94);var c=a(40);module.exports=c.Math.log2},function(module,exports,a){var c=a(7),h=Math.log,v=Math.LN2;c({target:"Math",stat:!0},{log2:function(x){return h(x)/v}})},function(module,exports,a){a(96);var c=a(40);module.exports=c.Number.isNaN},function(module,exports,a){var c=a(7);c({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},function(module,exports,a){a(98);var c=a(40);module.exports=c.Number.isInteger},function(module,exports,a){var c=a(7),h=a(99);c({target:"Number",stat:!0},{isInteger:h})},function(module,exports,a){var c=a(19),h=Math.floor;module.exports=function(a){return!c(a)&&isFinite(a)&&h(a)===a}},function(module,exports,a){a(101),a(70),a(103),a(106),a(121),a(122);var c=a(40);module.exports=c.Promise},function(module,exports,a){var c=a(26),h=a(102),v=Object.prototype;h!==v.toString&&c(v,"toString",h,{unsafe:!0})},function(module,exports,a){"use strict";var c=a(88),h=a(52),v=h("toStringTag"),g={};g[v]="z",module.exports="[object z]"!==String(g)?function(){return"[object "+c(this)+"]"}:g.toString},function(module,exports,a){var c=a(8),h=a(104),v=a(105),g=a(23),y=a(52),b=y("iterator"),_=y("toStringTag"),A=v.values;for(var S in h){var w=c[S],k=w&&w.prototype;if(k){if(k[b]!==A)try{g(k,b,A)}catch(C){k[b]=A}if(k[_]||g(k,_,S),h[S])for(var R in v)if(k[R]!==v[R])try{g(k,R,v[R])}catch(C){k[R]=v[R]}}}},function(module){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(module,exports,a){"use strict";var c=a(14),h=a(64),v=a(79),g=a(32),y=a(72),b="Array Iterator",_=g.set,A=g.getterFor(b);module.exports=y(Array,"Array",function(a,h){_(this,{type:b,target:c(a),index:0,kind:h})},function(){var a=A(this),c=a.target,h=a.kind,v=a.index++;return!c||v>=c.length?(a.target=void 0,{value:void 0,done:!0}):"keys"==h?{value:v,done:!1}:"values"==h?{value:c[v],done:!1}:{value:[v,c[v]],done:!1}},"values"),v.Arguments=v.Array,h("keys"),h("values"),h("entries")},function(module,exports,a){"use strict";var c,h,v,g,y=a(7),b=a(28),_=a(8),A=a(39),S=a(107),w=a(26),k=a(108),C=a(78),R=a(109),P=a(19),E=a(57),T=a(110),O=a(16),L=a(111),F=a(89),I=a(112),M=a(113).set,N=a(115),j=a(116),D=a(118),U=a(117),W=a(119),B=a(32),G=a(49),z=a(52),H=a(120),X=z("species"),Y="Promise",V=B.get,Q=B.set,K=B.getterFor(Y),J=S,Z=_.TypeError,$=_.document,et=_.process,tt=A("fetch"),nt=U.f,it=nt,at="process"==O(et),ot=!!($&&$.createEvent&&_.dispatchEvent),st="unhandledrejection",ut="rejectionhandled",ct=0,lt=1,ht=2,ft=1,dt=2,pt=G(Y,function(){if(66===H)return!0;if(!at&&"function"!=typeof PromiseRejectionEvent)return!0;if(b&&!J.prototype["finally"])return!0;if(H>=51&&/native code/.test(J))return!1;var a=J.resolve(1),c=function(a){a(function(){},function(){})},h=a.constructor={};return h[X]=c,!(a.then(function(){})instanceof c)}),vt=pt||!F(function(a){J.all(a)["catch"](function(){})}),gt=function(a){var c;return P(a)&&"function"==typeof(c=a.then)?c:!1},mt=function(a,c,h){if(!c.notified){c.notified=!0;var v=c.reactions;N(function(){for(var g=c.value,y=c.state==lt,b=0;v.length>b;){var _,A,S,w=v[b++],k=y?w.ok:w.fail,C=w.resolve,R=w.reject,P=w.domain;try{k?(y||(c.rejection===dt&&At(a,c),c.rejection=ft),k===!0?_=g:(P&&P.enter(),_=k(g),P&&(P.exit(),S=!0)),_===w.promise?R(Z("Promise-chain cycle")):(A=gt(_))?A.call(_,C,R):C(_)):R(g)}catch(E){P&&!S&&P.exit(),R(E)}}c.reactions=[],c.notified=!1,h&&!c.rejection&&bt(a,c)})}},yt=function(a,c,h){var v,g;ot?(v=$.createEvent("Event"),v.promise=c,v.reason=h,v.initEvent(a,!1,!0),_.dispatchEvent(v)):v={promise:c,reason:h},(g=_["on"+a])?g(v):a===st&&D("Unhandled promise rejection",h)},bt=function(a,c){M.call(_,function(){var h,v=c.value,g=_t(c);if(g&&(h=W(function(){at?et.emit("unhandledRejection",v,a):yt(st,a,v)}),c.rejection=at||_t(c)?dt:ft,h.error))throw h.value})},_t=function(a){return a.rejection!==ft&&!a.parent},At=function(a,c){M.call(_,function(){at?et.emit("rejectionHandled",a):yt(ut,a,c.value)})},St=function(a,c,h,v){return function(g){a(c,h,g,v)}},wt=function(a,c,h,v){c.done||(c.done=!0,v&&(c=v),c.value=h,c.state=ht,mt(a,c,!0))},kt=function(a,c,h,v){if(!c.done){c.done=!0,v&&(c=v);try{if(a===h)throw Z("Promise can't be resolved itself");var g=gt(h);g?N(function(){var v={done:!1};try{g.call(h,St(kt,a,v,c),St(wt,a,v,c))}catch(y){wt(a,v,y,c)}}):(c.value=h,c.state=lt,mt(a,c,!1))}catch(y){wt(a,{done:!1},y,c)}}};pt&&(J=function(a){T(this,J,Y),E(a),c.call(this);var h=V(this);try{a(St(kt,this,h),St(wt,this,h))}catch(v){wt(this,h,v)}},c=function(){Q(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:ct,value:void 0})},c.prototype=k(J.prototype,{then:function(a,c){var h=K(this),v=nt(I(this,J));return v.ok="function"==typeof a?a:!0,v.fail="function"==typeof c&&c,v.domain=at?et.domain:void 0,h.parent=!0,h.reactions.push(v),h.state!=ct&&mt(this,h,!1),v.promise},"catch":function(a){return this.then(void 0,a)}}),h=function(){var a=new c,h=V(a);this.promise=a,this.resolve=St(kt,a,h),this.reject=St(wt,a,h)},U.f=nt=function(a){return a===J||a===v?new h(a):it(a)},b||"function"!=typeof S||(g=S.prototype.then,w(S.prototype,"then",function(a,c){var h=this;return new J(function(a,c){g.call(h,a,c)}).then(a,c)},{unsafe:!0}),"function"==typeof tt&&y({global:!0,enumerable:!0,forced:!0},{fetch:function(){return j(J,tt.apply(_,arguments))}}))),y({global:!0,wrap:!0,forced:pt},{Promise:J}),C(J,Y,!1,!0),R(Y),v=A(Y),y({target:Y,stat:!0,forced:pt},{reject:function(r){var a=nt(this);return a.reject.call(void 0,r),a.promise}}),y({target:Y,stat:!0,forced:b||pt},{resolve:function(x){return j(b&&this===v?J:this,x)}}),y({target:Y,stat:!0,forced:vt},{all:function(a){var c=this,h=nt(c),v=h.resolve,g=h.reject,y=W(function(){var h=E(c.resolve),y=[],b=0,_=1;L(a,function(a){var A=b++,S=!1;y.push(void 0),_++,h.call(c,a).then(function(a){S||(S=!0,y[A]=a,--_||v(y))},g)}),--_||v(y)});return y.error&&g(y.value),h.promise},race:function(a){var c=this,h=nt(c),v=h.reject,g=W(function(){var g=E(c.resolve);L(a,function(a){g.call(c,a).then(h.resolve,v)})});return g.error&&v(g.value),h.promise}})},function(module,exports,a){var c=a(8);module.exports=c.Promise},function(module,exports,a){var c=a(26);module.exports=function(a,h,v){for(var g in h)c(a,g,h[g],v);return a}},function(module,exports,a){"use strict";var c=a(39),h=a(24),v=a(52),g=a(10),y=v("species");module.exports=function(a){var v=c(a),b=h.f;g&&v&&!v[y]&&b(v,y,{configurable:!0,get:function(){return this}})}},function(module){module.exports=function(a,c,h){if(!(a instanceof c))throw TypeError("Incorrect "+(h?h+" ":"")+"invocation");return a}},function(module,exports,a){var c=a(25),h=a(85),v=a(44),g=a(56),y=a(87),b=a(84),_=function(a,c){this.stopped=a,this.result=c},A=module.exports=function(a,A,S,w,k){var C,R,P,E,T,O,L,F=g(A,S,w?2:1);if(k)C=a;else{if(R=y(a),"function"!=typeof R)throw TypeError("Target is not iterable");if(h(R)){for(P=0,E=v(a.length);E>P;P++)if(T=w?F(c(L=a[P])[0],L[1]):F(a[P]),T&&T instanceof _)return T;return new _(!1)}C=R.call(a)}for(O=C.next;!(L=O.call(C)).done;)if(T=b(C,F,L.value,w),"object"==typeof T&&T&&T instanceof _)return T;return new _(!1)};A.stop=function(a){return new _(!0,a)}},function(module,exports,a){var c=a(25),h=a(57),v=a(52),g=v("species");module.exports=function(a,v){var y,b=c(a).constructor;return void 0===b||void 0==(y=c(b)[g])?v:h(y)}},function(module,exports,a){var c,h,port,v=a(8),g=a(11),y=a(16),b=a(56),_=a(68),A=a(22),S=a(114),w=v.location,k=v.setImmediate,C=v.clearImmediate,R=v.process,P=v.MessageChannel,E=v.Dispatch,T=0,O={},L="onreadystatechange",F=function(a){if(O.hasOwnProperty(a)){var c=O[a];delete O[a],c()}},I=function(a){return function(){F(a)}},M=function(a){F(a.data)},N=function(a){v.postMessage(a+"",w.protocol+"//"+w.host)};k&&C||(k=function(a){for(var h=[],i=1;arguments.length>i;)h.push(arguments[i++]);return O[++T]=function(){("function"==typeof a?a:Function(a)).apply(void 0,h)},c(T),T},C=function(a){delete O[a]},"process"==y(R)?c=function(a){R.nextTick(I(a))}:E&&E.now?c=function(a){E.now(I(a))}:P&&!/(iphone|ipod|ipad).*applewebkit/i.test(S)?(h=new P,port=h.port2,h.port1.onmessage=M,c=b(port.postMessage,port,1)):!v.addEventListener||"function"!=typeof postMessage||v.importScripts||g(N)?c=L in A("script")?function(a){_.appendChild(A("script"))[L]=function(){_.removeChild(this),F(a)}}:function(a){setTimeout(I(a),0)}:(c=N,v.addEventListener("message",M,!1))),module.exports={set:k,clear:C}},function(module,exports,a){var c=a(39);module.exports=c("navigator","userAgent")||""},function(module,exports,a){var c,h,v,g,y,b,_,A,S=a(8),w=a(9).f,k=a(16),C=a(113).set,R=a(114),P=S.MutationObserver||S.WebKitMutationObserver,E=S.process,T=S.Promise,O="process"==k(E),L=w(S,"queueMicrotask"),F=L&&L.value;F||(c=function(){var a,c;for(O&&(a=E.domain)&&a.exit();h;){c=h.fn,h=h.next;try{c()}catch(y){throw h?g():v=void 0,y}}v=void 0,a&&a.enter()},O?g=function(){E.nextTick(c)}:P&&!/(iphone|ipod|ipad).*applewebkit/i.test(R)?(y=!0,b=document.createTextNode(""),new P(c).observe(b,{characterData:!0}),g=function(){b.data=y=!y}):T&&T.resolve?(_=T.resolve(void 0),A=_.then,g=function(){A.call(_,c)}):g=function(){C.call(S,c)}),module.exports=F||function(a){var c={fn:a,next:void 0};v&&(v.next=c),h||(h=c,g()),v=c}},function(module,exports,a){var c=a(25),h=a(19),v=a(117);module.exports=function(a,x){if(c(a),h(x)&&x.constructor===a)return x;var g=v.f(a),y=g.resolve;return y(x),g.promise}},function(module,exports,a){"use strict";var c=a(57),h=function(a){var h,v;this.promise=new a(function(a,c){if(void 0!==h||void 0!==v)throw TypeError("Bad Promise constructor");h=a,v=c}),this.resolve=c(h),this.reject=c(v)};module.exports.f=function(a){return new h(a)}},function(module,exports,a){var c=a(8);module.exports=function(a,h){var v=c.console;v&&v.error&&(1===arguments.length?v.error(a):v.error(a,h))}},function(module){module.exports=function(a){try{return{error:!1,value:a()}}catch(c){return{error:!0,value:c}}}},function(module,exports,a){var c,h,v=a(8),g=a(114),y=v.process,b=y&&y.versions,_=b&&b.v8;_?(c=_.split("."),h=c[0]+c[1]):g&&(c=g.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=g.match(/Chrome\/(\d+)/),c&&(h=c[1]))),module.exports=h&&+h},function(module,exports,a){"use strict";var c=a(7),h=a(57),v=a(117),g=a(119),y=a(111);c({target:"Promise",stat:!0},{allSettled:function(a){var c=this,b=v.f(c),_=b.resolve,A=b.reject,S=g(function(){var v=h(c.resolve),g=[],b=0,A=1;y(a,function(a){var h=b++,y=!1;g.push(void 0),A++,v.call(c,a).then(function(a){y||(y=!0,g[h]={status:"fulfilled",value:a},--A||_(g))},function(e){y||(y=!0,g[h]={status:"rejected",reason:e},--A||_(g))})}),--A||_(g)});return S.error&&A(S.value),b.promise}})},function(module,exports,a){"use strict";var c=a(7),h=a(28),v=a(107),g=a(39),y=a(112),b=a(116),_=a(26);c({target:"Promise",proto:!0,real:!0},{"finally":function(a){var c=y(this,g("Promise")),h="function"==typeof a;return this.then(h?function(x){return b(c,a()).then(function(){return x})}:a,h?function(e){return b(c,a()).then(function(){throw e})}:a)}}),h||"function"!=typeof v||v.prototype["finally"]||_(v.prototype,"finally",g("Promise").prototype["finally"])},function(module,exports,a){a(124),a(129),a(127);var c=a(40);module.exports=c.URL},function(module,exports,a){"use strict";a(70);var c,h=a(7),v=a(10),g=a(125),y=a(8),b=a(66),_=a(26),A=a(110),S=a(20),w=a(92),k=a(83),C=a(71).codeAt,R=a(126),P=a(78),E=a(127),T=a(32),O=y.URL,L=E.URLSearchParams,F=E.getState,I=T.set,M=T.getterFor("URL"),N=Math.floor,j=Math.pow,D="Invalid authority",U="Invalid scheme",W="Invalid host",B="Invalid port",G=/[A-Za-z]/,z=/[\d+\-.A-Za-z]/,H=/\d/,X=/^(0x|0X)/,Y=/^[0-7]+$/,V=/^\d+$/,Q=/^[\dA-Fa-f]+$/,K=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,J=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,Z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,$=/[\u0009\u000A\u000D]/g,et=function(a,c){var h,v,g;if("["==c.charAt(0)){if("]"!=c.charAt(c.length-1))return W;if(h=nt(c.slice(1,-1)),!h)return W;a.host=h}else if(ft(a)){if(c=R(c),K.test(c))return W;if(h=tt(c),null===h)return W;a.host=h}else{if(J.test(c))return W;for(h="",v=k(c),g=0;g<v.length;g++)h+=lt(v[g],ot);a.host=h}},tt=function(a){var c,h,v,g,y,b,_,A=a.split(".");if(A.length&&""==A[A.length-1]&&A.pop(),c=A.length,c>4)return a;for(h=[],v=0;c>v;v++){if(g=A[v],""==g)return a;if(y=10,g.length>1&&"0"==g.charAt(0)&&(y=X.test(g)?16:8,g=g.slice(8==y?1:2)),""===g)b=0;else{if(!(10==y?V:8==y?Y:Q).test(g))return a;b=parseInt(g,y)}h.push(b)}for(v=0;c>v;v++)if(b=h[v],v==c-1){if(b>=j(256,5-c))return null}else if(b>255)return null;for(_=h.pop(),v=0;v<h.length;v++)_+=h[v]*j(256,3-v);return _},nt=function(a){var c,h,v,g,y,b,_,A=[0,0,0,0,0,0,0,0],S=0,w=null,k=0,C=function(){return a.charAt(k)};if(":"==C()){if(":"!=a.charAt(1))return;k+=2,S++,w=S}for(;C();){if(8==S)return;if(":"!=C()){for(c=h=0;4>h&&Q.test(C());)c=16*c+parseInt(C(),16),k++,h++;if("."==C()){if(0==h)return;if(k-=h,S>6)return;for(v=0;C();){if(g=null,v>0){if(!("."==C()&&4>v))return;k++}if(!H.test(C()))return;for(;H.test(C());){if(y=parseInt(C(),10),null===g)g=y;else{if(0==g)return;g=10*g+y}if(g>255)return;k++}A[S]=256*A[S]+g,v++,(2==v||4==v)&&S++}if(4!=v)return;break}if(":"==C()){if(k++,!C())return}else if(C())return;A[S++]=c}else{if(null!==w)return;k++,S++,w=S}}if(null!==w)for(b=S-w,S=7;0!=S&&b>0;)_=A[S],A[S--]=A[w+b-1],A[w+--b]=_;else if(8!=S)return;return A},it=function(a){for(var c=null,h=1,v=null,g=0,y=0;8>y;y++)0!==a[y]?(g>h&&(c=v,h=g),v=null,g=0):(null===v&&(v=y),++g);return g>h&&(c=v,h=g),c},at=function(a){var c,h,v,g;if("number"==typeof a){for(c=[],h=0;4>h;h++)c.unshift(a%256),a=N(a/256);return c.join(".")}if("object"==typeof a){for(c="",v=it(a),h=0;8>h;h++)g&&0===a[h]||(g&&(g=!1),v===h?(c+=h?":":"::",g=!0):(c+=a[h].toString(16),7>h&&(c+=":")));return"["+c+"]"}return a},ot={},st=w({},ot,{" ":1,'"':1,"<":1,">":1,"`":1}),ut=w({},st,{"#":1,"?":1,"{":1,"}":1}),ct=w({},ut,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(a,c){var h=C(a,0);return h>32&&127>h&&!S(c,a)?a:encodeURIComponent(a)},ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ft=function(a){return S(ht,a.scheme)},dt=function(a){return""!=a.username||""!=a.password},pt=function(a){return!a.host||a.cannotBeABaseURL||"file"==a.scheme},vt=function(a,c){var h;return 2==a.length&&G.test(a.charAt(0))&&(":"==(h=a.charAt(1))||!c&&"|"==h)},gt=function(a){var c;return a.length>1&&vt(a.slice(0,2))&&(2==a.length||"/"===(c=a.charAt(2))||"\\"===c||"?"===c||"#"===c)},mt=function(a){var c=a.path,h=c.length;!h||"file"==a.scheme&&1==h&&vt(c[0],!0)||c.pop()},yt=function(a){return"."===a||"%2e"===a.toLowerCase()},bt=function(a){return a=a.toLowerCase(),".."===a||"%2e."===a||".%2e"===a||"%2e%2e"===a},_t={},At={},St={},wt={},kt={},xt={},Ct={},Rt={},Pt={},Et={},Tt={},Ot={},Lt={},Ft={},It={},Mt={},Nt={},jt={},Dt={},qt={},Ut={},Wt=function(a,h,v,g){var y,b,_,A,w=v||_t,C=0,R="",P=!1,E=!1,T=!1;for(v||(a.scheme="",a.username="",a.password="",a.host=null,a.port=null,a.path=[],a.query=null,a.fragment=null,a.cannotBeABaseURL=!1,h=h.replace(Z,"")),h=h.replace($,""),y=k(h);C<=y.length;){switch(b=y[C],w){case _t:if(!b||!G.test(b)){if(v)return U;w=St;continue}R+=b.toLowerCase(),w=At;break;case At:if(b&&(z.test(b)||"+"==b||"-"==b||"."==b))R+=b.toLowerCase();else{if(":"!=b){if(v)return U;R="",w=St,C=0;continue}if(v&&(ft(a)!=S(ht,R)||"file"==R&&(dt(a)||null!==a.port)||"file"==a.scheme&&!a.host))return;if(a.scheme=R,v)return void(ft(a)&&ht[a.scheme]==a.port&&(a.port=null));R="","file"==a.scheme?w=Ft:ft(a)&&g&&g.scheme==a.scheme?w=wt:ft(a)?w=Rt:"/"==y[C+1]?(w=kt,C++):(a.cannotBeABaseURL=!0,a.path.push(""),w=Dt)}break;case St:if(!g||g.cannotBeABaseURL&&"#"!=b)return U;if(g.cannotBeABaseURL&&"#"==b){a.scheme=g.scheme,a.path=g.path.slice(),a.query=g.query,a.fragment="",a.cannotBeABaseURL=!0,w=Ut;break}w="file"==g.scheme?Ft:xt;continue;case wt:if("/"!=b||"/"!=y[C+1]){w=xt;continue}w=Pt,C++;break;case kt:if("/"==b){w=Et;break}w=jt;continue;case xt:if(a.scheme=g.scheme,b==c)a.username=g.username,a.password=g.password,a.host=g.host,a.port=g.port,a.path=g.path.slice(),a.query=g.query;else if("/"==b||"\\"==b&&ft(a))w=Ct;else if("?"==b)a.username=g.username,a.password=g.password,a.host=g.host,a.port=g.port,a.path=g.path.slice(),a.query="",w=qt;else{if("#"!=b){a.username=g.username,a.password=g.password,a.host=g.host,a.port=g.port,a.path=g.path.slice(),a.path.pop(),w=jt;continue}a.username=g.username,a.password=g.password,a.host=g.host,a.port=g.port,a.path=g.path.slice(),a.query=g.query,a.fragment="",w=Ut}break;case Ct:if(!ft(a)||"/"!=b&&"\\"!=b){if("/"!=b){a.username=g.username,a.password=g.password,a.host=g.host,a.port=g.port,w=jt;continue}w=Et}else w=Pt;break;case Rt:if(w=Pt,"/"!=b||"/"!=R.charAt(C+1))continue;C++;break;case Pt:if("/"!=b&&"\\"!=b){w=Et;continue}break;case Et:if("@"==b){P&&(R="%40"+R),P=!0,_=k(R);for(var i=0;i<_.length;i++){var O=_[i];if(":"!=O||T){var L=lt(O,ct);T?a.password+=L:a.username+=L}else T=!0}R=""}else if(b==c||"/"==b||"?"==b||"#"==b||"\\"==b&&ft(a)){if(P&&""==R)return D;C-=k(R).length+1,R="",w=Tt}else R+=b;break;case Tt:case Ot:if(v&&"file"==a.scheme){w=Mt;continue}if(":"!=b||E){if(b==c||"/"==b||"?"==b||"#"==b||"\\"==b&&ft(a)){if(ft(a)&&""==R)return W;if(v&&""==R&&(dt(a)||null!==a.port))return;if(A=et(a,R))return A;if(R="",w=Nt,v)return;continue}"["==b?E=!0:"]"==b&&(E=!1),R+=b}else{if(""==R)return W;if(A=et(a,R))return A;if(R="",w=Lt,v==Ot)return}break;case Lt:if(!H.test(b)){if(b==c||"/"==b||"?"==b||"#"==b||"\\"==b&&ft(a)||v){if(""!=R){var port=parseInt(R,10);if(port>65535)return B;a.port=ft(a)&&port===ht[a.scheme]?null:port,R=""}if(v)return;w=Nt;continue}return B}R+=b;break;case Ft:if(a.scheme="file","/"==b||"\\"==b)w=It;else{if(!g||"file"!=g.scheme){w=jt;continue}if(b==c)a.host=g.host,a.path=g.path.slice(),a.query=g.query;else if("?"==b)a.host=g.host,a.path=g.path.slice(),a.query="",w=qt;else{if("#"!=b){gt(y.slice(C).join(""))||(a.host=g.host,a.path=g.path.slice(),mt(a)),w=jt;continue}a.host=g.host,a.path=g.path.slice(),a.query=g.query,a.fragment="",w=Ut}}break;case It:if("/"==b||"\\"==b){w=Mt;break}g&&"file"==g.scheme&&!gt(y.slice(C).join(""))&&(vt(g.path[0],!0)?a.path.push(g.path[0]):a.host=g.host),w=jt;continue;case Mt:if(b==c||"/"==b||"\\"==b||"?"==b||"#"==b){if(!v&&vt(R))w=jt;else if(""==R){if(a.host="",v)return;w=Nt}else{if(A=et(a,R))return A;if("localhost"==a.host&&(a.host=""),v)return;R="",w=Nt}continue}R+=b;break;case Nt:if(ft(a)){if(w=jt,"/"!=b&&"\\"!=b)continue}else if(v||"?"!=b)if(v||"#"!=b){if(b!=c&&(w=jt,"/"!=b))continue}else a.fragment="",w=Ut;else a.query="",w=qt;break;case jt:if(b==c||"/"==b||"\\"==b&&ft(a)||!v&&("?"==b||"#"==b)){if(bt(R)?(mt(a),"/"==b||"\\"==b&&ft(a)||a.path.push("")):yt(R)?"/"==b||"\\"==b&&ft(a)||a.path.push(""):("file"==a.scheme&&!a.path.length&&vt(R)&&(a.host&&(a.host=""),R=R.charAt(0)+":"),a.path.push(R)),R="","file"==a.scheme&&(b==c||"?"==b||"#"==b))for(;a.path.length>1&&""===a.path[0];)a.path.shift();"?"==b?(a.query="",w=qt):"#"==b&&(a.fragment="",w=Ut)}else R+=lt(b,ut);break;case Dt:"?"==b?(a.query="",w=qt):"#"==b?(a.fragment="",w=Ut):b!=c&&(a.path[0]+=lt(b,ot));break;case qt:v||"#"!=b?b!=c&&(a.query+="'"==b&&ft(a)?"%27":"#"==b?"%23":lt(b,ot)):(a.fragment="",w=Ut);break;case Ut:b!=c&&(a.fragment+=lt(b,st))}C++}},Bt=function(a){var c,h,g=A(this,Bt,"URL"),y=arguments.length>1?arguments[1]:void 0,b=String(a),_=I(g,{type:"URL"});if(void 0!==y)if(y instanceof Bt)c=M(y);else if(h=Wt(c={},String(y)))throw TypeError(h);if(h=Wt(_,b,null,c))throw TypeError(h);var S=_.searchParams=new L,w=F(S);w.updateSearchParams(_.query),w.updateURL=function(){_.query=String(S)||null},v||(g.href=zt.call(g),g.origin=Ht.call(g),g.protocol=Xt.call(g),g.username=Yt.call(g),g.password=Vt.call(g),g.host=Qt.call(g),g.hostname=Kt.call(g),g.port=Jt.call(g),g.pathname=Zt.call(g),g.search=$t.call(g),g.searchParams=er.call(g),g.hash=tr.call(g))},Gt=Bt.prototype,zt=function(){var a=M(this),c=a.scheme,h=a.username,v=a.password,g=a.host,port=a.port,y=a.path,b=a.query,_=a.fragment,A=c+":";return null!==g?(A+="//",dt(a)&&(A+=h+(v?":"+v:"")+"@"),A+=at(g),null!==port&&(A+=":"+port)):"file"==c&&(A+="//"),A+=a.cannotBeABaseURL?y[0]:y.length?"/"+y.join("/"):"",null!==b&&(A+="?"+b),null!==_&&(A+="#"+_),A},Ht=function(){var a=M(this),c=a.scheme,port=a.port;if("blob"==c)try{return new URL(c.path[0]).origin}catch(h){return"null"}return"file"!=c&&ft(a)?c+"://"+at(a.host)+(null!==port?":"+port:""):"null"},Xt=function(){return M(this).scheme+":"},Yt=function(){return M(this).username},Vt=function(){return M(this).password},Qt=function(){var a=M(this),c=a.host,port=a.port;return null===c?"":null===port?at(c):at(c)+":"+port},Kt=function(){var a=M(this).host;return null===a?"":at(a)},Jt=function(){var port=M(this).port;return null===port?"":String(port)},Zt=function(){var a=M(this),c=a.path;return a.cannotBeABaseURL?c[0]:c.length?"/"+c.join("/"):""},$t=function(){var a=M(this).query;return a?"?"+a:""},er=function(){return M(this).searchParams},tr=function(){var a=M(this).fragment;return a?"#"+a:""},rr=function(a,c){return{get:a,set:c,configurable:!0,enumerable:!0}};if(v&&b(Gt,{href:rr(zt,function(a){var c=M(this),h=String(a),v=Wt(c,h);if(v)throw TypeError(v);F(c.searchParams).updateSearchParams(c.query)}),origin:rr(Ht),protocol:rr(Xt,function(a){var c=M(this);Wt(c,String(a)+":",_t)}),username:rr(Yt,function(a){var c=M(this),h=k(String(a));if(!pt(c)){c.username="";for(var i=0;i<h.length;i++)c.username+=lt(h[i],ct)}}),password:rr(Vt,function(a){var c=M(this),h=k(String(a));if(!pt(c)){c.password="";for(var i=0;i<h.length;i++)c.password+=lt(h[i],ct)}}),host:rr(Qt,function(a){var c=M(this);c.cannotBeABaseURL||Wt(c,String(a),Tt)}),hostname:rr(Kt,function(a){var c=M(this);c.cannotBeABaseURL||Wt(c,String(a),Ot)}),port:rr(Jt,function(port){var a=M(this);pt(a)||(port=String(port),""==port?a.port=null:Wt(a,port,Lt))}),pathname:rr(Zt,function(a){var c=M(this);c.cannotBeABaseURL||(c.path=[],Wt(c,a+"",Nt))}),search:rr($t,function(a){var c=M(this);a=String(a),""==a?c.query=null:("?"==a.charAt(0)&&(a=a.slice(1)),c.query="",Wt(c,a,qt)),F(c.searchParams).updateSearchParams(c.query)}),searchParams:rr(er),hash:rr(tr,function(a){var c=M(this);return a=String(a),""==a?void(c.fragment=null):("#"==a.charAt(0)&&(a=a.slice(1)),c.fragment="",void Wt(c,a,Ut))})}),_(Gt,"toJSON",function(){return zt.call(this)},{enumerable:!0}),_(Gt,"toString",function(){return zt.call(this)},{enumerable:!0}),O){var nr=O.createObjectURL,ar=O.revokeObjectURL;nr&&_(Bt,"createObjectURL",function(){return nr.apply(O,arguments)}),ar&&_(Bt,"revokeObjectURL",function(){return ar.apply(O,arguments)})}P(Bt,"URL"),h({global:!0,forced:!g,sham:!v},{URL:Bt})},function(module,exports,a){var c=a(11),h=a(52),v=a(28),g=h("iterator");module.exports=!c(function(){var a=new URL("b?a=1&b=2&c=3","http://a"),c=a.searchParams,h="";return a.pathname="c%20d",c.forEach(function(a,v){c["delete"]("b"),h+=v+a}),v&&!a.toJSON||!c.sort||"http://a/c%20d?a=1&c=3"!==a.href||"3"!==c.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!c[g]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==h||"x"!==new URL("http://x",void 0).host})},function(module){"use strict";var a=2147483647,c=36,h=1,v=26,g=38,y=700,b=72,_=128,A="-",S=/[^\0-\u007E]/,w=/[.\u3002\uFF0E\uFF61]/g,k="Overflow: input needs wider integers to process",C=c-h,R=Math.floor,P=String.fromCharCode,E=function(a){for(var c=[],h=0,v=a.length;v>h;){var g=a.charCodeAt(h++);if(g>=55296&&56319>=g&&v>h){var y=a.charCodeAt(h++);56320==(64512&y)?c.push(((1023&g)<<10)+(1023&y)+65536):(c.push(g),h--)}else c.push(g)}return c},T=function(a){return a+22+75*(26>a)},O=function(a,h,b){var _=0;for(a=b?R(a/y):a>>1,a+=R(a/h);a>C*v>>1;_+=c)a=R(a/C);return R(_+(C+1)*a/(a+g))},L=function(g){var y=[];g=E(g);var i,S,w=g.length,n=_,C=0,L=b;for(i=0;i<g.length;i++)S=g[i],128>S&&y.push(P(S));var F=y.length,I=F;for(F&&y.push(A);w>I;){var m=a;for(i=0;i<g.length;i++)S=g[i],S>=n&&m>S&&(m=S);var M=I+1;if(m-n>R((a-C)/M))throw RangeError(k);for(C+=(m-n)*M,n=m,i=0;i<g.length;i++){if(S=g[i],n>S&&++C>a)throw RangeError(k);if(S==n){for(var q=C,N=c;;N+=c){var t=L>=N?h:N>=L+v?v:N-L;if(t>q)break;var j=q-t,D=c-t;y.push(P(T(t+j%D))),q=R(j/D)}y.push(P(T(q))),L=O(C,M,I==F),C=0,++I}}++C,++n}return y.join("")};module.exports=function(a){var i,c,h=[],v=a.toLowerCase().replace(w,".").split(".");
for(i=0;i<v.length;i++)c=v[i],h.push(S.test(c)?"xn--"+L(c):c);return h.join(".")}},function(module,exports,a){"use strict";a(105);var c=a(7),h=a(39),v=a(125),g=a(26),y=a(108),b=a(78),_=a(73),A=a(32),S=a(110),w=a(20),k=a(56),C=a(88),R=a(25),P=a(19),E=a(65),T=a(13),O=a(128),L=a(87),F=a(52),I=h("fetch"),M=h("Headers"),N=F("iterator"),j="URLSearchParams",D=j+"Iterator",U=A.set,W=A.getterFor(j),B=A.getterFor(D),G=/\+/g,z=Array(4),H=function(a){return z[a-1]||(z[a-1]=RegExp("((?:%[\\da-f]{2}){"+a+"})","gi"))},X=function(a){try{return decodeURIComponent(a)}catch(c){return a}},Y=function(a){var c=a.replace(G," "),h=4;try{return decodeURIComponent(c)}catch(v){for(;h;)c=c.replace(H(h--),X);return c}},V=/[!'()~]|%20/g,Q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},K=function(a){return Q[a]},J=function(a){return encodeURIComponent(a).replace(V,K)},Z=function(a,c){if(c)for(var h,v,g=c.split("&"),y=0;y<g.length;)h=g[y++],h.length&&(v=h.split("="),a.push({key:Y(v.shift()),value:Y(v.join("="))}))},$=function(a){this.entries.length=0,Z(this.entries,a)},et=function(a,c){if(c>a)throw TypeError("Not enough arguments")},tt=_(function(a,c){U(this,{type:D,iterator:O(W(a).entries),kind:c})},"Iterator",function(){var a=B(this),c=a.kind,h=a.iterator.next(),v=h.value;return h.done||(h.value="keys"===c?v.key:"values"===c?v.value:[v.key,v.value]),h}),nt=function(){S(this,nt,j);var a,c,h,v,g,y,b,_,A,k=arguments.length>0?arguments[0]:void 0,C=this,E=[];if(U(C,{type:j,entries:E,updateURL:function(){},updateSearchParams:$}),void 0!==k)if(P(k))if(a=L(k),"function"==typeof a)for(c=a.call(k),h=c.next;!(v=h.call(c)).done;){if(g=O(R(v.value)),y=g.next,(b=y.call(g)).done||(_=y.call(g)).done||!y.call(g).done)throw TypeError("Expected sequence with length 2");E.push({key:b.value+"",value:_.value+""})}else for(A in k)w(k,A)&&E.push({key:A,value:k[A]+""});else Z(E,"string"==typeof k?"?"===k.charAt(0)?k.slice(1):k:k+"")},it=nt.prototype;y(it,{append:function(a,c){et(arguments.length,2);var h=W(this);h.entries.push({key:a+"",value:c+""}),h.updateURL()},"delete":function(a){et(arguments.length,1);for(var c=W(this),h=c.entries,v=a+"",g=0;g<h.length;)h[g].key===v?h.splice(g,1):g++;c.updateURL()},get:function(a){et(arguments.length,1);for(var c=W(this).entries,h=a+"",v=0;v<c.length;v++)if(c[v].key===h)return c[v].value;return null},getAll:function(a){et(arguments.length,1);for(var c=W(this).entries,h=a+"",v=[],g=0;g<c.length;g++)c[g].key===h&&v.push(c[g].value);return v},has:function(a){et(arguments.length,1);for(var c=W(this).entries,h=a+"",v=0;v<c.length;)if(c[v++].key===h)return!0;return!1},set:function(a,c){et(arguments.length,1);for(var h,v=W(this),g=v.entries,y=!1,b=a+"",_=c+"",A=0;A<g.length;A++)h=g[A],h.key===b&&(y?g.splice(A--,1):(y=!0,h.value=_));y||g.push({key:b,value:_}),v.updateURL()},sort:function(){var a,c,h,v=W(this),g=v.entries,y=g.slice();for(g.length=0,h=0;h<y.length;h++){for(a=y[h],c=0;h>c;c++)if(g[c].key>a.key){g.splice(c,0,a);break}c===h&&g.push(a)}v.updateURL()},forEach:function(a){for(var c,h=W(this).entries,v=k(a,arguments.length>1?arguments[1]:void 0,3),g=0;g<h.length;)c=h[g++],v(c.value,c.key,this)},keys:function(){return new tt(this,"keys")},values:function(){return new tt(this,"values")},entries:function(){return new tt(this,"entries")}},{enumerable:!0}),g(it,N,it.entries),g(it,"toString",function(){for(var a,c=W(this).entries,h=[],v=0;v<c.length;)a=c[v++],h.push(J(a.key)+"="+J(a.value));return h.join("&")},{enumerable:!0}),b(nt,j),c({global:!0,forced:!v},{URLSearchParams:nt}),v||"function"!=typeof I||"function"!=typeof M||c({global:!0,enumerable:!0,forced:!0},{fetch:function(a){var c,h,v,g=[a];return arguments.length>1&&(c=arguments[1],P(c)&&(h=c.body,C(h)===j&&(v=c.headers?new M(c.headers):new M,v.has("content-type")||v.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),c=E(c,{body:T(0,String(h)),headers:T(0,v)}))),g.push(c)),I.apply(this,g)}}),module.exports={URLSearchParams:nt,getState:W}},function(module,exports,a){var c=a(25),h=a(87);module.exports=function(a){var v=h(a);if("function"!=typeof v)throw TypeError(String(a)+" is not iterable");return c(v.call(a))}},function(module,exports,a){"use strict";var c=a(7);c({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(module,exports,a){a(101),a(131),a(103);var c=a(40);module.exports=c.WeakMap},function(module,exports,a){"use strict";var c,h=a(8),v=a(108),g=a(132),y=a(134),b=a(136),_=a(19),A=a(32).enforce,S=a(33),w=!h.ActiveXObject&&"ActiveXObject"in h,k=Object.isExtensible,C=function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},R=module.exports=y("WeakMap",C,b,!0,!0);if(S&&w){c=b.getConstructor(C,"WeakMap",!0),g.REQUIRED=!0;var P=R.prototype,E=P["delete"],T=P.has,O=P.get,L=P.set;v(P,{"delete":function(a){if(_(a)&&!k(a)){var h=A(this);return h.frozen||(h.frozen=new c),E.call(this,a)||h.frozen["delete"](a)}return E.call(this,a)},has:function(a){if(_(a)&&!k(a)){var h=A(this);return h.frozen||(h.frozen=new c),T.call(this,a)||h.frozen.has(a)}return T.call(this,a)},get:function(a){if(_(a)&&!k(a)){var h=A(this);return h.frozen||(h.frozen=new c),T.call(this,a)?O.call(this,a):h.frozen.get(a)}return O.call(this,a)},set:function(a,h){if(_(a)&&!k(a)){var v=A(this);v.frozen||(v.frozen=new c),T.call(this,a)?L.call(this,a,h):v.frozen.set(a,h)}else L.call(this,a,h);return this}})}},function(module,exports,a){var c=a(36),h=a(19),v=a(20),g=a(24).f,y=a(35),b=a(133),_=y("meta"),A=0,S=Object.isExtensible||function(){return!0},w=function(a){g(a,_,{value:{objectID:"O"+ ++A,weakData:{}}})},k=function(a,c){if(!h(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!v(a,_)){if(!S(a))return"F";if(!c)return"E";w(a)}return a[_].objectID},C=function(a,c){if(!v(a,_)){if(!S(a))return!0;if(!c)return!1;w(a)}return a[_].weakData},R=function(a){return b&&P.REQUIRED&&S(a)&&!v(a,_)&&w(a),a},P=module.exports={REQUIRED:!1,fastKey:k,getWeakData:C,onFreeze:R};c[_]=!0},function(module,exports,a){var c=a(11);module.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(module,exports,a){"use strict";var c=a(7),h=a(8),v=a(49),g=a(26),y=a(132),b=a(111),_=a(110),A=a(19),S=a(11),w=a(89),k=a(78),C=a(135);module.exports=function(a,R,P,E,T){var O=h[a],L=O&&O.prototype,F=O,I=E?"set":"add",M={},N=function(a){var c=L[a];g(L,a,"add"==a?function(a){return c.call(this,0===a?0:a),this}:"delete"==a?function(a){return T&&!A(a)?!1:c.call(this,0===a?0:a)}:"get"==a?function(a){return T&&!A(a)?void 0:c.call(this,0===a?0:a)}:"has"==a?function(a){return T&&!A(a)?!1:c.call(this,0===a?0:a)}:function(a,h){return c.call(this,0===a?0:a,h),this})};if(v(a,"function"!=typeof O||!(T||L.forEach&&!S(function(){(new O).entries().next()}))))F=P.getConstructor(R,a,E,I),y.REQUIRED=!0;else if(v(a,!0)){var j=new F,D=j[I](T?{}:-0,1)!=j,U=S(function(){j.has(1)}),W=w(function(a){new O(a)}),B=!T&&S(function(){for(var a=new O,c=5;c--;)a[I](c,c);return!a.has(-0)});W||(F=R(function(c,h){_(c,F,a);var v=C(new O,c,F);return void 0!=h&&b(h,v[I],v,E),v}),F.prototype=L,L.constructor=F),(U||B)&&(N("delete"),N("has"),E&&N("get")),(B||D)&&N(I),T&&L.clear&&delete L.clear}return M[a]=F,c({global:!0,forced:F!=O},M),k(F,a),T||P.setStrong(F,a,E),F}},function(module,exports,a){var c=a(19),h=a(80);module.exports=function(a,v,g){var y,b;return h&&"function"==typeof(y=v.constructor)&&y!==g&&c(b=y.prototype)&&b!==g.prototype&&h(a,b),a}},function(module,exports,a){"use strict";var c=a(108),h=a(132).getWeakData,v=a(25),g=a(19),y=a(110),b=a(111),_=a(137),A=a(20),S=a(32),w=S.set,k=S.getterFor,C=_.find,R=_.findIndex,P=0,E=function(a){return a.frozen||(a.frozen=new T)},T=function(){this.entries=[]},O=function(a,c){return C(a.entries,function(a){return a[0]===c})};T.prototype={get:function(a){var c=O(this,a);return c?c[1]:void 0},has:function(a){return!!O(this,a)},set:function(a,c){var h=O(this,a);h?h[1]=c:this.entries.push([a,c])},"delete":function(a){var c=R(this.entries,function(c){return c[0]===a});return~c&&this.entries.splice(c,1),!!~c}},module.exports={getConstructor:function(a,_,S,C){var R=a(function(a,c){y(a,R,_),w(a,{type:_,id:P++,frozen:void 0}),void 0!=c&&b(c,a[C],a,S)}),T=k(_),define=function(a,c,g){var y=T(a),b=h(v(c),!0);return b===!0?E(y).set(c,g):b[y.id]=g,a};return c(R.prototype,{"delete":function(a){var c=T(this);if(!g(a))return!1;var v=h(a);return v===!0?E(c)["delete"](a):v&&A(v,c.id)&&delete v[c.id]},has:function(a){var c=T(this);if(!g(a))return!1;var v=h(a);return v===!0?E(c).has(a):v&&A(v,c.id)}}),c(R.prototype,S?{get:function(a){var c=T(this);if(g(a)){var v=h(a);return v===!0?E(c).get(a):v?v[c.id]:void 0}},set:function(a,c){return define(this,a,c)}}:{add:function(a){return define(this,a,!0)}}),R}}},function(module,exports,a){var c=a(56),h=a(15),v=a(76),g=a(44),y=a(138),b=[].push,_=function(a){var _=1==a,A=2==a,S=3==a,w=4==a,k=6==a,C=5==a||k;return function(R,P,E,T){for(var O,L,F=v(R),I=h(F),M=c(P,E,3),N=g(I.length),j=0,D=T||y,U=_?D(R,N):A?D(R,0):void 0;N>j;j++)if((C||j in I)&&(O=I[j],L=M(O,j,F),a))if(_)U[j]=L;else if(L)switch(a){case 3:return!0;case 5:return O;case 6:return j;case 2:b.call(U,O)}else if(w)return!1;return k?-1:S||w?w:U}};module.exports={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6)}},function(module,exports,a){var c=a(19),h=a(139),v=a(52),g=v("species");module.exports=function(a,v){var y;return h(a)&&(y=a.constructor,"function"!=typeof y||y!==Array&&!h(y.prototype)?c(y)&&(y=y[g],null===y&&(y=void 0)):y=void 0),new(void 0===y?Array:y)(0===v?0:v)}},function(module,exports,a){var c=a(16);module.exports=Array.isArray||function(a){return"Array"==c(a)}},function(module,exports,a){a(101),a(141),a(103);var c=a(40);module.exports=c.WeakSet},function(module,exports,a){"use strict";var c=a(134),h=a(136);c("WeakSet",function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},h,!1,!0)},function(module,exports,a){a(143);var c=a(55);module.exports=c("String","codePointAt")},function(module,exports,a){"use strict";var c=a(7),h=a(71).codeAt;c({target:"String",proto:!0},{codePointAt:function(a){return h(this,a)}})},function(module,exports,a){a(145);var c=a(40);module.exports=c.String.fromCodePoint},function(module,exports,a){var c=a(7),h=a(46),v=String.fromCharCode,g=String.fromCodePoint,y=!!g&&1!=g.length;c({target:"String",stat:!0,forced:y},{fromCodePoint:function(){for(var a,c=[],g=arguments.length,i=0;g>i;){if(a=+arguments[i++],h(a,1114111)!==a)throw RangeError(a+" is not a valid code point");c.push(65536>a?v(a):v(((a-=65536)>>10)+55296,a%1024+56320))}return c.join("")}})},function(module,exports,a){a(147),a(101),a(149),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168);var c=a(40);module.exports=c.Symbol},function(module,exports,a){"use strict";var c=a(7),h=a(11),v=a(139),g=a(19),y=a(76),b=a(44),_=a(86),A=a(138),S=a(148),w=a(52),k=a(120),C=w("isConcatSpreadable"),R=9007199254740991,P="Maximum allowed index exceeded",E=k>=51||!h(function(){var a=[];return a[C]=!1,a.concat()[0]!==a}),T=S("concat"),O=function(a){if(!g(a))return!1;var c=a[C];return void 0!==c?!!c:v(a)},L=!E||!T;c({target:"Array",proto:!0,forced:L},{concat:function(){var i,a,c,h,v,g=y(this),S=A(g,0),n=0;for(i=-1,c=arguments.length;c>i;i++)if(v=-1===i?g:arguments[i],O(v)){if(h=b(v.length),n+h>R)throw TypeError(P);for(a=0;h>a;a++,n++)a in v&&_(S,n,v[a])}else{if(n>=R)throw TypeError(P);_(S,n++,v)}return S.length=n,S}})},function(module,exports,a){var c=a(11),h=a(52),v=a(120),g=h("species");module.exports=function(a){return v>=51||!c(function(){var c=[],h=c.constructor={};return h[g]=function(){return{foo:1}},1!==c[a](Boolean).foo})}},function(module,exports,a){"use strict";var c=a(7),h=a(8),v=a(39),g=a(28),y=a(10),b=a(53),_=a(11),A=a(20),S=a(139),w=a(19),k=a(25),C=a(76),R=a(14),P=a(18),E=a(13),T=a(65),O=a(67),L=a(41),F=a(150),I=a(48),M=a(9),N=a(24),j=a(12),D=a(23),U=a(26),W=a(27),B=a(34),G=a(36),z=a(35),H=a(52),X=a(151),Y=a(152),V=a(78),Q=a(32),K=a(137).forEach,J=B("hidden"),Z="Symbol",$="prototype",et=H("toPrimitive"),tt=Q.set,nt=Q.getterFor(Z),it=Object[$],at=h.Symbol,ot=v("JSON","stringify"),st=M.f,ut=N.f,ct=F.f,lt=j.f,ht=W("symbols"),ft=W("op-symbols"),dt=W("string-to-symbol-registry"),pt=W("symbol-to-string-registry"),vt=W("wks"),gt=h.QObject,mt=!gt||!gt[$]||!gt[$].findChild,yt=y&&_(function(){return 7!=T(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a})?function(a,c,h){var v=st(it,c);v&&delete it[c],ut(a,c,h),v&&a!==it&&ut(it,c,v)}:ut,bt=function(a,c){var h=ht[a]=T(at[$]);return tt(h,{type:Z,tag:a,description:c}),y||(h.description=c),h},_t=b&&"symbol"==typeof at.iterator?function(a){return"symbol"==typeof a}:function(a){return Object(a)instanceof at},At=function(a,c,h){a===it&&At(ft,c,h),k(a);var v=P(c,!0);return k(h),A(ht,v)?(h.enumerable?(A(a,J)&&a[J][v]&&(a[J][v]=!1),h=T(h,{enumerable:E(0,!1)})):(A(a,J)||ut(a,J,E(1,{})),a[J][v]=!0),yt(a,v,h)):ut(a,v,h)},St=function(a,c){k(a);var h=R(c),v=O(h).concat(Rt(h));return K(v,function(c){(!y||kt.call(h,c))&&At(a,c,h[c])}),a},wt=function(a,c){return void 0===c?T(a):St(T(a),c)},kt=function(a){var c=P(a,!0),h=lt.call(this,c);return this===it&&A(ht,c)&&!A(ft,c)?!1:h||!A(this,c)||!A(ht,c)||A(this,J)&&this[J][c]?h:!0},xt=function(a,c){var h=R(a),v=P(c,!0);if(h!==it||!A(ht,v)||A(ft,v)){var g=st(h,v);return!g||!A(ht,v)||A(h,J)&&h[J][v]||(g.enumerable=!0),g}},Ct=function(a){var c=ct(R(a)),h=[];return K(c,function(a){A(ht,a)||A(G,a)||h.push(a)}),h},Rt=function(a){var c=a===it,h=ct(c?ft:R(a)),v=[];return K(h,function(a){!A(ht,a)||c&&!A(it,a)||v.push(ht[a])}),v};if(b||(at=function(){if(this instanceof at)throw TypeError("Symbol is not a constructor");var a=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,c=z(a),h=function(a){this===it&&h.call(ft,a),A(this,J)&&A(this[J],c)&&(this[J][c]=!1),yt(this,c,E(1,a))};return y&&mt&&yt(it,c,{configurable:!0,set:h}),bt(c,a)},U(at[$],"toString",function(){return nt(this).tag}),j.f=kt,N.f=At,M.f=xt,L.f=F.f=Ct,I.f=Rt,y&&(ut(at[$],"description",{configurable:!0,get:function(){return nt(this).description}}),g||U(it,"propertyIsEnumerable",kt,{unsafe:!0})),X.f=function(a){return bt(H(a),a)}),c({global:!0,wrap:!0,forced:!b,sham:!b},{Symbol:at}),K(O(vt),function(a){Y(a)}),c({target:Z,stat:!0,forced:!b},{"for":function(a){var c=String(a);if(A(dt,c))return dt[c];var h=at(c);return dt[c]=h,pt[h]=c,h},keyFor:function(a){if(!_t(a))throw TypeError(a+" is not a symbol");return A(pt,a)?pt[a]:void 0},useSetter:function(){mt=!0},useSimple:function(){mt=!1}}),c({target:"Object",stat:!0,forced:!b,sham:!y},{create:wt,defineProperty:At,defineProperties:St,getOwnPropertyDescriptor:xt}),c({target:"Object",stat:!0,forced:!b},{getOwnPropertyNames:Ct,getOwnPropertySymbols:Rt}),c({target:"Object",stat:!0,forced:_(function(){I.f(1)})},{getOwnPropertySymbols:function(a){return I.f(C(a))}}),ot){var Pt=!b||_(function(){var a=at();return"[null]"!=ot([a])||"{}"!=ot({a:a})||"{}"!=ot(Object(a))});c({target:"JSON",stat:!0,forced:Pt},{stringify:function(a,c){for(var h,v=[a],g=1;arguments.length>g;)v.push(arguments[g++]);return h=c,!w(c)&&void 0===a||_t(a)?void 0:(S(c)||(c=function(a,c){return"function"==typeof h&&(c=h.call(this,a,c)),_t(c)?void 0:c}),v[1]=c,ot.apply(null,v))}})}at[$][et]||D(at[$],et,at[$].valueOf),V(at,Z),G[J]=!0},function(module,exports,a){var c=a(14),h=a(41).f,v={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(a){try{return h(a)}catch(c){return g.slice()}};module.exports.f=function(a){return g&&"[object Window]"==v.call(a)?y(a):h(c(a))}},function(module,exports,a){exports.f=a(52)},function(module,exports,a){var c=a(40),h=a(20),v=a(151),g=a(24).f;module.exports=function(a){var y=c.Symbol||(c.Symbol={});h(y,a)||g(y,a,{value:v.f(a)})}},function(module,exports,a){var c=a(152);c("asyncIterator")},function(module,exports,a){"use strict";var c=a(7),h=a(10),v=a(8),g=a(20),y=a(19),b=a(24).f,_=a(37),A=v.Symbol;if(!(!h||"function"!=typeof A||"description"in A.prototype&&void 0===A().description)){var S={},w=function(){var a=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),c=this instanceof w?new A(a):void 0===a?A():A(a);return""===a&&(S[c]=!0),c};_(w,A);var k=w.prototype=A.prototype;k.constructor=w;var C=k.toString,R="Symbol(test)"==String(A("test")),P=/^Symbol\((.*)\)[^)]+$/;b(k,"description",{configurable:!0,get:function(){var a=y(this)?this.valueOf():this,c=C.call(a);if(g(S,a))return"";var h=R?c.slice(7,-1):c.replace(P,"$1");return""===h?void 0:h}}),c({global:!0,forced:!0},{Symbol:w})}},function(module,exports,a){var c=a(152);c("hasInstance")},function(module,exports,a){var c=a(152);c("isConcatSpreadable")},function(module,exports,a){var c=a(152);c("iterator")},function(module,exports,a){var c=a(152);c("match")},function(module,exports,a){var c=a(152);c("matchAll")},function(module,exports,a){var c=a(152);c("replace")},function(module,exports,a){var c=a(152);c("search")},function(module,exports,a){var c=a(152);c("species")},function(module,exports,a){var c=a(152);c("split")},function(module,exports,a){var c=a(152);c("toPrimitive")},function(module,exports,a){var c=a(152);c("toStringTag")},function(module,exports,a){var c=a(152);c("unscopables")},function(module,exports,a){var c=a(78);c(Math,"Math",!0)},function(module,exports,a){var c=a(8),h=a(78);h(c.JSON,"JSON",!0)},function(module,exports,a){a(170);var c=a(55);module.exports=c("String","padStart")},function(module,exports,a){"use strict";var c=a(7),h=a(171).start,v=a(173);c({target:"String",proto:!0,forced:v},{padStart:function(a){return h(this,a,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,a){var c=a(44),h=a(172),v=a(17),g=Math.ceil,y=function(a){return function(y,b,_){var A,S,w=String(v(y)),k=w.length,C=void 0===_?" ":String(_),R=c(b);return k>=R||""==C?w:(A=R-k,S=h.call(C,g(A/C.length)),S.length>A&&(S=S.slice(0,A)),a?w+S:S+w)}};module.exports={start:y(!1),end:y(!0)}},function(module,exports,a){"use strict";var c=a(45),h=a(17);module.exports="".repeat||function(a){var v=String(h(this)),g="",n=c(a);if(0>n||1/0==n)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(v+=v))1&n&&(g+=v);return g}},function(module,exports,a){var c=a(114);module.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c)},function(module,exports,a){a(175);var c=a(55);module.exports=c("String","padEnd")},function(module,exports,a){"use strict";var c=a(7),h=a(171).end,v=a(173);c({target:"String",proto:!0,forced:v},{padEnd:function(a){return h(this,a,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,a){a(177);var c=a(40);module.exports=c.Object.values},function(module,exports,a){var c=a(7),h=a(178).values;c({target:"Object",stat:!0},{values:function(a){return h(a)}})},function(module,exports,a){var c=a(10),h=a(67),v=a(14),g=a(12).f,y=function(a){return function(y){for(var b,_=v(y),A=h(_),S=A.length,i=0,w=[];S>i;)b=A[i++],(!c||g.call(_,b))&&w.push(a?[b,_[b]]:_[b]);return w}};module.exports={entries:y(!0),values:y(!1)}},function(module,exports,a){"use strict";var c=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),c=!0}catch(e){}exports.ReadableStream=c?ReadableStream:a(180).ReadableStream},function(a,c,h){"use strict";function v(){}function g(x){return"object"==typeof x&&null!==x||"function"==typeof x}function y(a){return a.slice()}function b(a,c,h,v,n){new Uint8Array(a).set(new Uint8Array(h,v,n),c)}function _(a){return A(a)===!1?!1:1/0===a?!1:!0}function A(a){return"number"!=typeof a?!1:ei(a)?!1:0>a?!1:!0}function S(a,c,h){if("function"!=typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,c,h)}function w(a,c,h,v){var g=a[c];if(void 0!==g){if("function"!=typeof g)throw new TypeError(g+" is not a method");switch(h){case 0:return function(){return C(g,a,v)};case 1:return function(c){var h=[c].concat(v);return C(g,a,h)}}}return function(){return L(void 0)}}function k(a,c,h){var v=a[c];return void 0===v?void 0:S(v,a,h)}function C(a,c,h){try{return L(S(a,c,h))}catch(v){return F(v)}}function R(a){return a}function P(){return!1}function E(a){if(a=Number(a),ei(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a}function T(a){if(void 0===a)return function(){return 1};if("function"!=typeof a)throw new TypeError("size property of a queuing strategy must be a function");return function(c){return a(c)}}function O(a){return new ri(a)}function L(a){return ii(a)}function F(a){return ai(a)}function I(a,c,h){return ni.call(a,c,h)}function M(a,c,h){I(I(a,c,h),void 0,ti)}function N(a,c){M(a,c)}function j(a,c){M(a,void 0,c)}function D(a,c,h){return I(a,c,h)}function U(a){I(a,void 0,ti)}function W(a,c,h){var v=null;h===!0&&(v=Object.prototype);var g=Object.create(v);return g.value=a,g.done=c,g}function B(a,c){a._forAuthorCode=!0,a._ownerReadableStream=c,c._reader=a,"readable"===c._state?X(a):"closed"===c._state?V(a):Y(a,c._storedError)}function G(a,c){var h=a._ownerReadableStream;return Pn(h,c)}function z(a){"readable"===a._ownerReadableStream._state?Q(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):K(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function H(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function X(a){a._closedPromise=O(function(c,h){a._closedPromise_resolve=c,a._closedPromise_reject=h})}function Y(a,c){X(a),Q(a,c)}function V(a){X(a),J(a)}function Q(a,c){U(a._closedPromise),a._closedPromise_reject(c),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function K(a,c){Y(a,c)}function J(a){a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function Z(a,c){void 0===c&&(c=!1);var h=new hi(a);return h._forAuthorCode=c,h}function $(a){var c=O(function(c,h){var v={_resolve:c,_reject:h};a._reader._readRequests.push(v)});return c}function et(a,c,h){var v=a._reader,g=v._readRequests.shift();g._resolve(W(c,h,v._forAuthorCode))}function tt(a){return a._reader._readRequests.length}function nt(a){var c=a._reader;return void 0===c?!1:it(c)?!0:!1}function it(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_readRequests")?!0:!1}function at(a){var c=a._ownerReadableStream;return c._disturbed=!0,"closed"===c._state?L(W(void 0,!0,a._forAuthorCode)):"errored"===c._state?F(c._storedError):c._readableStreamController[li]()}function ot(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function st(a,c){void 0===c&&(c=!1);var h=Z(a),v=Object.create(di);return v._asyncIteratorReader=h,v._preventCancel=Boolean(c),v}function ut(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_asyncIteratorReader")?!0:!1}function ct(a){return new TypeError("ReadableStreamAsyncIterator."+a+" can only be used on a ReadableSteamAsyncIterator")}function lt(a){var c=a._queue.shift();return a._queueTotalSize-=c.size,a._queueTotalSize<0&&(a._queueTotalSize=0),c.value}function ht(a,c,h){if(h=Number(h),!_(h))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:c,size:h}),a._queueTotalSize+=h}function ft(a){var c=a._queue.peek();return c.value}function dt(a){a._queue=new si,a._queueTotalSize=0}function pt(a){return new mi(a)}function vt(a,c,h,v,g,y){void 0===g&&(g=1),void 0===y&&(y=function(){return 1});var b=Object.create(gi.prototype);gt(b);var _=Object.create(yi.prototype);return zt(b,_,a,c,h,v,g,y),b}function gt(a){a._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new si,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1}function mt(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_writableStreamController")?!0:!1}function yt(a){return void 0===a._writer?!1:!0}function bt(a,c){var h=a._state;if("closed"===h||"errored"===h)return L(void 0);if(void 0!==a._pendingAbortRequest)return a._pendingAbortRequest._promise;var v=!1;"erroring"===h&&(v=!0,c=void 0);var g=O(function(h,g){a._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:g,_reason:c,_wasAlreadyErroring:v}});return a._pendingAbortRequest._promise=g,v===!1&&St(a,c),g}function _t(a){var c=O(function(c,h){var v={_resolve:c,_reject:h};a._writeRequests.push(v)});return c}function At(a,c){var h=a._state;return"writable"===h?void St(a,c):void wt(a)}function St(a,c){var h=a._writableStreamController;a._state="erroring",a._storedError=c;var v=a._writer;void 0!==v&&qt(v,c),Et(a)===!1&&h._started===!0&&wt(a)}function wt(a){a._state="errored",a._writableStreamController[vi]();var c=a._storedError;if(a._writeRequests.forEach(function(a){a._reject(c)}),a._writeRequests=new si,void 0===a._pendingAbortRequest)return void Lt(a);var h=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,h._wasAlreadyErroring===!0)return h._reject(c),void Lt(a);var v=a._writableStreamController[pi](h._reason);M(v,function(){h._resolve(),Lt(a)},function(c){h._reject(c),Lt(a)})}function kt(a){a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function xt(a,c){a._inFlightWriteRequest._reject(c),a._inFlightWriteRequest=void 0,At(a,c)}function Ct(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0;var c=a._state;"erroring"===c&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";var h=a._writer;void 0!==h&&dr(h)}function Rt(a,c){a._inFlightCloseRequest._reject(c),a._inFlightCloseRequest=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(c),a._pendingAbortRequest=void 0),At(a,c)}function Pt(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function Et(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function Tt(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function Ot(a){a._inFlightWriteRequest=a._writeRequests.shift()}function Lt(a){void 0!==a._closeRequest&&(a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var c=a._writer;void 0!==c&&hr(c,a._storedError)}function Ft(a,c){var h=a._writer;void 0!==h&&c!==a._backpressure&&(c===!0?yr(h):_r(h)),a._backpressure=c}function It(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_ownerWritableStream")?!0:!1}function Mt(a,c){var h=a._ownerWritableStream;return bt(h,c)}function Nt(a){var c=a._ownerWritableStream,h=c._state;if("closed"===h||"errored"===h)return F(new TypeError("The stream (in "+h+" state) is not in the writable state and cannot be closed"));var v=O(function(a,h){var v={_resolve:a,_reject:h};c._closeRequest=v});return c._backpressure===!0&&"writable"===h&&_r(a),Yt(c._writableStreamController),v}function jt(a){var c=a._ownerWritableStream,h=c._state;return Pt(c)===!0||"closed"===h?L(void 0):"errored"===h?F(c._storedError):Nt(a)}function Dt(a,c){"pending"===a._closedPromiseState?hr(a,c):fr(a,c)}function qt(a,c){"pending"===a._readyPromiseState?mr(a,c):br(a,c)}function Ut(a){var c=a._ownerWritableStream,h=c._state;return"errored"===h||"erroring"===h?null:"closed"===h?0:Qt(c._writableStreamController)}function Wt(a){var c=a._ownerWritableStream,h=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");qt(a,h),Dt(a,h),c._writer=void 0,a._ownerWritableStream=void 0}function Bt(a,c){var h=a._ownerWritableStream,v=h._writableStreamController,g=Vt(v,c);if(h!==a._ownerWritableStream)return F(sr("write to"));var y=h._state;if("errored"===y)return F(h._storedError);if(Pt(h)===!0||"closed"===y)return F(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===y)return F(h._storedError);var b=_t(h);return Kt(v,c,g),b}function Gt(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_controlledWritableStream")?!0:!1}function zt(a,c,h,v,g,y,b,_){c._controlledWritableStream=a,a._writableStreamController=c,c._queue=void 0,c._queueTotalSize=void 0,dt(c),c._started=!1,c._strategySizeAlgorithm=_,c._strategyHWM=b,c._writeAlgorithm=v,c._closeAlgorithm=g,c._abortAlgorithm=y;var A=tr(c);Ft(a,A);var S=h(),w=L(S);M(w,function(){c._started=!0,Jt(c)},function(r){c._started=!0,At(a,r)})}function Ht(a,c,h,v){function g(){return k(c,"start",[y])}var y=Object.create(yi.prototype),b=w(c,"write",1,[y]),_=w(c,"close",0,[]),A=w(c,"abort",1,[]);zt(a,y,g,b,_,A,h,v)}function Xt(a){a._writeAlgorithm=void 0,a._closeAlgorithm=void 0,a._abortAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function Yt(a){ht(a,"close",0),Jt(a)}function Vt(a,c){try{return a._strategySizeAlgorithm(c)}catch(h){return Zt(a,h),1}}function Qt(a){return a._strategyHWM-a._queueTotalSize}function Kt(a,c,h){var v={chunk:c};try{ht(a,v,h)}catch(g){return void Zt(a,g)}var y=a._controlledWritableStream;if(Pt(y)===!1&&"writable"===y._state){var b=tr(a);Ft(y,b)}Jt(a)}function Jt(a){var c=a._controlledWritableStream;if(a._started!==!1&&void 0===c._inFlightWriteRequest){var h=c._state;if("erroring"===h)return void wt(c);if(0!==a._queue.length){var v=ft(a);"close"===v?$t(a):er(a,v.chunk)}}}function Zt(a,c){"writable"===a._controlledWritableStream._state&&rr(a,c)}function $t(a){var c=a._controlledWritableStream;Tt(c),lt(a);var h=a._closeAlgorithm();Xt(a),M(h,function(){Ct(c)},function(a){Rt(c,a)})}function er(a,c){var h=a._controlledWritableStream;Ot(h);var v=a._writeAlgorithm(c);M(v,function(){kt(h);var c=h._state;if(lt(a),Pt(h)===!1&&"writable"===c){var v=tr(a);Ft(h,v)}Jt(a)},function(c){"writable"===h._state&&Xt(a),xt(h,c)})}function tr(a){var c=Qt(a);return 0>=c}function rr(a,c){var h=a._controlledWritableStream;Xt(a),St(h,c)}function nr(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function ar(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function sr(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function ur(a){a._closedPromise=O(function(c,h){a._closedPromise_resolve=c,a._closedPromise_reject=h,a._closedPromiseState="pending"})}function cr(a,c){ur(a),hr(a,c)}function lr(a){ur(a),dr(a)}function hr(a,c){U(a._closedPromise),a._closedPromise_reject(c),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function fr(a,c){cr(a,c)}function dr(a){a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function pr(a){a._readyPromise=O(function(c,h){a._readyPromise_resolve=c,a._readyPromise_reject=h}),a._readyPromiseState="pending"}function vr(a,c){pr(a),mr(a,c)}function gr(a){pr(a),_r(a)}function mr(a,c){U(a._readyPromise),a._readyPromise_reject(c),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function yr(a){pr(a)}function br(a,c){vr(a,c)}function _r(a){a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function Ar(a){if("object"!=typeof a||null===a)return!1;try{return"boolean"==typeof a.aborted}catch(c){return!1}}function Sr(a){if("function"!=typeof a&&"object"!=typeof a)return!1;try{return new a,!0}catch(c){return!1}}function wr(){var a=function(a,c){this.message=a||"",this.name=c||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a.prototype=Object.create(Error.prototype),Object.defineProperty(a.prototype,"constructor",{value:a,writable:!0,configurable:!0}),a}function kr(a,c,h,g,y,b){var _=Z(a),A=pt(c),S=!1,w=L(void 0);return O(function(k,C){function R(){return O(function(a,c){function h(v){v?a():I(P(),h,c)
}h(!1)})}function P(){return S===!0?L(!0):I(A._readyPromise,function(){return I(at(_),function(a){var c=a.value,h=a.done;return h===!0?!0:(w=I(Bt(A,c),void 0,v),!1)})})}function E(){var a=w;return I(w,function(){return a!==w?E():void 0})}function T(a,c,h){"errored"===a._state?h(a._storedError):j(c,h)}function F(a,c,h){"closed"===a._state?h():N(c,h)}function D(a,h,v){function g(){M(a(),function(){return B(h,v)},function(a){return B(!0,a)})}S!==!0&&(S=!0,"writable"===c._state&&Pt(c)===!1?N(E(),g):g())}function W(a,h){S!==!0&&(S=!0,"writable"===c._state&&Pt(c)===!1?N(E(),function(){return B(a,h)}):B(a,h))}function B(a,c){Wt(A),z(_),void 0!==b&&b.removeEventListener("abort",G),a?C(c):k(void 0)}var G;if(void 0!==b){if(G=function(){var h=new _i("Aborted","AbortError"),v=[];g===!1&&v.push(function(){return"writable"===c._state?bt(c,h):L(void 0)}),y===!1&&v.push(function(){return"readable"===a._state?Pn(a,h):L(void 0)}),D(function(){return Promise.all(v.map(function(a){return a()}))},!0,h)},b.aborted===!0)return void G();b.addEventListener("abort",G)}if(T(a,_._closedPromise,function(a){g===!1?D(function(){return bt(c,a)},!0,a):W(!0,a)}),T(c,A._closedPromise,function(c){y===!1?D(function(){return Pn(a,c)},!0,c):W(!0,c)}),F(a,_._closedPromise,function(){h===!1?D(function(){return jt(A)}):W()}),Pt(c)===!0||"closed"===c._state){var H=new TypeError("the destination writable stream closed before all data could be piped to it");y===!1?D(function(){return Pn(a,H)},!0,H):W(!0,H)}U(R())})}function xr(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_controlledReadableStream")?!0:!1}function Cr(a){var c=Rr(a);if(c!==!1){if(a._pulling===!0)return void(a._pullAgain=!0);a._pulling=!0;var h=a._pullAlgorithm();M(h,function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,Cr(a))},function(e){Or(a,e)})}}function Rr(a){var c=a._controlledReadableStream;if(Ir(a)===!1)return!1;if(a._started===!1)return!1;if(Rn(c)===!0&&tt(c)>0)return!0;var h=Lr(a);return h>0?!0:!1}function Pr(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0,a._strategySizeAlgorithm=void 0}function Er(a){var c=a._controlledReadableStream;a._closeRequested=!0,0===a._queue.length&&(Pr(a),En(c))}function Tr(a,c){var h=a._controlledReadableStream;if(Rn(h)===!0&&tt(h)>0)et(h,c,!1);else{var v=void 0;try{v=a._strategySizeAlgorithm(c)}catch(g){throw Or(a,g),g}try{ht(a,c,v)}catch(y){throw Or(a,y),y}}Cr(a)}function Or(a,e){var c=a._controlledReadableStream;"readable"===c._state&&(dt(a),Pr(a),Tn(c,e))}function Lr(a){var c=a._controlledReadableStream,h=c._state;return"errored"===h?null:"closed"===h?0:a._strategyHWM-a._queueTotalSize}function Fr(a){return Rr(a)===!0?!1:!0}function Ir(a){var c=a._controlledReadableStream._state;return a._closeRequested===!1&&"readable"===c?!0:!1}function Mr(a,c,h,v,g,y,b){c._controlledReadableStream=a,c._queue=void 0,c._queueTotalSize=void 0,dt(c),c._started=!1,c._closeRequested=!1,c._pullAgain=!1,c._pulling=!1,c._strategySizeAlgorithm=b,c._strategyHWM=y,c._pullAlgorithm=v,c._cancelAlgorithm=g,a._readableStreamController=c;var _=h();M(L(_),function(){c._started=!0,Cr(c)},function(r){Or(c,r)})}function Nr(a,c,h,v){function g(){return k(c,"start",[y])}var y=Object.create(Ai.prototype),b=w(c,"pull",0,[y]),_=w(c,"cancel",1,[]);Mr(a,y,g,b,_,h,v)}function jr(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function Dr(a){function c(){if(C===!0)return L(void 0);C=!0;var a=D(at(k),function(a){C=!1;var c=a.done;if(c===!0)return R===!1&&Er(A._readableStreamController),void(P===!1&&Er(S._readableStreamController));var h=a.value,v=h,g=h;R===!1&&Tr(A._readableStreamController,v),P===!1&&Tr(S._readableStreamController,g)});return U(a),L(void 0)}function h(c){if(R=!0,b=c,P===!0){var h=y([b,_]),v=Pn(a,h);w(v)}return E}function v(c){if(P=!0,_=c,R===!0){var h=y([b,_]),v=Pn(a,h);w(v)}return E}function g(){}var b,_,A,S,w,k=Z(a),C=!1,R=!1,P=!1,E=O(function(a){w=a});return A=kn(g,c,h),S=kn(g,c,v),j(k._closedPromise,function(r){Or(A._readableStreamController,r),Or(S._readableStreamController,r)}),[A,S]}function qr(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_controlledReadableByteStream")?!0:!1}function Ur(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_associatedReadableByteStreamController")?!0:!1}function Wr(a){var c=rn(a);if(c!==!1){if(a._pulling===!0)return void(a._pullAgain=!0);a._pulling=!0;var h=a._pullAlgorithm();M(h,function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,Wr(a))},function(e){sn(a,e)})}}function Br(a){Qr(a),a._pendingPullIntos=new si}function Gr(a,c){var h=!1;"closed"===a._state&&(h=!0);var v=zr(c);"default"===c.readerType?et(a,v,h):yn(a,v,h)}function zr(a){var c=a.bytesFilled,h=a.elementSize;return new a.ctor(a.buffer,a.byteOffset,c/h)}function Hr(a,c,h,v){a._queue.push({buffer:c,byteOffset:h,byteLength:v}),a._queueTotalSize+=v}function Xr(a,c){var h=c.elementSize,v=c.bytesFilled-c.bytesFilled%h,g=Math.min(a._queueTotalSize,c.byteLength-c.bytesFilled),y=c.bytesFilled+g,_=y-y%h,A=g,S=!1;_>v&&(A=_-c.bytesFilled,S=!0);for(var w=a._queue;A>0;){var k=w.peek(),C=Math.min(A,k.byteLength),R=c.byteOffset+c.bytesFilled;b(c.buffer,R,k.buffer,k.byteOffset,C),k.byteLength===C?w.shift():(k.byteOffset+=C,k.byteLength-=C),a._queueTotalSize-=C,Yr(a,C,c),A-=C}return S}function Yr(a,c,h){Qr(a),h.bytesFilled+=c}function Vr(a){0===a._queueTotalSize&&a._closeRequested===!0?(nn(a),En(a._controlledReadableByteStream)):Wr(a)}function Qr(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Kr(a){for(;a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var c=a._pendingPullIntos.peek();Xr(a,c)===!0&&(tn(a),Gr(a._controlledReadableByteStream,c))}}function Jr(a,c){var h=a._controlledReadableByteStream,v=1;c.constructor!==DataView&&(v=c.constructor.BYTES_PER_ELEMENT);var g=c.constructor,y=R(c.buffer),b={buffer:y,byteOffset:c.byteOffset,byteLength:c.byteLength,bytesFilled:0,elementSize:v,ctor:g,readerType:"byob"};if(a._pendingPullIntos.length>0)return a._pendingPullIntos.push(b),mn(h);if("closed"===h._state){var _=new g(b.buffer,b.byteOffset,0);return L(W(_,!0,h._reader._forAuthorCode))}if(a._queueTotalSize>0){if(Xr(a,b)===!0){var A=zr(b);return Vr(a),L(W(A,!1,h._reader._forAuthorCode))}if(a._closeRequested===!0){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");return sn(a,e),F(e)}}a._pendingPullIntos.push(b);var S=mn(h);return Wr(a),S}function Zr(a,c){c.buffer=R(c.buffer);var h=a._controlledReadableByteStream;if(_n(h)===!0)for(;bn(h)>0;){var v=tn(a);Gr(h,v)}}function $r(a,c,h){if(h.bytesFilled+c>h.byteLength)throw new RangeError("bytesWritten out of range");if(Yr(a,c,h),!(h.bytesFilled<h.elementSize)){tn(a);var v=h.bytesFilled%h.elementSize;if(v>0){var g=h.byteOffset+h.bytesFilled,y=h.buffer.slice(g-v,g);Hr(a,y,0,y.byteLength)}h.buffer=R(h.buffer),h.bytesFilled-=v,Gr(a._controlledReadableByteStream,h),Kr(a)}}function en(a,c){var h=a._pendingPullIntos.peek(),v=a._controlledReadableByteStream;if("closed"===v._state){if(0!==c)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Zr(a,h)}else $r(a,c,h);Wr(a)}function tn(a){var c=a._pendingPullIntos.shift();return Qr(a),c}function rn(a){var c=a._controlledReadableByteStream;if("readable"!==c._state)return!1;if(a._closeRequested===!0)return!1;if(a._started===!1)return!1;if(nt(c)===!0&&tt(c)>0)return!0;if(_n(c)===!0&&bn(c)>0)return!0;var h=un(a);return h>0?!0:!1}function nn(a){a._pullAlgorithm=void 0,a._cancelAlgorithm=void 0}function an(a){var c=a._controlledReadableByteStream;if(a._queueTotalSize>0)return void(a._closeRequested=!0);if(a._pendingPullIntos.length>0){var h=a._pendingPullIntos.peek();if(h.bytesFilled>0){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw sn(a,e),e}}nn(a),En(c)}function on(a,c){var h=a._controlledReadableByteStream,v=c.buffer,g=c.byteOffset,y=c.byteLength,b=R(v);if(nt(h)===!0)if(0===tt(h))Hr(a,b,g,y);else{var _=new Uint8Array(b,g,y);et(h,_,!1)}else _n(h)===!0?(Hr(a,b,g,y),Kr(a)):Hr(a,b,g,y);Wr(a)}function sn(a,e){var c=a._controlledReadableByteStream;"readable"===c._state&&(Br(a),dt(a),nn(a),Tn(c,e))}function un(a){var c=a._controlledReadableByteStream,h=c._state;return"errored"===h?null:"closed"===h?0:a._strategyHWM-a._queueTotalSize}function cn(a,c){if(c=Number(c),_(c)===!1)throw new RangeError("bytesWritten must be a finite");en(a,c)}function ln(a,c){var h=a._pendingPullIntos.peek();if(h.byteOffset+h.bytesFilled!==c.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(h.byteLength!==c.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");h.buffer=c.buffer,en(a,c.byteLength)}function hn(a,c,h,v,g,y,b){c._controlledReadableByteStream=a,c._pullAgain=!1,c._pulling=!1,c._byobRequest=void 0,c._queue=c._queueTotalSize=void 0,dt(c),c._closeRequested=!1,c._started=!1,c._strategyHWM=E(y),c._pullAlgorithm=v,c._cancelAlgorithm=g,c._autoAllocateChunkSize=b,c._pendingPullIntos=new si,a._readableStreamController=c;var _=h();M(L(_),function(){c._started=!0,Wr(c)},function(r){sn(c,r)})}function fn(a,c,h){function v(){return k(c,"start",[g])}var g=Object.create(ki.prototype),y=w(c,"pull",0,[g]),b=w(c,"cancel",1,[]),_=c.autoAllocateChunkSize;if(void 0!==_&&(_=Number(_),Si(_)===!1||0>=_))throw new RangeError("autoAllocateChunkSize must be a positive integer");hn(a,g,v,y,b,h,_)}function dn(a,c,h){a._associatedReadableByteStreamController=c,a._view=h}function pn(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function vn(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function gn(a,c){void 0===c&&(c=!1);var h=new xi(a);return h._forAuthorCode=c,h}function mn(a){var c=O(function(c,h){var v={_resolve:c,_reject:h};a._reader._readIntoRequests.push(v)});return c}function yn(a,c,h){var v=a._reader,g=v._readIntoRequests.shift();g._resolve(W(c,h,v._forAuthorCode))}function bn(a){return a._reader._readIntoRequests.length}function _n(a){var c=a._reader;return void 0===c?!1:An(c)?!0:!1}function An(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_readIntoRequests")?!0:!1}function Sn(a,c){var h=a._ownerReadableStream;return h._disturbed=!0,"errored"===h._state?F(h._storedError):Jr(h._readableStreamController,c)}function wn(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function kn(a,c,h,v,g){void 0===v&&(v=1),void 0===g&&(g=function(){return 1});var y=Object.create(Ci.prototype);xn(y);var b=Object.create(Ai.prototype);return Mr(y,b,a,c,h,v,g),y}function xn(a){a._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1}function Cn(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_readableStreamController")?!0:!1}function Rn(a){return void 0===a._reader?!1:!0}function Pn(a,c){if(a._disturbed=!0,"closed"===a._state)return L(void 0);if("errored"===a._state)return F(a._storedError);En(a);var h=a._readableStreamController[ci](c);return D(h,v)}function En(a){a._state="closed";var c=a._reader;void 0!==c&&(it(c)&&(c._readRequests.forEach(function(a){a._resolve(W(void 0,!0,c._forAuthorCode))}),c._readRequests=new si),J(c))}function Tn(a,e){a._state="errored",a._storedError=e;var c=a._reader;void 0!==c&&(it(c)?(c._readRequests.forEach(function(a){a._reject(e)}),c._readRequests=new si):(c._readIntoRequests.forEach(function(a){a._reject(e)}),c._readIntoRequests=new si),Q(c,e))}function On(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function Ln(a,c,h,v,g,y){function b(){return c}function _(c){return Hn(a,c)}function A(c){return Xn(a,c)}function S(){return Yn(a)}function w(){return Vn(a)}function k(c){return Mn(a,c),L(void 0)}a._writable=vt(b,_,S,A,h,v),a._readable=kn(b,w,k,g,y),a._backpressure=void 0,a._backpressureChangePromise=void 0,a._backpressureChangePromise_resolve=void 0,Nn(a,!0),a._transformStreamController=void 0}function Fn(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_transformStreamController")?!0:!1}function In(a,e){Or(a._readable._readableStreamController,e),Mn(a,e)}function Mn(a,e){Un(a._transformStreamController),Zt(a._writable._writableStreamController,e),a._backpressure===!0&&Nn(a,!1)}function Nn(a,c){void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(),a._backpressureChangePromise=O(function(c){a._backpressureChangePromise_resolve=c}),a._backpressure=c}function jn(x){return g(x)&&Object.prototype.hasOwnProperty.call(x,"_controlledTransformStream")?!0:!1}function Dn(a,c,h,v){c._controlledTransformStream=a,a._transformStreamController=c,c._transformAlgorithm=h,c._flushAlgorithm=v}function qn(a,c){var h=Object.create(Ti.prototype),v=function(a){try{return Wn(h,a),L(void 0)}catch(c){return F(c)}},g=c.transform;if(void 0!==g){if("function"!=typeof g)throw new TypeError("transform is not a method");v=function(a){return C(g,c,[a,h])}}var y=w(c,"flush",0,[h]);Dn(a,h,v,y)}function Un(a){a._transformAlgorithm=void 0,a._flushAlgorithm=void 0}function Wn(a,c){var h=a._controlledTransformStream,v=h._readable._readableStreamController;if(Ir(v)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{Tr(v,c)}catch(e){throw Mn(h,e),h._readable._storedError}var g=Fr(v);g!==h._backpressure&&Nn(h,!0)}function Bn(a,e){In(a._controlledTransformStream,e)}function Gn(a,c){var h=a._transformAlgorithm(c);return D(h,void 0,function(r){throw In(a._controlledTransformStream,r),r})}function zn(a){var c=a._controlledTransformStream,h=c._readable._readableStreamController;Ir(h)===!0&&Er(h);var v=new TypeError("TransformStream terminated");Mn(c,v)}function Hn(a,c){var h=a._transformStreamController;if(a._backpressure===!0){var v=a._backpressureChangePromise;return D(v,function(){var v=a._writable,g=v._state;if("erroring"===g)throw v._storedError;return Gn(h,c)})}return Gn(h,c)}function Xn(a,c){return In(a,c),L(void 0)}function Yn(a){var c=a._readable,h=a._transformStreamController,v=h._flushAlgorithm();return Un(h),D(v,function(){if("errored"===c._state)throw c._storedError;var a=c._readableStreamController;Ir(a)===!0&&Er(a)},function(r){throw In(a,r),c._storedError})}function Vn(a){return Nn(a,!1),a._backpressureChangePromise}function Qn(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function Kn(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}h.r(c),h.d(c,"ByteLengthQueuingStrategy",function(){return Ri}),h.d(c,"CountQueuingStrategy",function(){return Pi}),h.d(c,"ReadableStream",function(){return Ci}),h.d(c,"TransformStream",function(){return Ei}),h.d(c,"WritableStream",function(){return gi});var Jn,Zn,$n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(a){return"Symbol("+a+")"},ei=Number.isNaN||function(x){return x!==x},ti=v,ri=Promise,ni=Promise.prototype.then,ii=Promise.resolve.bind(ri),ai=Promise.reject.bind(ri),oi=16384,si=function(){function a(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(a.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),a.prototype.push=function(a){var c=this._back,h=c;c._elements.length===oi-1&&(h={_elements:[],_next:void 0}),c._elements.push(a),h!==c&&(this._back=h,c._next=h),++this._size},a.prototype.shift=function(){var a=this._front,c=a,h=this._cursor,v=h+1,g=a._elements,y=g[h];return v===oi&&(c=a._next,v=0),--this._size,this._cursor=v,a!==c&&(this._front=c),g[h]=void 0,y},a.prototype.forEach=function(a){for(var i=this._cursor,c=this._front,h=c._elements;!(i===h.length&&void 0===c._next||i===h.length&&(c=c._next,h=c._elements,i=0,0===h.length));)a(h[i]),++i},a.prototype.peek=function(){var a=this._front,c=this._cursor;return a._elements[c]},a}(),ci=$n("[[CancelSteps]]"),li=$n("[[PullSteps]]"),hi=function(){function a(a){if(Cn(a)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(Rn(a)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,a),this._readRequests=new si}return Object.defineProperty(a.prototype,"closed",{get:function(){return it(this)?this._closedPromise:F(ot("closed"))},enumerable:!0,configurable:!0}),a.prototype.cancel=function(a){return it(this)?void 0===this._ownerReadableStream?F(H("cancel")):G(this,a):F(ot("cancel"))},a.prototype.read=function(){return it(this)?void 0===this._ownerReadableStream?F(H("read from")):at(this):F(ot("read"))},a.prototype.releaseLock=function(){if(!it(this))throw ot("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}},a}();"symbol"==typeof $n.asyncIterator&&(Jn={},Jn[$n.asyncIterator]=function(){return this},Zn=Jn,Object.defineProperty(Zn,$n.asyncIterator,{enumerable:!1}));var di={next:function(){if(ut(this)===!1)return F(ct("next"));var a=this._asyncIteratorReader;return void 0===a._ownerReadableStream?F(H("iterate")):D(at(a),function(c){var h=c.done;h&&z(a);var v=c.value;return W(v,h,!0)})},"return":function(a){if(ut(this)===!1)return F(ct("next"));var c=this._asyncIteratorReader;if(void 0===c._ownerReadableStream)return F(H("finish iterating"));if(c._readRequests.length>0)return F(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(this._preventCancel===!1){var h=G(c,a);return z(c),D(h,function(){return W(a,!0,!0)})}return z(c),L(W(a,!0,!0))}};void 0!==Zn&&Object.setPrototypeOf(di,Zn),Object.defineProperty(di,"next",{enumerable:!1}),Object.defineProperty(di,"return",{enumerable:!1});var pi=$n("[[AbortSteps]]"),vi=$n("[[ErrorSteps]]"),gi=function(){function a(a,c){void 0===a&&(a={}),void 0===c&&(c={}),gt(this);var h=c.size,v=c.highWaterMark,g=a.type;if(void 0!==g)throw new RangeError("Invalid type is specified");var y=T(h);void 0===v&&(v=1),v=E(v),Ht(this,a,v,y)}return Object.defineProperty(a.prototype,"locked",{get:function(){if(mt(this)===!1)throw nr("locked");return yt(this)},enumerable:!0,configurable:!0}),a.prototype.abort=function(a){return mt(this)===!1?F(nr("abort")):yt(this)===!0?F(new TypeError("Cannot abort a stream that already has a writer")):bt(this,a)},a.prototype.getWriter=function(){if(mt(this)===!1)throw nr("getWriter");return pt(this)},a}(),mi=function(){function a(a){if(mt(a)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(yt(a)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=a,a._writer=this;var c=a._state;if("writable"===c)Pt(a)===!1&&a._backpressure===!0?pr(this):gr(this),ur(this);else if("erroring"===c)vr(this,a._storedError),ur(this);else if("closed"===c)gr(this),lr(this);else{var h=a._storedError;vr(this,h),cr(this,h)}}return Object.defineProperty(a.prototype,"closed",{get:function(){return It(this)===!1?F(ar("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(It(this)===!1)throw ar("desiredSize");if(void 0===this._ownerWritableStream)throw sr("desiredSize");return Ut(this)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ready",{get:function(){return It(this)===!1?F(ar("ready")):this._readyPromise},enumerable:!0,configurable:!0}),a.prototype.abort=function(a){return It(this)===!1?F(ar("abort")):void 0===this._ownerWritableStream?F(sr("abort")):Mt(this,a)},a.prototype.close=function(){if(It(this)===!1)return F(ar("close"));var a=this._ownerWritableStream;return void 0===a?F(sr("close")):Pt(a)===!0?F(new TypeError("cannot close an already-closing stream")):Nt(this)},a.prototype.releaseLock=function(){if(It(this)===!1)throw ar("releaseLock");var a=this._ownerWritableStream;void 0!==a&&Wt(this)},a.prototype.write=function(a){return It(this)===!1?F(ar("write")):void 0===this._ownerWritableStream?F(sr("write to")):Bt(this,a)},a}(),yi=function(){function a(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return a.prototype.error=function(e){if(Gt(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var a=this._controlledWritableStream._state;"writable"===a&&rr(this,e)},a.prototype[pi]=function(a){var c=this._abortAlgorithm(a);return Xt(this),c},a.prototype[vi]=function(){dt(this)},a}(),bi="undefined"!=typeof DOMException?DOMException:void 0,_i=Sr(bi)?bi:wr(),Ai=function(){function a(){throw new TypeError}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(xr(this)===!1)throw jr("desiredSize");return Lr(this)},enumerable:!0,configurable:!0}),a.prototype.close=function(){if(xr(this)===!1)throw jr("close");if(Ir(this)===!1)throw new TypeError("The stream is not in a state that permits close");Er(this)},a.prototype.enqueue=function(a){if(xr(this)===!1)throw jr("enqueue");if(Ir(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Tr(this,a)},a.prototype.error=function(e){if(xr(this)===!1)throw jr("error");Or(this,e)},a.prototype[ci]=function(a){dt(this);var c=this._cancelAlgorithm(a);return Pr(this),c},a.prototype[li]=function(){var a=this._controlledReadableStream;if(this._queue.length>0){var c=lt(this);return this._closeRequested===!0&&0===this._queue.length?(Pr(this),En(a)):Cr(this),L(W(c,!1,a._reader._forAuthorCode))}var h=$(a);return Cr(this),h},a}(),Si=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},wi=function(){function a(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(a.prototype,"view",{get:function(){if(Ur(this)===!1)throw pn("view");return this._view},enumerable:!0,configurable:!0}),a.prototype.respond=function(a){if(Ur(this)===!1)throw pn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");P(this._view.buffer)===!0,cn(this._associatedReadableByteStreamController,a)},a.prototype.respondWithNewView=function(a){if(Ur(this)===!1)throw pn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");P(a.buffer)===!0,ln(this._associatedReadableByteStreamController,a)},a}(),ki=function(){function a(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(a.prototype,"byobRequest",{get:function(){if(qr(this)===!1)throw vn("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var a=this._pendingPullIntos.peek(),c=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled),h=Object.create(wi.prototype);dn(h,this,c),this._byobRequest=h}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(qr(this)===!1)throw vn("desiredSize");return un(this)},enumerable:!0,configurable:!0}),a.prototype.close=function(){if(qr(this)===!1)throw vn("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableByteStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");an(this)},a.prototype.enqueue=function(a){if(qr(this)===!1)throw vn("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var c=this._controlledReadableByteStream._state;if("readable"!==c)throw new TypeError("The stream (in "+c+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");P(a.buffer)===!0,on(this,a)},a.prototype.error=function(e){if(qr(this)===!1)throw vn("error");sn(this,e)},a.prototype[ci]=function(a){if(this._pendingPullIntos.length>0){var c=this._pendingPullIntos.peek();c.bytesFilled=0}dt(this);var h=this._cancelAlgorithm(a);return nn(this),h},a.prototype[li]=function(){var a=this._controlledReadableByteStream;if(this._queueTotalSize>0){var c=this._queue.shift();this._queueTotalSize-=c.byteLength,Vr(this);var h=void 0;try{h=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}catch(v){return F(v)}return L(W(h,!1,a._reader._forAuthorCode))}var g=this._autoAllocateChunkSize;if(void 0!==g){var y=void 0;try{y=new ArrayBuffer(g)}catch(b){return F(b)}var _={buffer:y,byteOffset:0,byteLength:g,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(_)}var A=$(a);return Wr(this),A},a}(),xi=function(){function a(a){if(!Cn(a))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(qr(a._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Rn(a))throw new TypeError("This stream has already been locked for exclusive reading by another reader");B(this,a),this._readIntoRequests=new si}return Object.defineProperty(a.prototype,"closed",{get:function(){return An(this)?this._closedPromise:F(wn("closed"))},enumerable:!0,configurable:!0}),a.prototype.cancel=function(a){return An(this)?void 0===this._ownerReadableStream?F(H("cancel")):G(this,a):F(wn("cancel"))},a.prototype.read=function(a){return An(this)?void 0===this._ownerReadableStream?F(H("read from")):ArrayBuffer.isView(a)?(P(a.buffer)===!0,0===a.byteLength?F(new TypeError("view must have non-zero byteLength")):Sn(this,a)):F(new TypeError("view must be an array buffer view")):F(wn("read"))},a.prototype.releaseLock=function(){if(!An(this))throw wn("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}},a}(),Ci=function(){function a(a,c){void 0===a&&(a={}),void 0===c&&(c={}),xn(this);var h=c.size,v=c.highWaterMark,g=a.type,y=String(g);if("bytes"===y){if(void 0!==h)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===v&&(v=0),v=E(v),fn(this,a,v)}else{if(void 0!==g)throw new RangeError("Invalid type is specified");var b=T(h);void 0===v&&(v=1),v=E(v),Nr(this,a,v,b)}}return Object.defineProperty(a.prototype,"locked",{get:function(){if(Cn(this)===!1)throw On("locked");return Rn(this)},enumerable:!0,configurable:!0}),a.prototype.cancel=function(a){return Cn(this)===!1?F(On("cancel")):Rn(this)===!0?F(new TypeError("Cannot cancel a stream that already has a reader")):Pn(this,a)},a.prototype.getReader=function(a){var c=(void 0===a?{}:a).mode;if(Cn(this)===!1)throw On("getReader");if(void 0===c)return Z(this,!0);if(c=String(c),"byob"===c)return gn(this,!0);throw new RangeError("Invalid mode is specified")},a.prototype.pipeThrough=function(a,c){var h=a.writable,v=a.readable,g=void 0===c?{}:c,y=g.preventClose,b=g.preventAbort,_=g.preventCancel,A=g.signal;if(Cn(this)===!1)throw On("pipeThrough");if(mt(h)===!1)throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(Cn(v)===!1)throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(y=Boolean(y),b=Boolean(b),_=Boolean(_),void 0!==A&&!Ar(A))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(Rn(this)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(yt(h)===!0)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var S=kr(this,h,y,b,_,A);return U(S),v},a.prototype.pipeTo=function(a,c){var h=void 0===c?{}:c,v=h.preventClose,g=h.preventAbort,y=h.preventCancel,b=h.signal;return Cn(this)===!1?F(On("pipeTo")):mt(a)===!1?F(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(v=Boolean(v),g=Boolean(g),y=Boolean(y),void 0===b||Ar(b)?Rn(this)===!0?F(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):yt(a)===!0?F(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):kr(this,a,v,g,y,b):F(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},a.prototype.tee=function(){if(Cn(this)===!1)throw On("tee");var a=Dr(this);return y(a)},a.prototype.getIterator=function(a){var c=(void 0===a?{}:a).preventCancel,h=void 0===c?!1:c;if(Cn(this)===!1)throw On("getIterator");return st(this,h)},a}();"symbol"==typeof $n.asyncIterator&&Object.defineProperty(Ci.prototype,$n.asyncIterator,{value:Ci.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ri=function(){function a(a){var c=a.highWaterMark;this.highWaterMark=c}return a.prototype.size=function(a){return a.byteLength},a}(),Pi=function(){function a(a){var c=a.highWaterMark;this.highWaterMark=c}return a.prototype.size=function(){return 1},a}(),Ei=function(){function a(a,c,h){void 0===a&&(a={}),void 0===c&&(c={}),void 0===h&&(h={});var v=c.size,g=c.highWaterMark,y=h.size,b=h.highWaterMark,_=a.writableType;if(void 0!==_)throw new RangeError("Invalid writable type specified");var A=T(v);void 0===g&&(g=1),g=E(g);var S=a.readableType;if(void 0!==S)throw new RangeError("Invalid readable type specified");var w=T(y);void 0===b&&(b=0),b=E(b);var C,R=O(function(a){C=a});Ln(this,R,g,A,b,w),qn(this,a);var P=k(a,"start",[this._transformStreamController]);C(P)}return Object.defineProperty(a.prototype,"readable",{get:function(){if(Fn(this)===!1)throw Kn("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"writable",{get:function(){if(Fn(this)===!1)throw Kn("writable");return this._writable},enumerable:!0,configurable:!0}),a}(),Ti=function(){function a(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(a.prototype,"desiredSize",{get:function(){if(jn(this)===!1)throw Qn("desiredSize");var a=this._controlledTransformStream._readable._readableStreamController;return Lr(a)},enumerable:!0,configurable:!0}),a.prototype.enqueue=function(a){if(jn(this)===!1)throw Qn("enqueue");Wn(this,a)},a.prototype.error=function(a){if(jn(this)===!1)throw Qn("error");Bn(this,a)},a.prototype.terminate=function(){if(jn(this)===!1)throw Qn("terminate");zn(this)},a}()},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a,i){return y(a)||g(a,i)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(a,i){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],h=!0,v=!1,g=void 0;try{for(var y,b=a[Symbol.iterator]();!(h=(y=b.next()).done)&&(c.push(y.value),!i||c.length!==i);h=!0);}catch(_){v=!0,g=_}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}return c}}function y(a){return Array.isArray(a)?a:void 0}function b(a){return S(a)||A(a)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function A(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function S(a){if(Array.isArray(a)){for(var i=0,c=new Array(a.length);i<a.length;i++)c[i]=a[i];
return c}}function w(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function k(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function C(a,c,h){return c&&k(a.prototype,c),h&&k(a,h),a}function R(a){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function P(a){Z=a}function E(a){var c,h=new $;if("string"==typeof a)c={url:a};else if(F.isArrayBuffer(a))c={data:a};else if(a instanceof et)c={range:a};else{if("object"!==R(a))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw new Error("Invalid parameter object: need either .data, .range or .url");c=a}var v=Object.create(null),g=null,y=null;for(var b in c)if("url"!==b||"undefined"==typeof window)if("range"!==b)if("worker"!==b)if("data"!==b||c[b]instanceof Uint8Array)v[b]=c[b];else{var _=c[b];if("string"==typeof _)v[b]=F.stringToBytes(_);else if("object"!==R(_)||null===_||isNaN(_.length)){if(!F.isArrayBuffer(_))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");v[b]=new Uint8Array(_)}else v[b]=new Uint8Array(_)}else y=c[b];else g=c[b];else v[b]=new URL(c[b],window.location).href;v.rangeChunkSize=v.rangeChunkSize||H,v.CMapReaderFactory=v.CMapReaderFactory||I.DOMCMapReaderFactory,v.ignoreErrors=v.stopAtErrors!==!0,v.pdfBug=v.pdfBug===!0;var A=Object.values(F.NativeImageDecoding);if(void 0!==v.nativeImageDecoderSupport&&A.includes(v.nativeImageDecoderSupport)||(v.nativeImageDecoderSupport=N.apiCompatibilityParams.nativeImageDecoderSupport||F.NativeImageDecoding.DECODE),Number.isInteger(v.maxImageSize)||(v.maxImageSize=-1),"boolean"!=typeof v.isEvalSupported&&(v.isEvalSupported=!0),"boolean"!=typeof v.disableFontFace&&(v.disableFontFace=N.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof v.disableRange&&(v.disableRange=!1),"boolean"!=typeof v.disableStream&&(v.disableStream=!1),"boolean"!=typeof v.disableAutoFetch&&(v.disableAutoFetch=!1),"boolean"!=typeof v.disableCreateObjectURL&&(v.disableCreateObjectURL=N.apiCompatibilityParams.disableCreateObjectURL||!1),F.setVerbosityLevel(v.verbosity),!y){var S={verbosity:v.verbosity,port:U.GlobalWorkerOptions.workerPort};y=S.port?at.fromPort(S):new at(S),h._worker=y}var w=h.docId;return y.promise.then(function(){if(h.destroyed)throw new Error("Loading aborted");return T(y,v,g,w).then(function(a){if(h.destroyed)throw new Error("Loading aborted");var c;g?c=new G.PDFDataTransportStream({length:v.length,initialData:v.initialData,progressiveDone:v.progressiveDone,disableRange:v.disableRange,disableStream:v.disableStream},g):v.data||(c=Z({url:v.url,length:v.length,httpHeaders:v.httpHeaders,withCredentials:v.withCredentials,rangeChunkSize:v.rangeChunkSize,disableRange:v.disableRange,disableStream:v.disableStream}));var b=new W.MessageHandler(w,a,y.port);b.postMessageTransfers=y.postMessageTransfers;var _=new ot(b,h,c,v);h._transport=_,b.send("Ready",null)})})["catch"](h._capability.reject),h}function T(a,c,h,v){return a.destroyed?Promise.reject(new Error("Worker was destroyed")):(h&&(c.length=h.length,c.initialData=h.initialData,c.progressiveDone=h.progressiveDone),a.messageHandler.sendWithPromise("GetDocRequest",{docId:v,apiVersion:"2.4.132",source:{data:c.data,url:c.url,password:c.password,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize,length:c.length},maxImageSize:c.maxImageSize,disableFontFace:c.disableFontFace,disableCreateObjectURL:c.disableCreateObjectURL,postMessageTransfers:a.postMessageTransfers,docBaseUrl:c.docBaseUrl,nativeImageDecoderSupport:c.nativeImageDecoderSupport,ignoreErrors:c.ignoreErrors,isEvalSupported:c.isEvalSupported}).then(function(c){if(a.destroyed)throw new Error("Worker was destroyed");return c}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=E,exports.setPDFNetworkStreamFactory=P,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var O,L=c(a(182)),F=a(1),I=a(185),M=a(186),N=a(187),j=a(188),D=a(3),U=a(190),W=a(191),B=a(192),G=a(194),z=a(195),H=65536,X=100,Y=!1,V=null,Q=!1;"undefined"==typeof window?(Y=!0,"undefined"==typeof require.ensure&&(require.ensure=require("node-ensure")),Q=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(Q=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(O=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var K="undefined"!=typeof requirejs&&requirejs.load;if(V=Q?function(){return new Promise(function(a,c){require.ensure([],function(){try{var h;h=require("./pdf.worker.js"),a(h.WorkerMessageHandler)}catch(ex){c(ex)}},c,"pdfjsWorker")})}:K?function(){return new Promise(function(a,c){requirejs(["pdfjs-dist/build/pdf.worker"],function(h){try{a(h.WorkerMessageHandler)}catch(ex){c(ex)}},c)})}:null,!O&&"object"===("undefined"==typeof document?"undefined":R(document))&&"currentScript"in document){var J=document.currentScript&&document.currentScript.src;J&&(O=J.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}var Z,$=function(){var a=0,c=function(){function c(){w(this,c),this._capability=F.createPromiseCapability(),this._transport=null,this._worker=null,this.docId="d"+a++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return C(c,[{key:"destroy",value:function(){var a=this;this.destroyed=!0;var c=this._transport?this._transport.destroy():Promise.resolve();return c.then(function(){a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})}},{key:"then",value:function(){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._capability.promise}}]),c}();return c}(),et=function(){function a(c,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;w(this,a),this.length=c,this.initialData=h,this.progressiveDone=v,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=F.createPromiseCapability()}return C(a,[{key:"addRangeListener",value:function(a){this._rangeListeners.push(a)}},{key:"addProgressListener",value:function(a){this._progressListeners.push(a)}},{key:"addProgressiveReadListener",value:function(a){this._progressiveReadListeners.push(a)}},{key:"addProgressiveDoneListener",value:function(a){this._progressiveDoneListeners.push(a)}},{key:"onDataRange",value:function(a,c){var h=!0,v=!1,g=void 0;try{for(var y,b=this._rangeListeners[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value;_(a,c)}}catch(A){v=!0,g=A}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}}},{key:"onDataProgress",value:function(a,c){var h=this;this._readyCapability.promise.then(function(){var v=!0,g=!1,y=void 0;try{for(var b,_=h._progressListeners[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var A=b.value;A(a,c)}}catch(S){g=!0,y=S}finally{try{v||null==_["return"]||_["return"]()}finally{if(g)throw y}}})}},{key:"onDataProgressiveRead",value:function(a){var c=this;this._readyCapability.promise.then(function(){var h=!0,v=!1,g=void 0;try{for(var y,b=c._progressiveReadListeners[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value;_(a)}}catch(A){v=!0,g=A}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}})}},{key:"onDataProgressiveDone",value:function(){var a=this;this._readyCapability.promise.then(function(){var c=!0,h=!1,v=void 0;try{for(var g,y=a._progressiveDoneListeners[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var b=g.value;b()}}catch(_){h=!0,v=_}finally{try{c||null==y["return"]||y["return"]()}finally{if(h)throw v}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(){F.unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),a}();exports.PDFDataRangeTransport=et;var tt=function(){function a(c,h){w(this,a),this._pdfInfo=c,this._transport=h}return C(a,[{key:"getPage",value:function(a){return this._transport.getPage(a)}},{key:"getPageIndex",value:function(a){return this._transport.getPageIndex(a)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(a){return this._transport.getDestination(a)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),a}();exports.PDFDocumentProxy=tt;var nt=function(){function a(c,h,v){var g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!1;w(this,a),this.pageIndex=c,this._pageInfo=h,this._transport=v,this._stats=g?new I.StatTimer:null,this._pdfBug=g,this.commonObjs=v.commonObjs,this.objs=new st,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return C(a,[{key:"getViewport",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.scale,h=a.rotation,v=void 0===h?this.rotate:h,g=a.offsetX,y=void 0===g?0:g,b=a.offsetY,_=void 0===b?0:b,A=a.dontFlip,S=void 0===A?!1:A;if(arguments.length>1||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new I.PageViewport({viewBox:this.view,scale:c,rotation:v,offsetX:y,offsetY:_,dontFlip:S})}},{key:"getAnnotations",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.intent,h=void 0===c?null:c;return this.annotationsPromise&&this.annotationsIntent===h||(this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,h),this.annotationsIntent=h),this.annotationsPromise}},{key:"render",value:function(a){var c=this,h=a.canvasContext,v=a.viewport,g=a.intent,y=void 0===g?"display":g,b=a.enableWebGL,_=void 0===b?!1:b,A=a.renderInteractiveForms,S=void 0===A?!1:A,w=a.transform,k=void 0===w?null:w,C=a.imageLayer,R=void 0===C?null:C,P=a.canvasFactory,E=void 0===P?null:P,T=a.background,O=void 0===T?null:T;this._stats&&this._stats.time("Overall");var L="print"===y?"print":"display";this.pendingCleanup=!1,this.intentStates[L]||(this.intentStates[L]=Object.create(null));var M=this.intentStates[L];M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);var N=E||new I.DOMCanvasFactory,j=new z.WebGLContext({enable:_});M.displayReadyCapability||(M.displayReadyCapability=F.createPromiseCapability(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:L,renderInteractiveForms:S===!0}));var D=function(a){var i=M.renderTasks.indexOf(U);i>=0&&M.renderTasks.splice(i,1),(c.cleanupAfterRender||"print"===L)&&(c.pendingCleanup=!0),c._tryCleanup(),a?(U.capability.reject(a),c._abortOperatorList({intentState:M,reason:a})):U.capability.resolve(),c._stats&&(c._stats.timeEnd("Rendering"),c._stats.timeEnd("Overall"))},U=new ct({callback:D,params:{canvasContext:h,viewport:v,transform:k,imageLayer:R,background:O},objs:this.objs,commonObjs:this.commonObjs,operatorList:M.operatorList,pageNumber:this.pageNumber,canvasFactory:N,webGLContext:j,useRequestAnimationFrame:"print"!==L,pdfBug:this._pdfBug});M.renderTasks||(M.renderTasks=[]),M.renderTasks.push(U);var W=U.task;return M.displayReadyCapability.promise.then(function(a){return c.pendingCleanup?void D():(c._stats&&c._stats.time("Rendering"),U.initializeGraphics(a),void U.operatorListChanged())})["catch"](D),W}},{key:"getOperatorList",value:function(){function a(){if(v.operatorList.lastChunk){v.opListReadCapability.resolve(v.operatorList);var i=v.renderTasks.indexOf(h);i>=0&&v.renderTasks.splice(i,1)}}var c="oplist";this.intentStates[c]||(this.intentStates[c]=Object.create(null));var h,v=this.intentStates[c];return v.opListReadCapability||(h={},h.operatorListChanged=a,v.opListReadCapability=F.createPromiseCapability(),v.renderTasks=[],v.renderTasks.push(h),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this.pageIndex,intent:c})),v.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.normalizeWhitespace,h=void 0===c?!1:c,v=a.disableCombineTextItems,g=void 0===v?!1:v,y=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:h===!0,combineTextItems:g!==!0},{highWaterMark:y,size:function(a){return a.items.length}})}},{key:"getTextContent",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=this.streamTextContent(a);return new Promise(function(a,h){function v(){g.read().then(function(c){var h,g=c.value,_=c.done;return _?void a(y):(Object.assign(y.styles,g.styles),(h=y.items).push.apply(h,b(g.items)),void v())},h)}var g=c.getReader(),y={items:[],styles:Object.create(null)};v()})}},{key:"_destroy",value:function(){var a=this;this.destroyed=!0,this._transport.pageCache[this.pageIndex]=null;var c=[];return Object.keys(this.intentStates).forEach(function(h){var v=a.intentStates[h];a._abortOperatorList({intentState:v,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==h&&v.renderTasks.forEach(function(a){var h=a.capability.promise["catch"](function(){});c.push(h),a.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(c)}},{key:"cleanup",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;this.pendingCleanup=!0,this._tryCleanup(a)}},{key:"_tryCleanup",value:function(){var a=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;this.pendingCleanup&&!Object.keys(this.intentStates).some(function(c){var h=a.intentStates[c];return 0!==h.renderTasks.length||!h.operatorList.lastChunk})&&(Object.keys(this.intentStates).forEach(function(c){delete a.intentStates[c]}),this.objs.clear(),this.annotationsPromise=null,c&&this._stats&&(this._stats=new I.StatTimer),this.pendingCleanup=!1)}},{key:"_startRenderPage",value:function(a,c){var h=this.intentStates[c];h&&(this._stats&&this._stats.timeEnd("Page Request"),h.displayReadyCapability&&h.displayReadyCapability.resolve(a))}},{key:"_renderPageChunk",value:function(a,c){for(var i=0,h=a.length;h>i;i++)c.operatorList.fnArray.push(a.fnArray[i]),c.operatorList.argsArray.push(a.argsArray[i]);c.operatorList.lastChunk=a.lastChunk;for(var v=0;v<c.renderTasks.length;v++)c.renderTasks[v].operatorListChanged();a.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(a){var c=this;F.assert(a.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var h=this._transport.messageHandler.sendWithStream("GetOperatorList",a),v=h.getReader(),g=this.intentStates[a.intent];g.streamReader=v;var y=function b(){v.read().then(function(a){var h=a.value,v=a.done;return v?void(g.streamReader=null):void(c._transport.destroyed||(c._renderPageChunk(h,g),b()))},function(a){if(g.streamReader=null,!c._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(var i=0;i<g.renderTasks.length;i++)g.renderTasks[i].operatorListChanged();c._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(a);else{if(!g.opListReadCapability)throw a;g.opListReadCapability.reject(a)}}})};y()}},{key:"_abortOperatorList",value:function(a){var c=this,h=a.intentState,v=a.reason,g=a.force,y=void 0===g?!1:g;if(F.assert(v instanceof Error||"object"===R(v)&&null!==v,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),h.streamReader){if(!y){if(0!==h.renderTasks.length)return;if(v instanceof I.RenderingCancelledException)return void(h.streamReaderCancelTimeout=setTimeout(function(){c._abortOperatorList({intentState:h,reason:v,force:!0}),h.streamReaderCancelTimeout=null},X))}h.streamReader.cancel(new F.AbortException(v&&v.message)),h.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(function(a){return c.intentStates[a]===h?(delete c.intentStates[a],!0):!1}),this.cleanup())}}},{key:"pageNumber",get:function(){return this.pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),a}();exports.PDFPageProxy=nt;var it=function(){function a(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;w(this,a),this._listeners=[],this._defer=c,this._deferred=Promise.resolve(void 0)}return C(a,[{key:"postMessage",value:function(a,c){function h(a){if("object"!==R(a)||null===a)return a;if(g.has(a))return g.get(a);var v,y;if((v=a.buffer)&&F.isArrayBuffer(v)){var b=c&&c.includes(v);return y=a===v?a:b?new a.constructor(v,a.byteOffset,a.byteLength):new a.constructor(a),g.set(a,y),y}y=Array.isArray(a)?[]:{},g.set(a,y);for(var i in a){for(var _=void 0,p=a;!(_=Object.getOwnPropertyDescriptor(p,i));)p=Object.getPrototypeOf(p);if("undefined"!=typeof _.value)if("function"!=typeof _.value)y[i]=h(_.value);else if(a.hasOwnProperty&&a.hasOwnProperty(i))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(a[i]))}return y}var v=this;if(!this._defer)return void this._listeners.forEach(function(c){c.call(v,{data:a})});var g=new WeakMap,e={data:h(a)};this._deferred.then(function(){v._listeners.forEach(function(a){a.call(v,e)})})}},{key:"addEventListener",value:function(a,c){this._listeners.push(c)}},{key:"removeEventListener",value:function(a,c){var i=this._listeners.indexOf(c);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),a}();exports.LoopbackPort=it;var at=function(){function a(){if(U.GlobalWorkerOptions.workerSrc)return U.GlobalWorkerOptions.workerSrc;if("undefined"!=typeof O)return O;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function c(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(ex){}return null}function h(){if(g)return g.promise;g=F.createPromiseCapability();var h=c();if(h)return g.resolve(h),g.promise;var v=V||function(){return I.loadScript(a()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})};return v().then(g.resolve,g.reject),g.promise}function v(a){var c="importScripts('"+a+"');";return URL.createObjectURL(new Blob([c]))}var g,y=new WeakMap,b=0,_=function(){function g(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=a.name,h=void 0===c?null:c,v=a.port,port=void 0===v?null:v,b=a.verbosity,_=void 0===b?F.getVerbosityLevel():b;if(w(this,g),port&&y.has(port))throw new Error("Cannot use more than one PDFWorker per port");return this.name=h,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=_,this._readyCapability=F.createPromiseCapability(),this._port=null,this._webWorker=null,this._messageHandler=null,port?(y.set(port,this),void this._initializeFromPort(port)):void this._initialize()}return C(g,[{key:"_initializeFromPort",value:function(port){this._port=port,this._messageHandler=new W.MessageHandler("main","worker",port),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var h=this;if("undefined"!=typeof Worker&&!Y&&!c()){var g=a();try{F.isSameOrigin(window.location.href,g)||(g=v(new URL(g,window.location).href));var y=new Worker(g),b=new W.MessageHandler("main","worker",y),_=function(){y.removeEventListener("error",A),b.destroy(),y.terminate(),h.destroyed?h._readyCapability.reject(new Error("Worker was destroyed")):h._setupFakeWorker()},A=function(){h._webWorker||_()};y.addEventListener("error",A),b.on("test",function(a){return y.removeEventListener("error",A),h.destroyed?void _():void(a?(h._messageHandler=b,h._port=y,h._webWorker=y,a.supportTransfers||(h.postMessageTransfers=!1),h._readyCapability.resolve(),b.send("configure",{verbosity:h.verbosity})):(h._setupFakeWorker(),b.destroy(),y.terminate()))}),b.on("ready",function(){if(y.removeEventListener("error",A),h.destroyed)return void _();try{S()}catch(e){h._setupFakeWorker()}});var S=function(){var a=new Uint8Array([h.postMessageTransfers?255:0]);try{b.send("test",a,[a.buffer])}catch(ex){F.warn("Cannot use postMessage transfers."),a[0]=0,b.send("test",a)}};return void S()}catch(e){F.info("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;Y||(F.warn("Setting up fake worker."),Y=!0),h().then(function(c){if(a.destroyed)return void a._readyCapability.reject(new Error("Worker was destroyed"));var port=new it;a._port=port;var h="fake"+b++,v=new W.MessageHandler(h+"_worker",h,port);c.setup(v,port);var g=new W.MessageHandler(h,h+"_worker",port);a._messageHandler=g,a._readyCapability.resolve()})["catch"](function(c){a._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(c.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),y["delete"](this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(a){if(!a||!a.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return y.has(a.port)?y.get(a.port):new g(a)}},{key:"getWorkerSrc",value:function(){return a()}}]),g}();return _}();exports.PDFWorker=at;var ot=function(){function a(c,h,v,g){w(this,a),this.messageHandler=c,this.loadingTask=h,this.commonObjs=new st,this.fontLoader=new M.FontLoader({docId:h.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=g,this.CMapReaderFactory=new g.CMapReaderFactory({baseUrl:g.cMapUrl,isCompressed:g.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=v,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=F.createPromiseCapability(),this.setupMessageHandler()}return C(a,[{key:"destroy",value:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=F.createPromiseCapability(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var c=[];this.pageCache.forEach(function(a){a&&c.push(a._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var h=this.messageHandler.sendWithPromise("Terminate",null);return c.push(h),Promise.all(c).then(function(){a.fontLoader.clear(),a._networkStream&&a._networkStream.cancelAllRequests(new F.AbortException("Worker was terminated.")),a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null),a.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var a=this,c=this.messageHandler,v=this.loadingTask;c.on("GetReader",function(c,h){F.assert(a._networkStream),a._fullReader=a._networkStream.getFullReader(),a._fullReader.onProgress=function(c){a._lastProgress={loaded:c.loaded,total:c.total}},h.onPull=function(){a._fullReader.read().then(function(a){var c=a.value,v=a.done;return v?void h.close():(F.assert(F.isArrayBuffer(c)),void h.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){h.error(a)})},h.onCancel=function(c){a._fullReader.cancel(c)}}),c.on("ReaderHeadersReady",function(){var c=F.createPromiseCapability(),h=a._fullReader;return h.headersReady.then(function(){h.isStreamingSupported&&h.isRangeSupported||(a._lastProgress&&v.onProgress&&v.onProgress(a._lastProgress),h.onProgress=function(a){v.onProgress&&v.onProgress({loaded:a.loaded,total:a.total})}),c.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},c.reject),c.promise}),c.on("GetRangeReader",function(c,h){F.assert(a._networkStream);var v=a._networkStream.getRangeReader(c.begin,c.end);return v?(h.onPull=function(){v.read().then(function(a){var c=a.value,v=a.done;return v?void h.close():(F.assert(F.isArrayBuffer(c)),void h.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){h.error(a)})},void(h.onCancel=function(a){v.cancel(a)})):void h.close()}),c.on("GetDoc",function(c){var h=c.pdfInfo;a._numPages=h.numPages,v._capability.resolve(new tt(h,a))}),c.on("DocException",function(ex){var a;switch(ex.name){case"PasswordException":a=new F.PasswordException(ex.message,ex.code);break;case"InvalidPDFException":a=new F.InvalidPDFException(ex.message);break;case"MissingPDFException":a=new F.MissingPDFException(ex.message);break;case"UnexpectedResponseException":a=new F.UnexpectedResponseException(ex.message,ex.status);break;case"UnknownErrorException":a=new F.UnknownErrorException(ex.message,ex.details)}v._capability.reject(a)}),c.on("PasswordRequest",function(c){if(a._passwordCapability=F.createPromiseCapability(),v.onPassword){var h=function(c){a._passwordCapability.resolve({password:c})};try{v.onPassword(h,c.code)}catch(ex){a._passwordCapability.reject(ex)}}else a._passwordCapability.reject(new F.PasswordException(c.message,c.code));return a._passwordCapability.promise}),c.on("DataLoaded",function(c){v.onProgress&&v.onProgress({loaded:c.length,total:c.length}),a.downloadInfoCapability.resolve(c)}),c.on("StartRenderPage",function(c){if(!a.destroyed){var h=a.pageCache[c.pageIndex];h._startRenderPage(c.transparency,c.intent)}}),c.on("commonobj",function(v){if(!a.destroyed){var g=h(v,3),y=g[0],b=g[1],_=g[2];if(!a.commonObjs.has(y))switch(b){case"Font":var A=a._params;if("error"in _){var S=_.error;F.warn("Error during font loading: ".concat(S)),a.commonObjs.resolve(y,S);break}var w=null;A.pdfBug&&D.globalScope.FontInspector&&D.globalScope.FontInspector.enabled&&(w={registerFont:function(a,c){D.globalScope.FontInspector.fontAdded(a,c)}});var k=new M.FontFaceObject(_,{isEvalSupported:A.isEvalSupported,disableFontFace:A.disableFontFace,ignoreErrors:A.ignoreErrors,onUnsupportedFeature:a._onUnsupportedFeature.bind(a),fontRegistry:w});a.fontLoader.bind(k).then(function(){a.commonObjs.resolve(y,k)},function(){c.sendWithPromise("FontFallback",{id:y})["finally"](function(){a.commonObjs.resolve(y,k)})});break;case"FontPath":case"FontType3Res":a.commonObjs.resolve(y,_);break;default:throw new Error("Got unknown common object type ".concat(b))}}}),c.on("obj",function(c){if(a.destroyed)return void 0;var v=h(c,4),g=v[0],y=v[1],b=v[2],_=v[3],A=a.pageCache[y];if(A.objs.has(g))return void 0;switch(b){case"JpegStream":return new Promise(function(a,c){var h=new Image;h.onload=function(){a(h)},h.onerror=function(){c(new Error("Error during JPEG image loading")),I.releaseImageResources(h)},h.src=_}).then(function(a){A.objs.resolve(g,a)});case"Image":A.objs.resolve(g,_);var S=8e6;_&&"data"in _&&_.data.length>S&&(A.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(b))}return void 0}),c.on("DocProgress",function(c){a.destroyed||v.onProgress&&v.onProgress({loaded:c.loaded,total:c.total})}),c.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),c.on("JpegDecode",function(c){if(a.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var v=h(c,2),g=v[0],y=v[1];return 3!==y&&1!==y?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(a,c){var h=new Image;h.onload=function(){var c=h.width,v=h.height,g=c*v,b=4*g,_=new Uint8ClampedArray(g*y),A=document.createElement("canvas");A.width=c,A.height=v;var S=A.getContext("2d");S.drawImage(h,0,0);var w=S.getImageData(0,0,c,v).data;if(3===y)for(var i=0,k=0;b>i;i+=4,k+=3)_[k]=w[i],_[k+1]=w[i+1],_[k+2]=w[i+2];else if(1===y)for(var C=0,R=0;b>C;C+=4,R++)_[R]=w[C];a({data:_,width:c,height:v}),I.releaseImageResources(h),A.width=0,A.height=0,A=null,S=null},h.onerror=function(){c(new Error("JpegDecode failed to load image")),I.releaseImageResources(h)},h.src=g})}),c.on("FetchBuiltInCMap",function(c,h){if(a.destroyed)return void h.error(new Error("Worker was destroyed"));var v=!1;h.onPull=function(){return v?void h.close():(v=!0,void a.CMapReaderFactory.fetch(c).then(function(a){h.enqueue(a,1,[a.cMapData.buffer])})["catch"](function(a){h.error(a)}))}})}},{key:"_onUnsupportedFeature",value:function(a){var c=a.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(c)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(a){var c=this;if(!Number.isInteger(a)||0>=a||a>this._numPages)return Promise.reject(new Error("Invalid page request"));var h=a-1;if(h in this.pagePromises)return this.pagePromises[h];var v=this.messageHandler.sendWithPromise("GetPage",{pageIndex:h}).then(function(a){if(c.destroyed)throw new Error("Transport destroyed");var v=new nt(h,a,c,c._params.pdfBug);return c.pageCache[h]=v,v});return this.pagePromises[h]=v,v}},{key:"getPageIndex",value:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})["catch"](function(a){return Promise.reject(new Error(a))})}},{key:"getAnnotations",value:function(a,c){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:c})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(a){return"string"!=typeof a?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)
}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var a=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(c){return{info:c[0],metadata:c[1]?new B.Metadata(c[1]):null,contentDispositionFilename:a._fullReader?a._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var i=0,c=a.pageCache.length;c>i;i++){var h=a.pageCache[i];h&&h.cleanup()}a.commonObjs.clear(),a.fontLoader.clear()})}},{key:"loadingParams",get:function(){var a=this._params;return F.shadow(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}]),a}(),st=function(){function a(){w(this,a),this._objs=Object.create(null)}return C(a,[{key:"_ensureObj",value:function(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:F.createPromiseCapability(),data:null,resolved:!1}}},{key:"get",value:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(c)return this._ensureObj(a).capability.promise.then(c),null;var h=this._objs[a];if(!h||!h.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(a,"."));return h.data}},{key:"has",value:function(a){var c=this._objs[a];return c?c.resolved:!1}},{key:"resolve",value:function(a,c){var h=this._ensureObj(a);h.resolved=!0,h.data=c,h.capability.resolve(c)}},{key:"clear",value:function(){for(var a in this._objs){var c=this._objs[a].data;"undefined"!=typeof Image&&c instanceof Image&&I.releaseImageResources(c)}this._objs=Object.create(null)}}]),a}(),ut=function(){function a(c){w(this,a),this._internalRenderTask=c,this.onContinue=null}return C(a,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),a}(),ct=function(){var a=new WeakSet,c=function(){function c(a){var h=a.callback,v=a.params,g=a.objs,y=a.commonObjs,b=a.operatorList,_=a.pageNumber,A=a.canvasFactory,S=a.webGLContext,k=a.useRequestAnimationFrame,C=void 0===k?!1:k,R=a.pdfBug,P=void 0===R?!1:R;w(this,c),this.callback=h,this.params=v,this.objs=g,this.commonObjs=y,this.operatorListIdx=null,this.operatorList=b,this.pageNumber=_,this.canvasFactory=A,this.webGLContext=S,this._pdfBug=P,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=C===!0&&"undefined"!=typeof window,this.cancelled=!1,this.capability=F.createPromiseCapability(),this.task=new ut(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=v.canvasContext.canvas}return C(c,[{key:"initializeGraphics",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;if(!this.cancelled){if(this._canvas){if(a.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.add(this._canvas)}this._pdfBug&&D.globalScope.StepperManager&&D.globalScope.StepperManager.enabled&&(this.stepper=D.globalScope.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var h=this.params,v=h.canvasContext,g=h.viewport,y=h.transform,b=h.imageLayer,_=h.background;this.gfx=new j.CanvasGraphics(v,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,b),this.gfx.beginDrawing({transform:y,viewport:g,transparency:c,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&a["delete"](this._canvas),this.callback(c||new I.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var a=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){a._nextBound()["catch"](a.cancel.bind(a))}):Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},{key:"_next",value:function(){return L["default"].async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.cancelled){c.next=2;break}return c.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a["delete"](this._canvas),this.callback()));case 4:case"end":return c.stop()}},null,this)}}]),c}();return c}(),lt="2.4.132";exports.version=lt;var ht="f7aafcb2";exports.build=ht},function(module,exports,a){"use strict";module.exports=a(183)},function(module,exports,a){"use strict";(function(module){function a(c){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}var c=function(exports){function c(a,c,h,g){var y=c&&c.prototype instanceof v?c:v,b=Object.create(y.prototype),_=new C(g||[]);return b._invoke=A(a,h,_),b}function h(a,c,h){try{return{type:"normal",arg:a.call(c,h)}}catch(v){return{type:"throw",arg:v}}}function v(){}function g(){}function y(){}function b(a){["next","throw","return"].forEach(function(c){a[c]=function(a){return this._invoke(c,a)}})}function _(c){function v(g,y,b,_){var A=h(c[g],c,y);if("throw"!==A.type){var S=A.arg,w=S.value;return w&&"object"===a(w)&&O.call(w,"__await")?Promise.resolve(w.__await).then(function(a){v("next",a,b,_)},function(a){v("throw",a,b,_)}):Promise.resolve(w).then(function(a){S.value=a,b(S)},function(a){return v("throw",a,b,_)})}_(A.arg)}function g(a,c){function h(){return new Promise(function(h,g){v(a,c,h,g)})}return y=y?y.then(h,h):h()}var y;this._invoke=g}function A(a,c,v){var g=N;return function(y,b){if(g===D)throw new Error("Generator is already running");if(g===U){if("throw"===y)throw b;return P()}for(v.method=y,v.arg=b;;){var _=v.delegate;if(_){var A=S(_,v);if(A){if(A===W)continue;return A}}if("next"===v.method)v.sent=v._sent=v.arg;else if("throw"===v.method){if(g===N)throw g=U,v.arg;v.dispatchException(v.arg)}else"return"===v.method&&v.abrupt("return",v.arg);g=D;var w=h(a,c,v);if("normal"===w.type){if(g=v.done?U:j,w.arg===W)continue;return{value:w.arg,done:v.done}}"throw"===w.type&&(g=U,v.method="throw",v.arg=w.arg)}}}function S(a,c){var v=a.iterator[c.method];if(v===E){if(c.delegate=null,"throw"===c.method){if(a.iterator["return"]&&(c.method="return",c.arg=E,S(a,c),"throw"===c.method))return W;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return W}var g=h(v,a.iterator,c.arg);if("throw"===g.type)return c.method="throw",c.arg=g.arg,c.delegate=null,W;var y=g.arg;return y?y.done?(c[a.resultName]=y.value,c.next=a.nextLoc,"return"!==c.method&&(c.method="next",c.arg=E),c.delegate=null,W):y:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,W)}function w(a){var c={tryLoc:a[0]};1 in a&&(c.catchLoc=a[1]),2 in a&&(c.finallyLoc=a[2],c.afterLoc=a[3]),this.tryEntries.push(c)}function k(a){var c=a.completion||{};c.type="normal",delete c.arg,a.completion=c}function C(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(w,this),this.reset(!0)}function R(a){if(a){var c=a[F];if(c)return c.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var i=-1,h=function v(){for(;++i<a.length;)if(O.call(a,i))return v.value=a[i],v.done=!1,v;return v.value=E,v.done=!0,v};return h.next=h}}return{next:P}}function P(){return{value:E,done:!0}}var E,T=Object.prototype,O=T.hasOwnProperty,L="function"==typeof Symbol?Symbol:{},F=L.iterator||"@@iterator",I=L.asyncIterator||"@@asyncIterator",M=L.toStringTag||"@@toStringTag";exports.wrap=c;var N="suspendedStart",j="suspendedYield",D="executing",U="completed",W={},B={};B[F]=function(){return this};var G=Object.getPrototypeOf,z=G&&G(G(R([])));z&&z!==T&&O.call(z,F)&&(B=z);var H=y.prototype=v.prototype=Object.create(B);return g.prototype=H.constructor=y,y.constructor=g,y[M]=g.displayName="GeneratorFunction",exports.isGeneratorFunction=function(a){var c="function"==typeof a&&a.constructor;return c?c===g||"GeneratorFunction"===(c.displayName||c.name):!1},exports.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,y):(a.__proto__=y,M in a||(a[M]="GeneratorFunction")),a.prototype=Object.create(H),a},exports.awrap=function(a){return{__await:a}},b(_.prototype),_.prototype[I]=function(){return this},exports.AsyncIterator=_,exports.async=function(a,h,v,g){var y=new _(c(a,h,v,g));return exports.isGeneratorFunction(h)?y:y.next().then(function(a){return a.done?a.value:y.next()})},b(H),H[M]="Generator",H[F]=function(){return this},H.toString=function(){return"[object Generator]"},exports.keys=function(a){var c=[];for(var h in a)c.push(h);return c.reverse(),function v(){for(;c.length;){var h=c.pop();if(h in a)return v.value=h,v.done=!1,v}return v.done=!0,v}},exports.values=R,C.prototype={constructor:C,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(k),!a)for(var c in this)"t"===c.charAt(0)&&O.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=E)},stop:function(){this.done=!0;var a=this.tryEntries[0],c=a.completion;if("throw"===c.type)throw c.arg;return this.rval},dispatchException:function(a){function c(c,v){return g.type="throw",g.arg=a,h.next=c,v&&(h.method="next",h.arg=E),!!v}if(this.done)throw a;for(var h=this,i=this.tryEntries.length-1;i>=0;--i){var v=this.tryEntries[i],g=v.completion;if("root"===v.tryLoc)return c("end");if(v.tryLoc<=this.prev){var y=O.call(v,"catchLoc"),b=O.call(v,"finallyLoc");if(y&&b){if(this.prev<v.catchLoc)return c(v.catchLoc,!0);if(this.prev<v.finallyLoc)return c(v.finallyLoc)}else if(y){if(this.prev<v.catchLoc)return c(v.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<v.finallyLoc)return c(v.finallyLoc)}}}},abrupt:function(a,c){for(var i=this.tryEntries.length-1;i>=0;--i){var h=this.tryEntries[i];if(h.tryLoc<=this.prev&&O.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var v=h;break}}v&&("break"===a||"continue"===a)&&v.tryLoc<=c&&c<=v.finallyLoc&&(v=null);var g=v?v.completion:{};return g.type=a,g.arg=c,v?(this.method="next",this.next=v.finallyLoc,W):this.complete(g)},complete:function(a,c){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&c&&(this.next=c),W},finish:function(a){for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),k(c),W}},"catch":function(a){for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i];if(c.tryLoc===a){var h=c.completion;if("throw"===h.type){var v=h.arg;k(c)}return v}}throw new Error("illegal catch attempt")},delegateYield:function(a,c,h){return this.delegate={iterator:R(a),resultName:c,nextLoc:h},"next"===this.method&&(this.arg=E),W}},exports}("object"===a(module)?module.exports:{});try{regeneratorRuntime=c}catch(h){Function("r","regeneratorRuntime = r")(c)}}).call(this,a(184)(module))},function(module){"use strict";module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(a,c){return!c||"object"!==h(c)&&"function"!=typeof c?g(a):c}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function y(o){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function b(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&_(a,c)}function _(o,p){return(_=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function A(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function S(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function w(a,c,h){return c&&S(a.prototype,c),h&&S(a,h),a}function k(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=c.url,v=c.target,g=c.rel,y=c.enabled,b=void 0===y?!0:y;F.assert(h&&"string"==typeof h,'addLinkAttributes: A valid "url" parameter must provided.');var _=F.removeNullCharacters(h);b?a.href=a.title=_:(a.href="",a.title="Disabled: ".concat(_),a.onclick=function(){return!1});var A="";switch(v){case B.NONE:break;case B.SELF:A="_self";break;case B.BLANK:A="_blank";break;case B.PARENT:A="_parent";break;case B.TOP:A="_top"}a.target=A,a.rel="string"==typeof g?g:I}function C(a){var c=a.indexOf("#"),h=a.indexOf("?"),v=Math.min(c>0?c:a.length,h>0?h:a.length);return a.substring(a.lastIndexOf("/",v)+1,v)}function R(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function P(a,c){try{var h=c?new URL(a,c):new URL(a),v=h.protocol;return"http:"===v||"https:"===v}catch(ex){return!1}}function E(a){return new Promise(function(c,h){var v=document.createElement("script");v.src=a,v.onload=c,v.onerror=function(){h(new Error("Cannot load script at: ".concat(v.src)))},(document.head||document.documentElement).appendChild(v)})}function T(a){console.log("Deprecated API usage: "+a)}function O(a){F.assert(a instanceof Image,"Invalid `img` parameter.");var c=a.src;"string"==typeof c&&c.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(c),a.removeAttribute("src")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLinkAttributes=k,exports.getFilenameFromUrl=C,exports.isFetchSupported=R,exports.isValidFetchUrl=P,exports.loadScript=E,exports.deprecated=T,exports.releaseImageResources=O,exports.PDFDateString=exports.StatTimer=exports.DOMSVGFactory=exports.DOMCMapReaderFactory=exports.DOMCanvasFactory=exports.DEFAULT_LINK_REL=exports.LinkTarget=exports.RenderingCancelledException=exports.PageViewport=void 0;var L=c(a(182)),F=a(1),I="noopener noreferrer nofollow";exports.DEFAULT_LINK_REL=I;var M="http://www.w3.org/2000/svg",N=function(){function a(){A(this,a)}return w(a,[{key:"create",value:function(a,c){if(0>=a||0>=c)throw new Error("Invalid canvas size");var h=document.createElement("canvas"),v=h.getContext("2d");return h.width=a,h.height=c,{canvas:h,context:v}}},{key:"reset",value:function(a,c,h){if(!a.canvas)throw new Error("Canvas is not specified");if(0>=c||0>=h)throw new Error("Invalid canvas size");a.canvas.width=c,a.canvas.height=h}},{key:"destroy",value:function(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}}]),a}();exports.DOMCanvasFactory=N;var j=function(){function a(c){var h=c.baseUrl,v=void 0===h?null:h,g=c.isCompressed,y=void 0===g?!1:g;A(this,a),this.baseUrl=v,this.isCompressed=y}return w(a,[{key:"fetch",value:function(a){function c(){return a.apply(this,arguments)}return c.toString=function(){return a.toString()},c}(function(a){var c,h,v,g=this;return L["default"].async(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=a.name,this.baseUrl){y.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(c){y.next=5;break}throw new Error("CMap name must be specified.");case 5:if(h=this.baseUrl+c+(this.isCompressed?".bcmap":""),v=this.isCompressed?F.CMapCompressionType.BINARY:F.CMapCompressionType.NONE,!R()||!P(h,document.baseURI)){y.next=9;break}return y.abrupt("return",fetch(h).then(function(a){var c;return L["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:if(a.ok){h.next=2;break}throw new Error(a.statusText);case 2:if(!g.isCompressed){h.next=10;break}return h.t0=Uint8Array,h.next=6,L["default"].awrap(a.arrayBuffer());case 6:h.t1=h.sent,c=new h.t0(h.t1),h.next=15;break;case 10:return h.t2=F.stringToBytes,h.next=13,L["default"].awrap(a.text());case 13:h.t3=h.sent,c=h.t2(h.t3);case 15:return h.abrupt("return",{cMapData:c,compressionType:v});case 16:case"end":return h.stop()}})})["catch"](function(){throw new Error("Unable to load ".concat(g.isCompressed?"binary ":"")+"CMap at: ".concat(h))}));case 9:return y.abrupt("return",new Promise(function(a,c){var y=new XMLHttpRequest;y.open("GET",h,!0),g.isCompressed&&(y.responseType="arraybuffer"),y.onreadystatechange=function(){if(y.readyState===XMLHttpRequest.DONE){if(200===y.status||0===y.status){var h;if(g.isCompressed&&y.response?h=new Uint8Array(y.response):!g.isCompressed&&y.responseText&&(h=F.stringToBytes(y.responseText)),h)return void a({cMapData:h,compressionType:v})}c(new Error(y.statusText))}},y.send(null)})["catch"](function(){throw new Error("Unable to load ".concat(g.isCompressed?"binary ":"")+"CMap at: ".concat(h))}));case 10:case"end":return y.stop()}},null,this)})}]),a}();exports.DOMCMapReaderFactory=j;var D=function(){function a(){A(this,a)}return w(a,[{key:"create",value:function(a,c){F.assert(a>0&&c>0,"Invalid SVG dimensions");var h=document.createElementNS(M,"svg:svg");return h.setAttribute("version","1.1"),h.setAttribute("width",a+"px"),h.setAttribute("height",c+"px"),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox","0 0 "+a+" "+c),h}},{key:"createElement",value:function(a){return F.assert("string"==typeof a,"Invalid SVG element type"),document.createElementNS(M,a)}}]),a}();exports.DOMSVGFactory=D;var U=function(){function a(c){var h=c.viewBox,v=c.scale,g=c.rotation,y=c.offsetX,b=void 0===y?0:y,_=c.offsetY,S=void 0===_?0:_,w=c.dontFlip,k=void 0===w?!1:w;A(this,a),this.viewBox=h,this.scale=v,this.rotation=g,this.offsetX=b,this.offsetY=S;var C,R,P,E,T=(h[2]+h[0])/2,O=(h[3]+h[1])/2;switch(g%=360,g=0>g?g+360:g){case 180:C=-1,R=0,P=0,E=1;break;case 90:C=0,R=1,P=1,E=0;break;case 270:C=0,R=-1,P=-1,E=0;break;default:C=1,R=0,P=0,E=-1}k&&(P=-P,E=-E);var L,F,I,M;0===C?(L=Math.abs(O-h[1])*v+b,F=Math.abs(T-h[0])*v+S,I=Math.abs(h[3]-h[1])*v,M=Math.abs(h[2]-h[0])*v):(L=Math.abs(T-h[0])*v+b,F=Math.abs(O-h[1])*v+S,I=Math.abs(h[2]-h[0])*v,M=Math.abs(h[3]-h[1])*v),this.transform=[C*v,R*v,P*v,E*v,L-C*v*T-P*v*O,F-R*v*T-E*v*O],this.width=I,this.height=M}return w(a,[{key:"clone",value:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=c.scale,v=void 0===h?this.scale:h,g=c.rotation,y=void 0===g?this.rotation:g,b=c.offsetX,_=void 0===b?this.offsetX:b,A=c.offsetY,S=void 0===A?this.offsetY:A,w=c.dontFlip,k=void 0===w?!1:w;return new a({viewBox:this.viewBox.slice(),scale:v,rotation:y,offsetX:_,offsetY:S,dontFlip:k})}},{key:"convertToViewportPoint",value:function(x,a){return F.Util.applyTransform([x,a],this.transform)}},{key:"convertToViewportRectangle",value:function(a){var c=F.Util.applyTransform([a[0],a[1]],this.transform),h=F.Util.applyTransform([a[2],a[3]],this.transform);return[c[0],c[1],h[0],h[1]]}},{key:"convertToPdfPoint",value:function(x,a){return F.Util.applyInverseTransform([x,a],this.transform)}}]),a}();exports.PageViewport=U;var W=function(a){function c(a,h){var g;return A(this,c),g=v(this,y(c).call(this,a)),g.type=h,g}return b(c,a),c}(F.BaseException);exports.RenderingCancelledException=W;var B={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};exports.LinkTarget=B;var G=function(){function a(){A(this,a),this.started=Object.create(null),this.times=[]}return w(a,[{key:"time",value:function(a){a in this.started&&F.warn("Timer is already running for ".concat(a)),this.started[a]=Date.now()}},{key:"timeEnd",value:function(a){a in this.started||F.warn("Timer has not been started for ".concat(a)),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}},{key:"toString",value:function(){var a=[],c=0,h=!0,v=!1,g=void 0;try{for(var y,b=this.times[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var _=y.value,A=_.name;A.length>c&&(c=A.length)}}catch(S){v=!0,g=S}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}var w=!0,k=!1,C=void 0;try{for(var R,P=this.times[Symbol.iterator]();!(w=(R=P.next()).done);w=!0){var E=R.value,T=E.end-E.start;a.push("".concat(E.name.padEnd(c)," ").concat(T,"ms\n"))}}catch(S){k=!0,C=S}finally{try{w||null==P["return"]||P["return"]()}finally{if(k)throw C}}return a.join("")}}]),a}();exports.StatTimer=G;var z,H=function(){function a(){A(this,a)}return w(a,null,[{key:"toDateObject",value:function(a){if(!a||!F.isString(a))return null;z||(z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var c=z.exec(a);if(!c)return null;var h=parseInt(c[1],10),v=parseInt(c[2],10);v=v>=1&&12>=v?v-1:0;var g=parseInt(c[3],10);g=g>=1&&31>=g?g:1;var y=parseInt(c[4],10);y=y>=0&&23>=y?y:0;var b=parseInt(c[5],10);b=b>=0&&59>=b?b:0;var _=parseInt(c[6],10);_=_>=0&&59>=_?_:0;var A=c[7]||"Z",S=parseInt(c[8],10);S=S>=0&&23>=S?S:0;var w=parseInt(c[9],10)||0;return w=w>=0&&59>=w?w:0,"-"===A?(y+=S,b+=w):"+"===A&&(y-=S,b-=w),new Date(Date.UTC(h,v,g,y,b,_))}}]),a}();exports.PDFDateString=H},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(a,c){return!c||"object"!==h(c)&&"function"!=typeof c?g(a):c}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function y(o){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function b(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&_(a,c)}function _(o,p){return(_=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function A(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function S(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function w(a,c,h){return c&&S(a.prototype,c),h&&S(a,h),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontLoader=exports.FontFaceObject=void 0;var k,C=c(a(182)),R=a(1),P=function(){function a(c){var h=c.docId,v=c.onUnsupportedFeature;A(this,a),this.constructor===a&&R.unreachable("Cannot initialize BaseFontLoader."),this.docId=h,this._onUnsupportedFeature=v,this.nativeFontFaces=[],this.styleElement=null}return w(a,[{key:"addNativeFontFace",value:function(a){this.nativeFontFaces.push(a),document.fonts.add(a)}},{key:"insertRule",value:function(a){var c=this.styleElement;c||(c=this.styleElement=document.createElement("style"),c.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(c));var h=c.sheet;h.insertRule(a,h.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(a){document.fonts["delete"](a)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(a){var c,h,v=this;return C["default"].async(function(g){for(;;)switch(g.prev=g.next){case 0:if(!a.attached&&!a.missingFile){g.next=2;break}return g.abrupt("return",void 0);case 2:if(a.attached=!0,!this.isFontLoadingAPISupported){g.next=19;break}if(c=a.createNativeFontFace(),!c){g.next=18;break}return this.addNativeFontFace(c),g.prev=7,g.next=10,C["default"].awrap(c.loaded);case 10:g.next=18;break;case 12:throw g.prev=12,g.t0=g["catch"](7),this._onUnsupportedFeature({featureId:R.UNSUPPORTED_FEATURES.font}),R.warn("Failed to load font '".concat(c.family,"': '").concat(g.t0,"'.")),a.disableFontFace=!0,g.t0;case 18:return g.abrupt("return",void 0);case 19:if(h=a.createFontFaceRule(),!h){g.next=25;break}if(this.insertRule(h),!this.isSyncFontLoadingSupported){g.next=24;break}return g.abrupt("return",void 0);case 24:return g.abrupt("return",new Promise(function(c){var g=v._queueLoadingCallback(c);v._prepareFontLoadEvent([h],[a],g)}));case 25:return g.abrupt("return",void 0);case 26:case"end":return g.stop()}},null,this,[[7,12]])}},{key:"_queueLoadingCallback",value:function(){R.unreachable("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(){R.unreachable("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){R.unreachable("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){R.unreachable("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){R.unreachable("Abstract method `_loadTestFont`.")}}]),a}();exports.FontLoader=k,exports.FontLoader=k=function(a){function c(a){var h;return A(this,c),h=v(this,y(c).call(this,a)),h.loadingContext={requests:[],nextRequestId:0},h.loadTestFontId=0,h}return b(c,a),w(c,[{key:"_queueLoadingCallback",value:function(a){function c(){for(R.assert(!v.done,"completeRequest() cannot be called twice."),v.done=!0;h.requests.length>0&&h.requests[0].done;){var a=h.requests.shift();setTimeout(a.callback,0)}}var h=this.loadingContext,v={id:"pdfjs-font-loading-".concat(h.nextRequestId++),done:!1,complete:c,callback:a};return h.requests.push(v),v}},{key:"_prepareFontLoadEvent",value:function(a,c,h){function v(a,c){return a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|255&a.charCodeAt(c+3)}function g(s,a,c,h){var v=s.substring(0,a),g=s.substring(a+c);return v+h+g}function y(a,c){if(S++,S>30)return R.warn("Load test font never loaded."),void c();A.font="30px "+a,A.fillText(".",0,20);var h=A.getImageData(0,0,1,1);return h.data[3]>0?void c():void setTimeout(y.bind(null,a,c))}var i,b,_=document.createElement("canvas");_.width=1,_.height=1;var A=_.getContext("2d"),S=0,w="lt".concat(Date.now()).concat(this.loadTestFontId++),k=this._loadTestFont,C=976;k=g(k,C,w.length,w);var P=16,E=1482184792,T=v(k,P);for(i=0,b=w.length-3;b>i;i+=4)T=T-E+v(w,i)|0;i<w.length&&(T=T-E+v(w+"XXX",i)|0),k=g(k,P,4,R.string32(T));var O="url(data:font/opentype;base64,".concat(btoa(k),");"),L='@font-face {font-family:"'.concat(w,'";src:').concat(O,"}");this.insertRule(L);var F=[];for(i=0,b=c.length;b>i;i++)F.push(c[i].loadedName);F.push(w);var I=document.createElement("div");for(I.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),i=0,b=F.length;b>i;++i){var M=document.createElement("span");M.textContent="Hi",M.style.fontFamily=F[i],I.appendChild(M)}document.body.appendChild(I),y(w,function(){document.body.removeChild(I),h.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var a="undefined"!=typeof document&&!!document.fonts;if(a&&"undefined"!=typeof navigator){var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]<63&&(a=!1)}return R.shadow(this,"isFontLoadingAPISupported",a)}},{key:"isSyncFontLoadingSupported",get:function(){var a=!1;if("undefined"==typeof navigator)a=!0;else{var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]>=14&&(a=!0)}return R.shadow(this,"isSyncFontLoadingSupported",a)}},{key:"_loadTestFont",get:function(){var a=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return R.shadow(this,"_loadTestFont",a())}}]),c}(P);var E={get value(){return R.shadow(this,"value",R.isEvalSupported())}},T=function(){function a(c,h){var v=h.isEvalSupported,g=void 0===v?!0:v,y=h.disableFontFace,b=void 0===y?!1:y,_=h.ignoreErrors,S=void 0===_?!1:_,w=h.onUnsupportedFeature,k=void 0===w?null:w,C=h.fontRegistry,R=void 0===C?null:C;A(this,a),this.compiledGlyphs=Object.create(null);for(var i in c)this[i]=c[i];this.isEvalSupported=g!==!1,this.disableFontFace=b===!0,this.ignoreErrors=S===!0,this._onUnsupportedFeature=k,this.fontRegistry=R}return w(a,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var a=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),a}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var a=R.bytesToString(new Uint8Array(this.data)),c="url(data:".concat(this.mimetype,";base64,").concat(btoa(a),");"),h='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(c,"}");
return this.fontRegistry&&this.fontRegistry.registerFont(this,c),h}},{key:"getPathGenerator",value:function(a,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];var h,v;try{h=a.get(this.loadedName+"_path_"+c)}catch(ex){if(!this.ignoreErrors)throw ex;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:R.UNSUPPORTED_FEATURES.font}),R.warn('getPathGenerator - ignoring character: "'.concat(ex,'".')),this.compiledGlyphs[c]=function(){}}if(this.isEvalSupported&&E.value){for(var g,y="",i=0,b=h.length;b>i;i++)v=h[i],g=void 0!==v.args?v.args.join(","):"",y+="c."+v.cmd+"("+g+");\n";return this.compiledGlyphs[c]=new Function("c","size",y)}return this.compiledGlyphs[c]=function(a,c){for(var g=0,y=h.length;y>g;g++)v=h[g],"scale"===v.cmd&&(v.args=[c,-c]),a[v.cmd].apply(a,v.args)}}}]),a}();exports.FontFaceObject=T},function(module,exports,a){"use strict";var c=Object.create(null),h=a(4),v=h.isNodeJS,g="undefined"!=typeof navigator&&navigator.userAgent||"",y=/Trident/.test(g),b=/CriOS/.test(g);!function(){(y||b)&&(c.disableCreateObjectURL=!0)}(),function(){v&&(c.disableFontFace=!0,c.nativeImageDecoderSupport="none")}(),exports.apiCompatibilityParams=Object.freeze(c)},function(module,exports,a){"use strict";function c(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var m=this._transformMatrix,a=m[0],c=m[1],h=m[2],d=m[3],e=m[4],f=m[5],v=a*d-c*h,g=c*h-a*d;return[d/v,c/g,h/g,a/v,(d*e-h*f)/g,(c*e-a*f)/v]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(x,a){var m=this._transformMatrix;m[4]=m[0]*x+m[2]*a+m[4],m[5]=m[1]*x+m[3]*a+m[5],this._originalTranslate(x,a)},a.scale=function(x,a){var m=this._transformMatrix;m[0]=m[0]*x,m[1]=m[1]*x,m[2]=m[2]*a,m[3]=m[3]*a,this._originalScale(x,a)},a.transform=function(c,h,v,d,e,f){var m=this._transformMatrix;this._transformMatrix=[m[0]*c+m[2]*h,m[1]*c+m[3]*h,m[0]*v+m[2]*d,m[1]*v+m[3]*d,m[0]*e+m[2]*f+m[4],m[1]*e+m[3]*f+m[5]],a._originalTransform(c,h,v,d,e,f)},a.setTransform=function(c,h,v,d,e,f){this._transformMatrix=[c,h,v,d,e,f],a._originalSetTransform(c,h,v,d,e,f)},a.rotate=function(a){var c=Math.cos(a),h=Math.sin(a),m=this._transformMatrix;this._transformMatrix=[m[0]*c+m[2]*h,m[1]*c+m[3]*h,m[0]*-h+m[2]*c,m[1]*-h+m[3]*c,m[4],m[5]],this._originalRotate(a)})}function h(a){var i,c,h,v,g=1e3,y=a.width,b=a.height,_=y+1,A=new Uint8Array(_*(b+1)),S=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),w=y+7&-8,k=a.data,C=new Uint8Array(w*b),R=0;for(i=0,v=k.length;v>i;i++)for(var P=128,E=k[i];P>0;)C[R++]=E&P?0:255,P>>=1;var T=0;for(R=0,0!==C[R]&&(A[0]=1,++T),c=1;y>c;c++)C[R]!==C[R+1]&&(A[c]=C[R]?2:1,++T),R++;for(0!==C[R]&&(A[c]=2,++T),i=1;b>i;i++){R=i*w,h=i*_,C[R-w]!==C[R]&&(A[h]=C[R]?1:8,++T);var O=(C[R]?4:0)+(C[R-w]?8:0);for(c=1;y>c;c++)O=(O>>2)+(C[R+1]?4:0)+(C[R-w+1]?8:0),S[O]&&(A[h+c]=S[O],++T),R++;if(C[R-w]!==C[R]&&(A[h+c]=C[R]?2:4,++T),T>g)return null}for(R=w*(b-1),h=i*_,0!==C[R]&&(A[h]=8,++T),c=1;y>c;c++)C[R]!==C[R+1]&&(A[h+c]=C[R]?4:8,++T),R++;if(0!==C[R]&&(A[h+c]=4,++T),T>g)return null;var L=new Int32Array([0,_,-1,0,-_,0,0,0,1]),F=[];for(i=0;T&&b>=i;i++){for(var p=i*_,I=p+y;I>p&&!A[p];)p++;if(p!==I){var M,N=[p%_,i],j=A[p],D=p;do{var U=L[j];do p+=U;while(!A[p]);M=A[p],5!==M&&10!==M?(j=M,A[p]=0):(j=M&51*j>>4,A[p]&=j>>2|j<<2),N.push(p%_),N.push(p/_|0),A[p]||--T}while(D!==p);F.push(N),--i}}var W=function(a){a.save(),a.scale(1/y,-1/b),a.translate(0,-b),a.beginPath();for(var i=0,c=F.length;c>i;i++){var o=F[i];a.moveTo(o[0],o[1]);for(var h=2,v=o.length;v>h;h+=2)a.lineTo(o[h],o[h+1])}a.fill(),a.beginPath(),a.restore()};return W}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasGraphics=void 0;var v=a(1),g=a(189),y=16,b=100,_=4096,A=.65,S=!0,w=1e3,k=16,C={get value(){return v.shadow(C,"value",v.isLittleEndian())}},R=function(){function a(a){this.canvasFactory=a,this.cache=Object.create(null)}return a.prototype={getCanvas:function(a,h,v,g){var y;return void 0!==this.cache[a]?(y=this.cache[a],this.canvasFactory.reset(y,h,v),y.context.setTransform(1,0,0,1,0,0)):(y=this.canvasFactory.create(h,v),this.cache[a]=y),g&&c(y.context),y},clear:function(){for(var a in this.cache){var c=this.cache[a];this.canvasFactory.destroy(c),delete this.cache[a]}}},a}(),P=function(){function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=v.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=v.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=v.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(x,a){this.x=x,this.y=a}},a}(),E=function(){function a(a,h,v,g,y,b){this.ctx=a,this.current=new P,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=h,this.objs=v,this.canvasFactory=g,this.webGLContext=y,this.imageLayer=b,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new R(this.canvasFactory),a&&c(a),this._cachedGetSinglePixelWidth=null}function E(a,c){if("undefined"!=typeof ImageData&&c instanceof ImageData)return void a.putImageData(c,0,0);var h,i,g,y,b,_=c.height,A=c.width,S=_%k,w=(_-S)/k,R=0===S?w:w+1,P=a.createImageData(A,k),E=0,T=c.data,O=P.data;if(c.kind===v.ImageKind.GRAYSCALE_1BPP){var L=T.byteLength,F=new Uint32Array(O.buffer,0,O.byteLength>>2),I=F.length,M=A+7>>3,N=4294967295,j=C.value?4278190080:255;for(i=0;R>i;i++){for(y=w>i?k:S,h=0,g=0;y>g;g++){for(var D=L-E,U=0,W=D>M?A:8*D-7,B=-8&W,G=0,z=0;B>U;U+=8)z=T[E++],F[h++]=128&z?N:j,F[h++]=64&z?N:j,F[h++]=32&z?N:j,F[h++]=16&z?N:j,F[h++]=8&z?N:j,F[h++]=4&z?N:j,F[h++]=2&z?N:j,F[h++]=1&z?N:j;for(;W>U;U++)0===G&&(z=T[E++],G=128),F[h++]=z&G?N:j,G>>=1}for(;I>h;)F[h++]=0;a.putImageData(P,0,i*k)}}else if(c.kind===v.ImageKind.RGBA_32BPP){for(g=0,b=A*k*4,i=0;w>i;i++)O.set(T.subarray(E,E+b)),E+=b,a.putImageData(P,0,g),g+=k;R>i&&(b=A*S*4,O.set(T.subarray(E,E+b)),a.putImageData(P,0,g))}else{if(c.kind!==v.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(c.kind));for(y=k,b=A*y,i=0;R>i;i++){for(i>=w&&(y=S,b=A*y),h=0,g=b;g--;)O[h++]=T[E++],O[h++]=T[E++],O[h++]=T[E++],O[h++]=255;a.putImageData(P,0,i*k)}}}function T(a,c){for(var h=c.height,v=c.width,g=h%k,y=(h-g)/k,b=0===g?y:y+1,_=a.createImageData(v,k),A=0,S=c.data,w=_.data,i=0;b>i;i++){for(var C=y>i?k:g,R=3,P=0;C>P;P++)for(var E=0,T=0;v>T;T++){if(!E){var O=S[A++];E=128}w[R]=O&E?0:255,R+=4,E>>=1}a.putImageData(_,0,i*k)}}function O(a,c){for(var h=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,v=h.length;v>i;i++){var g=h[i];void 0!==a[g]&&(c[g]=a[g])}void 0!==a.setLineDash&&(c.setLineDash(a.getLineDash()),c.lineDashOffset=a.lineDashOffset)}function L(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function F(a,c,h,v){for(var g=a.length,i=3;g>i;i+=4){var y=a[i];if(0===y)a[i-3]=c,a[i-2]=h,a[i-1]=v;else if(255>y){var b=255-y;a[i-3]=a[i-3]*y+c*b>>8,a[i-2]=a[i-2]*y+h*b>>8,a[i-1]=a[i-1]*y+v*b>>8}}}function I(a,c,h){for(var v=a.length,g=1/255,i=3;v>i;i+=4){var y=h?h[a[i]]:a[i];c[i]=c[i]*y*g|0}}function M(a,c,h){for(var v=a.length,i=3;v>i;i+=4){var g=77*a[i-3]+152*a[i-2]+28*a[i-1];c[i]=h?c[i]*h[g>>8]>>8:c[i]*g>>16}}function N(a,c,h,v,g,y,b){var _,A=!!y,S=A?y[0]:0,w=A?y[1]:0,k=A?y[2]:0;_="Luminosity"===g?M:I;for(var C=1048576,R=Math.min(v,Math.ceil(C/h)),P=0;v>P;P+=R){var E=Math.min(R,v-P),T=a.getImageData(0,P,h,E),O=c.getImageData(0,P,h,E);A&&F(T.data,S,w,k),_(T.data,O.data,b),a.putImageData(O,0,P)}}function j(a,c,h,v){var g=c.canvas,y=c.context;a.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var b=c.backdrop||null;if(!c.transferMap&&v.isEnabled){var _=v.composeSMask({layer:h.canvas,mask:g,properties:{subtype:c.subtype,backdrop:b}});return a.setTransform(1,0,0,1,0,0),void a.drawImage(_,c.offsetX,c.offsetY)}N(y,h,g.width,g.height,c.subtype,b,c.transferMap),a.drawImage(g,0,0)}var D=15,U=10,W=["butt","round","square"],B=["miter","round","bevel"],G={},z={};a.prototype={beginDrawing:function(a){var c=a.transform,h=a.viewport,v=a.transparency,g=void 0===v?!1:v,y=a.background,b=void 0===y?null:y,_=this.ctx.canvas.width,A=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,_,A),this.ctx.restore(),g){var S=this.cachedCanvases.getCanvas("transparent",_,A,!0);this.compositeCtx=this.ctx,this.transparentCanvas=S.canvas,this.ctx=S.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx),c&&this.ctx.transform.apply(this.ctx,c),this.ctx.transform.apply(this.ctx,h.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,c,h,g){var y=a.argsArray,b=a.fnArray,i=c||0,_=y.length;if(_===i)return i;for(var A,S=_-i>U&&"function"==typeof h,w=S?Date.now()+D:0,k=0,C=this.commonObjs,R=this.objs;;){if(void 0!==g&&i===g.nextBreakPoint)return g.breakIt(i,h),i;if(A=b[i],A!==v.OPS.dependency)this[A].apply(this,y[i]);else{var P=!0,E=!1,T=void 0;try{for(var O,L=y[i][Symbol.iterator]();!(P=(O=L.next()).done);P=!0){var F=O.value,I=F.startsWith("g_")?C:R;if(!I.has(F))return I.get(F,h),i}}catch(M){E=!0,T=M}finally{try{P||null==L["return"]||L["return"]()}finally{if(E)throw T}}}if(i++,i===_)return i;if(S&&++k>U){if(Date.now()>w)return h(),i;k=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=W[a]},setLineJoin:function(a){this.ctx.lineJoin=B[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,c){var h=this.ctx;void 0!==h.setLineDash&&(h.setLineDash(a),h.lineDashOffset=c)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var i=0,c=a.length;c>i;i++){var h=a[i],v=h[0],g=h[1];switch(v){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=h[1];break;case"ca":this.current.fillAlpha=h[1],this.ctx.globalAlpha=h[1];break;case"BM":this.ctx.globalCompositeOperation=g;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=g?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,c=a.canvas.width,h=a.canvas.height,v="smaskGroupAt"+this.groupLevel,g=this.cachedCanvases.getCanvas(v,c,h,!0),y=this.ctx,b=y.mozCurrentTransform;this.ctx.save();var _=g.context;_.scale(1/a.scaleX,1/a.scaleY),_.translate(-a.offsetX,-a.offsetY),_.transform.apply(_,b),a.startTransformInverse=_.mozCurrentTransformInverse,O(y,_),this.ctx=_,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),j(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),this.ctx.save(),O(a,this.ctx),this.current.resumeSMaskCtx=a;var c=v.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,c),a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()},resumeSMaskGroup:function(){var a=this.current.resumeSMaskCtx,c=this.ctx;this.ctx=a,this.groupStack.push(c),this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),j(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),O(a,this.ctx);var c=v.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,c)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(a,c,h,d,e,f){this.ctx.transform(a,c,h,d,e,f),this._cachedGetSinglePixelWidth=null},constructPath:function(a,c){for(var h=this.ctx,g=this.current,x=g.x,y=g.y,i=0,b=0,_=a.length;_>i;i++)switch(0|a[i]){case v.OPS.rectangle:x=c[b++],y=c[b++];var A=c[b++],S=c[b++];0===A&&(A=this.getSinglePixelWidth()),0===S&&(S=this.getSinglePixelWidth());var w=x+A,k=y+S;this.ctx.moveTo(x,y),this.ctx.lineTo(w,y),this.ctx.lineTo(w,k),this.ctx.lineTo(x,k),this.ctx.lineTo(x,y),this.ctx.closePath();break;case v.OPS.moveTo:x=c[b++],y=c[b++],h.moveTo(x,y);break;case v.OPS.lineTo:x=c[b++],y=c[b++],h.lineTo(x,y);break;case v.OPS.curveTo:x=c[b+4],y=c[b+5],h.bezierCurveTo(c[b],c[b+1],c[b+2],c[b+3],x,y),b+=6;break;case v.OPS.curveTo2:h.bezierCurveTo(x,y,c[b],c[b+1],c[b+2],c[b+3]),x=c[b+2],y=c[b+3],b+=4;break;case v.OPS.curveTo3:x=c[b+2],y=c[b+3],h.bezierCurveTo(c[b],c[b+1],x,y,x,y),b+=4;break;case v.OPS.closePath:h.closePath()}g.setCurrentPoint(x,y)},closePath:function(){this.ctx.closePath()},stroke:function(a){a="undefined"!=typeof a?a:!0;var c=this.ctx,h=this.current.strokeColor;if(c.globalAlpha=this.current.strokeAlpha,h&&h.hasOwnProperty("type")&&"Pattern"===h.type){c.save();var g=c.mozCurrentTransform,y=v.Util.singularValueDecompose2dScale(g)[0];c.strokeStyle=h.getPattern(c,this),c.lineWidth=Math.max(this.getSinglePixelWidth()*A,this.current.lineWidth*y),c.stroke(),c.restore()}else c.lineWidth=Math.max(this.getSinglePixelWidth()*A,this.current.lineWidth),c.stroke();a&&this.consumePath(),c.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){a="undefined"!=typeof a?a:!0;var c=this.ctx,h=this.current.fillColor,v=this.current.patternFill,g=!1;v&&(c.save(),this.baseTransform&&c.setTransform.apply(c,this.baseTransform),c.fillStyle=h.getPattern(c,this),g=!0),this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill(),g&&c.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=G},eoClip:function(){this.pendingClip=z},beginText:function(){this.current.textMatrix=v.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,c=this.ctx;if(void 0===a)return void c.beginPath();c.save(),c.beginPath();for(var i=0;i<a.length;i++){var h=a[i];c.setTransform.apply(c,h.transform),c.translate(h.x,h.y),h.addToPath(c,h.fontSize)}c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,c){var h=this.commonObjs.get(a),g=this.current;if(!h)throw new Error("Can't find font for ".concat(a));if(g.fontMatrix=h.fontMatrix?h.fontMatrix:v.FONT_IDENTITY_MATRIX,(0===g.fontMatrix[0]||0===g.fontMatrix[3])&&v.warn("Invalid font matrix for font "+a),0>c?(c=-c,g.fontDirection=-1):g.fontDirection=1,this.current.font=h,this.current.fontSize=c,!h.isType3Font){var _=h.loadedName||"sans-serif",A=h.black?"900":h.bold?"bold":"normal",S=h.italic?"italic":"normal",w='"'.concat(_,'", ').concat(h.fallbackName),k=y>c?y:c>b?b:c;this.current.fontSizeScale=c/k,this.ctx.font="".concat(S," ").concat(A," ").concat(k,"px ").concat(w)}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(x,a){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=a},setLeadingMoveText:function(x,a){this.setLeading(-a),this.moveText(x,a)},setTextMatrix:function(a,c,h,d,e,f){this.current.textMatrix=[a,c,h,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+c*c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,x,c,h){var g,y=this.ctx,b=this.current,_=b.font,A=b.textRenderingMode,S=b.fontSize/b.fontSizeScale,w=A&v.TextRenderingMode.FILL_STROKE_MASK,k=!!(A&v.TextRenderingMode.ADD_TO_PATH_FLAG),C=b.patternFill&&_.data;if((_.disableFontFace||k||C)&&(g=_.getPathGenerator(this.commonObjs,a)),_.disableFontFace||C?(y.save(),y.translate(x,c),y.beginPath(),g(y,S),h&&y.setTransform.apply(y,h),(w===v.TextRenderingMode.FILL||w===v.TextRenderingMode.FILL_STROKE)&&y.fill(),(w===v.TextRenderingMode.STROKE||w===v.TextRenderingMode.FILL_STROKE)&&y.stroke(),y.restore()):((w===v.TextRenderingMode.FILL||w===v.TextRenderingMode.FILL_STROKE)&&y.fillText(a,x,c),(w===v.TextRenderingMode.STROKE||w===v.TextRenderingMode.FILL_STROKE)&&y.strokeText(a,x,c)),k){var R=this.pendingTextPaths||(this.pendingTextPaths=[]);R.push({transform:y.mozCurrentTransform,x:x,y:c,fontSize:S,addToPath:g})}},get isFontSubpixelAAEnabled(){var a=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),c=a.context;c.scale(1.5,1),c.fillText("I",0,10);for(var h=c.getImageData(0,0,10,10).data,g=!1,i=3;i<h.length;i+=4)if(h[i]>0&&h[i]<255){g=!0;break}return v.shadow(this,"isFontSubpixelAAEnabled",g)},showText:function(a){var c=this.current,h=c.font;if(h.isType3Font)return this.showType3Text(a);var g=c.fontSize;if(0===g)return void 0;var y=this.ctx,b=c.fontSizeScale,_=c.charSpacing,S=c.wordSpacing,w=c.fontDirection,k=c.textHScale*w,C=a.length,R=h.vertical,P=R?1:-1,E=h.defaultVMetrics,T=g*c.fontMatrix[0],O=c.textRenderingMode===v.TextRenderingMode.FILL&&!h.disableFontFace&&!c.patternFill;y.save();var L;if(c.patternFill){y.save();var F=c.fillColor.getPattern(y,this);L=y.mozCurrentTransform,y.restore(),y.fillStyle=F}y.transform.apply(y,c.textMatrix),y.translate(c.x,c.y+c.textRise),w>0?y.scale(k,-1):y.scale(k,1);var I=c.lineWidth,M=c.textMatrixScale;if(0===M||0===I){var N=c.textRenderingMode&v.TextRenderingMode.FILL_STROKE_MASK;(N===v.TextRenderingMode.STROKE||N===v.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,I=this.getSinglePixelWidth()*A)}else I/=M;1!==b&&(y.scale(b,b),I/=b),y.lineWidth=I;var i,x=0;for(i=0;C>i;++i){var j=a[i];if(v.isNum(j))x+=P*j*g/1e3;else{var D,U,W,B,G=!1,z=(j.isSpace?S:0)+_,H=j.fontChar,X=j.accent,Y=j.width;if(R){var V,Q,K;V=j.vmetric||E,Q=j.vmetric?V[1]:.5*Y,Q=-Q*T,K=V[2]*T,Y=V?-V[0]:Y,D=Q/b,U=(x+K)/b}else D=x/b,U=0;if(h.remeasure&&Y>0){var J=1e3*y.measureText(H).width/g*b;if(J>Y&&this.isFontSubpixelAAEnabled){var Z=Y/J;G=!0,y.save(),y.scale(Z,1),D/=Z}else Y!==J&&(D+=(Y-J)/2e3*g/b)}(j.isInFont||h.missingFile)&&(O&&!X?y.fillText(H,D,U):(this.paintChar(H,D,U,L),X&&(W=D+X.offset.x/b,B=U-X.offset.y/b,this.paintChar(X.fontChar,W,B,L))));var $=Y*T+z*w;x+=$,G&&y.restore()}}R?c.y-=x*k:c.x+=x*k,y.restore()},showType3Text:function(a){var i,c,h,g,y=this.ctx,b=this.current,_=b.font,A=b.fontSize,S=b.fontDirection,w=_.vertical?1:-1,k=b.charSpacing,C=b.wordSpacing,R=b.textHScale*S,P=b.fontMatrix||v.FONT_IDENTITY_MATRIX,E=a.length,T=b.textRenderingMode===v.TextRenderingMode.INVISIBLE;if(!T&&0!==A){for(this._cachedGetSinglePixelWidth=null,y.save(),y.transform.apply(y,b.textMatrix),y.translate(b.x,b.y),y.scale(R,S),i=0;E>i;++i)if(c=a[i],v.isNum(c))g=w*c*A/1e3,this.ctx.translate(g,0),b.x+=g*R;else{var O=(c.isSpace?C:0)+k,L=_.charProcOperatorList[c.operatorListId];if(L){this.processingType3=c,this.save(),y.scale(A,A),y.transform.apply(y,P),this.executeOperatorList(L),this.restore();var F=v.Util.applyTransform([c.width,0],P);h=F[0]*A+O,y.translate(h,0),b.x+=h*R}else v.warn('Type3 character "'.concat(c.operatorListId,'" is not available.'))}y.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,c,h,v,g,y){this.ctx.rect(h,v,g-h,y-v),this.clip(),this.endPath()},getColorN_Pattern:function(c){var h,v=this;if("TilingPattern"===c[0]){var y=c[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice(),_={createCanvasGraphics:function(c){return new a(c,v.commonObjs,v.objs,v.canvasFactory,v.webGLContext)}};h=new g.TilingPattern(c,y,this.ctx,_,b)}else h=g.getShadingPatternFromIR(c);return h},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(r,a,c){var h=v.Util.makeCssRgb(r,a,c);this.ctx.strokeStyle=h,this.current.strokeColor=h},setFillRGBColor:function(r,a,c){var h=v.Util.makeCssRgb(r,a,c);this.ctx.fillStyle=h,this.current.fillColor=h,this.current.patternFill=!1},shadingFill:function(a){var c=this.ctx;this.save();var h=g.getShadingPatternFromIR(a);c.fillStyle=h.getPattern(c,this,!0);var y=c.mozCurrentTransformInverse;if(y){var b=c.canvas,_=b.width,A=b.height,S=v.Util.applyTransform([0,0],y),w=v.Util.applyTransform([0,A],y),ul=v.Util.applyTransform([_,0],y),k=v.Util.applyTransform([_,A],y),C=Math.min(S[0],w[0],ul[0],k[0]),R=Math.min(S[1],w[1],ul[1],k[1]),P=Math.max(S[0],w[0],ul[0],k[0]),E=Math.max(S[1],w[1],ul[1],k[1]);this.ctx.fillRect(C,R,P-C,E-R)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){v.unreachable("Should not call beginInlineImage")},beginImageData:function(){v.unreachable("Should not call beginImageData")},paintFormXObjectBegin:function(a,c){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,c){var h=c[2]-c[0],v=c[3]-c[1];this.ctx.rect(c[0],c[1],h,v),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var c=this.ctx;a.isolated||v.info("TODO: Support non-isolated groups."),a.knockout&&v.warn("Knockout groups not supported.");var h=c.mozCurrentTransform;if(a.matrix&&c.transform.apply(c,a.matrix),!a.bbox)throw new Error("Bounding box is required.");var g=v.Util.getAxialAlignedBoundingBox(a.bbox,c.mozCurrentTransform),y=[0,0,c.canvas.width,c.canvas.height];g=v.Util.intersect(g,y)||[0,0,0,0];var b=Math.floor(g[0]),A=Math.floor(g[1]),S=Math.max(Math.ceil(g[2])-b,1),w=Math.max(Math.ceil(g[3])-A,1),k=1,C=1;S>_&&(k=S/_,S=_),w>_&&(C=w/_,w=_);var R="groupAt"+this.groupLevel;a.smask&&(R+="_smask_"+this.smaskCounter++%2);var P=this.cachedCanvases.getCanvas(R,S,w,!0),E=P.context;E.scale(1/k,1/C),E.translate(-b,-A),E.transform.apply(E,h),a.smask?this.smaskStack.push({canvas:P.canvas,context:E,offsetX:b,offsetY:A,scaleX:k,scaleY:C,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(b,A),c.scale(k,C)),O(c,E),this.ctx=E,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++,this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var c=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(c.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,c,h){if(this.save(),L(this.ctx),this.current=new P,Array.isArray(a)&&4===a.length){var v=a[2]-a[0],g=a[3]-a[1];this.ctx.rect(a[0],a[1],v,g),this.clip(),this.endPath()}this.transform.apply(this,c),this.transform.apply(this,h)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,c,h){var g=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(!g)return void v.warn("Dependent image isn't ready yet");this.save();var y=this.ctx;if(y.scale(1/c,-1/h),y.drawImage(g,0,0,g.width,g.height,0,-h,c,h),this.imageLayer){var b=y.mozCurrentTransformInverse,_=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:_[0],top:_[1],width:c/b[0],height:h/b[3]})}this.restore()},paintImageMaskXObject:function(a){var c=this.ctx,v=a.width,g=a.height,y=this.current.fillColor,b=this.current.patternFill,_=this.processingType3;if(S&&_&&void 0===_.compiled&&(_.compiled=w>=v&&w>=g?h({data:a.data,width:v,height:g}):null),_&&_.compiled)return void _.compiled(c);var A=this.cachedCanvases.getCanvas("maskCanvas",v,g),k=A.context;k.save(),T(k,a),k.globalCompositeOperation="source-in",k.fillStyle=b?y.getPattern(k,this):y,k.fillRect(0,0,v,g),k.restore(),this.paintInlineImageXObject(A.canvas)},paintImageMaskXObjectRepeat:function(a,c,h,v){var g=a.width,y=a.height,b=this.current.fillColor,_=this.current.patternFill,A=this.cachedCanvases.getCanvas("maskCanvas",g,y),S=A.context;S.save(),T(S,a),S.globalCompositeOperation="source-in",S.fillStyle=_?b.getPattern(S,this):b,S.fillRect(0,0,g,y),S.restore();for(var w=this.ctx,i=0,k=v.length;k>i;i+=2)w.save(),w.transform(c,0,0,h,v[i],v[i+1]),w.scale(1,-1),w.drawImage(A.canvas,0,0,g,y,0,-1,1,1),w.restore()},paintImageMaskXObjectGroup:function(a){for(var c=this.ctx,h=this.current.fillColor,v=this.current.patternFill,i=0,g=a.length;g>i;i++){var y=a[i],b=y.width,_=y.height,A=this.cachedCanvases.getCanvas("maskCanvas",b,_),S=A.context;S.save(),T(S,y),S.globalCompositeOperation="source-in",S.fillStyle=v?h.getPattern(S,this):h,S.fillRect(0,0,b,_),S.restore(),c.save(),c.transform.apply(c,y.transform),c.scale(1,-1),c.drawImage(A.canvas,0,0,b,_,0,-1,1,1),c.restore()}},paintImageXObject:function(a){var c=this.processingType3?this.commonObjs.get(a):this.objs.get(a);return c?void this.paintInlineImageXObject(c):void v.warn("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,c,h,g){var y=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(!y)return void v.warn("Dependent image isn't ready yet");for(var b=y.width,_=y.height,A=[],i=0,S=g.length;S>i;i+=2)A.push({transform:[c,0,0,h,g[i],g[i+1]],x:0,y:0,w:b,h:_});this.paintInlineImageXObjectGroup(y,A)},paintInlineImageXObject:function(a){var c=a.width,h=a.height,v=this.ctx;this.save(),v.scale(1/c,-1/h);var g,y,b=v.mozCurrentTransformInverse,_=b[0],A=b[1],S=Math.max(Math.sqrt(_*_+A*A),1),w=b[2],d=b[3],k=Math.max(Math.sqrt(w*w+d*d),1);if("function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)g=a;else{y=this.cachedCanvases.getCanvas("inlineImage",c,h);var C=y.context;E(C,a),g=y.canvas}for(var R=c,P=h,T="prescale1";S>2&&R>1||k>2&&P>1;){var O=R,L=P;S>2&&R>1&&(O=Math.ceil(R/2),S/=R/O),k>2&&P>1&&(L=Math.ceil(P/2),k/=P/L),y=this.cachedCanvases.getCanvas(T,O,L),C=y.context,C.clearRect(0,0,O,L),C.drawImage(g,0,0,R,P,0,0,O,L),g=y.canvas,R=O,P=L,T="prescale1"===T?"prescale2":"prescale1"}if(v.drawImage(g,0,0,R,P,0,-h,c,h),this.imageLayer){var F=this.getCanvasPosition(0,-h);this.imageLayer.appendImage({imgData:a,left:F[0],top:F[1],width:c/b[0],height:h/b[3]})}this.restore()},paintInlineImageXObjectGroup:function(a,c){var h=this.ctx,v=a.width,g=a.height,y=this.cachedCanvases.getCanvas("inlineImage",v,g),b=y.context;E(b,a);for(var i=0,_=c.length;_>i;i++){var A=c[i];if(h.save(),h.transform.apply(h,A.transform),h.scale(1,-1),h.drawImage(y.canvas,A.x,A.y,A.w,A.h,0,-1,1,1),this.imageLayer){var S=this.getCanvasPosition(A.x,A.y);this.imageLayer.appendImage({imgData:a,left:S[0],top:S[1],width:v,height:g})}h.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){v.warn("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===z?a.clip("evenodd"):a.clip(),this.pendingClip=null),a.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var a=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(x,a){var c=this.ctx.mozCurrentTransform;return[c[0]*x+c[2]*a+c[4],c[1]*x+c[3]*a+c[5]]}};for(var H in v.OPS)a.prototype[v.OPS[H]]=a.prototype[H];return a}();exports.CanvasGraphics=E},function(module,exports,a){"use strict";function c(a,c){if(c&&"undefined"!=typeof Path2D){var h=c[2]-c[0],v=c[3]-c[1],g=new Path2D;g.rect(c[0],c[1],h,v),a.clip(g)}}function h(a){var c=g[a[0]];if(!c)throw new Error("Unknown IR type: ".concat(a[0]));return c.fromIR(a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getShadingPatternFromIR=h,exports.TilingPattern=void 0;var v=a(1),g={};g.RadialAxial={fromIR:function(a){var h=a[1],v=a[2],g=a[3],y=a[4],b=a[5],_=a[6],A=a[7];return{type:"Pattern",getPattern:function(a){c(a,v);var S;"axial"===h?S=a.createLinearGradient(y[0],y[1],b[0],b[1]):"radial"===h&&(S=a.createRadialGradient(y[0],y[1],_,b[0],b[1],A));for(var i=0,w=g.length;w>i;++i){var k=g[i];S.addColorStop(k[0],k[1])}return S}}}};var y=function(){function a(a,c,h,v,g,y,b,_){var A,S=c.coords,w=c.colors,k=a.data,C=4*a.width;S[h+1]>S[v+1]&&(A=h,h=v,v=A,A=y,y=b,b=A),S[v+1]>S[g+1]&&(A=v,v=g,g=A,A=b,b=_,_=A),S[h+1]>S[v+1]&&(A=h,h=v,v=A,A=y,y=b,b=A);var R=(S[h]+c.offsetX)*c.scaleX,P=(S[h+1]+c.offsetY)*c.scaleY,E=(S[v]+c.offsetX)*c.scaleX,T=(S[v+1]+c.offsetY)*c.scaleY,O=(S[g]+c.offsetX)*c.scaleX,L=(S[g+1]+c.offsetY)*c.scaleY;if(!(P>=L))for(var F,I,M,N,j,D,U,W,B,G=w[y],z=w[y+1],H=w[y+2],X=w[b],Y=w[b+1],V=w[b+2],Q=w[_],K=w[_+1],J=w[_+2],Z=Math.round(P),$=Math.round(L),et=Z;$>=et;et++){T>et?(B=P>et?0:P===T?1:(P-et)/(P-T),F=R-(R-E)*B,I=G-(G-X)*B,M=z-(z-Y)*B,N=H-(H-V)*B):(B=et>L?1:T===L?0:(T-et)/(T-L),F=E-(E-O)*B,I=X-(X-Q)*B,M=Y-(Y-K)*B,N=V-(V-J)*B),B=P>et?0:et>L?1:(P-et)/(P-L),j=R-(R-O)*B,D=G-(G-Q)*B,U=z-(z-K)*B,W=H-(H-J)*B;
for(var tt=Math.round(Math.min(F,j)),nt=Math.round(Math.max(F,j)),it=C*et+4*tt,x=tt;nt>=x;x++)B=(F-x)/(F-j),B=0>B?0:B>1?1:B,k[it++]=I-(I-D)*B|0,k[it++]=M-(M-U)*B|0,k[it++]=N-(N-W)*B|0,k[it++]=255}}function c(c,h,v){var i,g,y=h.coords,b=h.colors;switch(h.type){case"lattice":var _=h.verticesPerRow,A=Math.floor(y.length/_)-1,S=_-1;for(i=0;A>i;i++)for(var q=i*_,w=0;S>w;w++,q++)a(c,v,y[q],y[q+1],y[q+_],b[q],b[q+1],b[q+_]),a(c,v,y[q+_+1],y[q+1],y[q+_],b[q+_+1],b[q+1],b[q+_]);break;case"triangles":for(i=0,g=y.length;g>i;i+=3)a(c,v,y[i],y[i+1],y[i+2],b[i],b[i+1],b[i+2]);break;default:throw new Error("illegal figure")}}function h(a,h,v,g,y,b,_,A){var S,w,i,k,C=1.1,R=3e3,P=2,E=Math.floor(a[0]),T=Math.floor(a[1]),O=Math.ceil(a[2])-E,L=Math.ceil(a[3])-T,F=Math.min(Math.ceil(Math.abs(O*h[0]*C)),R),I=Math.min(Math.ceil(Math.abs(L*h[1]*C)),R),M=O/F,N=L/I,j={coords:v,colors:g,offsetX:-E,offsetY:-T,scaleX:1/M,scaleY:1/N},D=F+2*P,U=I+2*P;if(A.isEnabled)S=A.drawFigures({width:F,height:I,backgroundColor:b,figures:y,context:j}),w=_.getCanvas("mesh",D,U,!1),w.context.drawImage(S,P,P),S=w.canvas;else{w=_.getCanvas("mesh",D,U,!1);var W=w.context,B=W.createImageData(F,I);if(b){var G=B.data;for(i=0,k=G.length;k>i;i+=4)G[i]=b[0],G[i+1]=b[1],G[i+2]=b[2],G[i+3]=255}for(i=0;i<y.length;i++)c(B,y[i],j);W.putImageData(B,P,P),S=w.canvas}return{canvas:S,offsetX:E-P*M,offsetY:T-P*N,scaleX:M,scaleY:N}}return h}();g.Mesh={fromIR:function(a){var h=a[2],g=a[3],b=a[4],_=a[5],A=a[6],S=a[7],w=a[8];return{type:"Pattern",getPattern:function(a,k,C){c(a,S);var R;if(C)R=v.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(R=v.Util.singularValueDecompose2dScale(k.baseTransform),A){var P=v.Util.singularValueDecompose2dScale(A);R=[R[0]*P[0],R[1]*P[1]]}var E=y(_,R,h,g,b,C?null:w,k.cachedCanvases,k.webGLContext);return C||(a.setTransform.apply(a,k.baseTransform),A&&a.transform.apply(a,A)),a.translate(E.offsetX,E.offsetY),a.scale(E.scaleX,E.scaleY),a.createPattern(E.canvas,"no-repeat")}}}},g.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var b=function(){function a(a,c,h,v,g){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=c,this.canvasGraphicsFactory=v,this.baseTransform=g,this.type="Pattern",this.ctx=h}var c={COLORED:1,UNCOLORED:2},h=3e3;return a.prototype={createPatternCanvas:function(a){var c=this.operatorList,h=this.bbox,g=this.xstep,y=this.ystep,b=this.paintType,_=this.tilingType,A=this.color,S=this.canvasGraphicsFactory;v.info("TilingType: "+_);var w=h[0],k=h[1],C=h[2],R=h[3],P=v.Util.singularValueDecompose2dScale(this.matrix),E=v.Util.singularValueDecompose2dScale(this.baseTransform),T=[P[0]*E[0],P[1]*E[1]],O=this.getSizeAndScale(g,this.ctx.canvas.width,T[0]),L=this.getSizeAndScale(y,this.ctx.canvas.height,T[1]),F=a.cachedCanvases.getCanvas("pattern",O.size,L.size,!0),I=F.context,M=S.createCanvasGraphics(I);return M.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(M,b,A),M.transform(O.scale,0,0,L.scale,0,0),M.transform(1,0,0,1,-w,-k),this.clipBbox(M,h,w,k,C,R),M.executeOperatorList(c),this.ctx.transform(1,0,0,1,w,k),this.ctx.scale(1/O.scale,1/L.scale),F.canvas},getSizeAndScale:function(a,c,v){a=Math.abs(a);var g=Math.max(h,c),y=Math.ceil(a*v);return y>=g?y=g:v=y/a,{scale:v,size:y}},clipBbox:function(a,c,h,v,g,y){if(Array.isArray(c)&&4===c.length){var b=g-h,_=y-v;a.ctx.rect(h,v,b,_),a.clip(),a.endPath()}},setFillAndStrokeStyleToContext:function(a,h,g){var y=a.ctx,b=a.current;switch(h){case c.COLORED:var _=this.ctx;y.fillStyle=_.fillStyle,y.strokeStyle=_.strokeStyle,b.fillColor=_.fillStyle,b.strokeColor=_.strokeStyle;break;case c.UNCOLORED:var A=v.Util.makeCssRgb(g[0],g[1],g[2]);y.fillStyle=A,y.strokeStyle=A,b.fillColor=A,b.strokeColor=A;break;default:throw new v.FormatError("Unsupported paint type: ".concat(h))}},getPattern:function(a,c){a=this.ctx,a.setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix);var h=this.createPatternCanvas(c);return a.createPattern(h,"repeat")}},a}();exports.TilingPattern=b},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalWorkerOptions=void 0;var a=Object.create(null);exports.GlobalWorkerOptions=a,a.workerPort=void 0===a.workerPort?null:a.workerPort,a.workerSrc=void 0===a.workerSrc?"":a.workerSrc},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function v(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function g(a,c,h){return c&&v(a.prototype,c),h&&v(a,h),a}function y(a){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function b(a){if("object"!==y(a)||null===a)return a;switch(a.name){case"AbortException":return new A.AbortException(a.message);case"MissingPDFException":return new A.MissingPDFException(a.message);case"UnexpectedResponseException":return new A.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new A.UnknownErrorException(a.message,a.details);default:return new A.UnknownErrorException(a.message,a.toString())}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHandler=void 0;var _=c(a(182)),A=a(1),S={UNKNOWN:0,DATA:1,ERROR:2},w={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8},k=function(){function a(c,v,g){var y=this;h(this,a),this.sourceName=c,this.targetName=v,this.comObj=g,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(a){var c=a.data;if(c.targetName===y.sourceName){if(c.stream)return void y._processStreamMessage(c);if(!c.callback){var h=y.actionHandler[c.action];if(!h)throw new Error("Unknown action from worker: ".concat(c.action));if(c.callbackId){var v=y.sourceName,_=c.sourceName;return void new Promise(function(a){a(h(c.data))}).then(function(a){g.postMessage({sourceName:v,targetName:_,callback:S.DATA,callbackId:c.callbackId,data:a})},function(a){g.postMessage({sourceName:v,targetName:_,callback:S.ERROR,callbackId:c.callbackId,reason:b(a)})})}return c.streamId?void y._createStreamSink(c):void h(c.data)}var A=c.callbackId,w=y.callbackCapabilities[A];if(!w)throw new Error("Cannot resolve callback ".concat(A));if(delete y.callbackCapabilities[A],c.callback===S.DATA)w.resolve(c.data);else{if(c.callback!==S.ERROR)throw new Error("Unexpected callback case");w.reject(b(c.reason))}}},g.addEventListener("message",this._onComObjOnMessage)}return g(a,[{key:"on",value:function(a,c){var h=this.actionHandler;if(h[a])throw new Error('There is already an actionName called "'.concat(a,'"'));h[a]=c}},{key:"send",value:function(a,c,h){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:c},h)}},{key:"sendWithPromise",value:function(a,c,h){var v=this.callbackId++,g=A.createPromiseCapability();this.callbackCapabilities[v]=g;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:v,data:c},h)}catch(ex){g.reject(ex)}return g.promise}},{key:"sendWithStream",value:function(a,c,h,v){var g=this,y=this.streamId++,_=this.sourceName,S=this.targetName,k=this.comObj;return new A.ReadableStream({start:function(h){var b=A.createPromiseCapability();return g.streamControllers[y]={controller:h,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},g._postMessage({sourceName:_,targetName:S,action:a,streamId:y,data:c,desiredSize:h.desiredSize},v),b.promise},pull:function(a){var c=A.createPromiseCapability();return g.streamControllers[y].pullCall=c,k.postMessage({sourceName:_,targetName:S,stream:w.PULL,streamId:y,desiredSize:a.desiredSize}),c.promise},cancel:function(a){A.assert(a instanceof Error,"cancel must have a valid reason");var c=A.createPromiseCapability();return g.streamControllers[y].cancelCall=c,g.streamControllers[y].isClosed=!0,k.postMessage({sourceName:_,targetName:S,stream:w.CANCEL,streamId:y,reason:b(a)}),c.promise}},h)}},{key:"_createStreamSink",value:function(a){var c=this,h=this.actionHandler[a.action],v=a.streamId,g=this.sourceName,y=a.sourceName,_=this.comObj,S={enqueue:function(a){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,b=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var _=this.desiredSize;this.desiredSize-=h,_>0&&this.desiredSize<=0&&(this.sinkCapability=A.createPromiseCapability(),this.ready=this.sinkCapability.promise),c._postMessage({sourceName:g,targetName:y,stream:w.ENQUEUE,streamId:v,chunk:a},b)}},close:function(){this.isCancelled||(this.isCancelled=!0,_.postMessage({sourceName:g,targetName:y,stream:w.CLOSE,streamId:v}),delete c.streamSinks[v])},error:function(a){A.assert(a instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,_.postMessage({sourceName:g,targetName:y,stream:w.ERROR,streamId:v,reason:b(a)}))},sinkCapability:A.createPromiseCapability(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};S.sinkCapability.resolve(),S.ready=S.sinkCapability.promise,this.streamSinks[v]=S,new Promise(function(c){c(h(a.data,S))}).then(function(){_.postMessage({sourceName:g,targetName:y,stream:w.START_COMPLETE,streamId:v,success:!0})},function(a){_.postMessage({sourceName:g,targetName:y,stream:w.START_COMPLETE,streamId:v,reason:b(a)})})}},{key:"_processStreamMessage",value:function(a){var c=a.streamId,h=this.sourceName,v=a.sourceName,g=this.comObj;switch(a.stream){case w.START_COMPLETE:a.success?this.streamControllers[c].startCall.resolve():this.streamControllers[c].startCall.reject(b(a.reason));break;case w.PULL_COMPLETE:a.success?this.streamControllers[c].pullCall.resolve():this.streamControllers[c].pullCall.reject(b(a.reason));break;case w.PULL:if(!this.streamSinks[c]){g.postMessage({sourceName:h,targetName:v,stream:w.PULL_COMPLETE,streamId:c,success:!0});break}this.streamSinks[c].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[c].sinkCapability.resolve(),this.streamSinks[c].desiredSize=a.desiredSize;var y=this.streamSinks[a.streamId].onPull;new Promise(function(a){a(y&&y())}).then(function(){g.postMessage({sourceName:h,targetName:v,stream:w.PULL_COMPLETE,streamId:c,success:!0})},function(a){g.postMessage({sourceName:h,targetName:v,stream:w.PULL_COMPLETE,streamId:c,reason:b(a)})});break;case w.ENQUEUE:if(A.assert(this.streamControllers[c],"enqueue should have stream controller"),this.streamControllers[c].isClosed)break;this.streamControllers[c].controller.enqueue(a.chunk);break;case w.CLOSE:if(A.assert(this.streamControllers[c],"close should have stream controller"),this.streamControllers[c].isClosed)break;this.streamControllers[c].isClosed=!0,this.streamControllers[c].controller.close(),this._deleteStreamController(c);break;case w.ERROR:A.assert(this.streamControllers[c],"error should have stream controller"),this.streamControllers[c].controller.error(b(a.reason)),this._deleteStreamController(c);break;case w.CANCEL_COMPLETE:a.success?this.streamControllers[c].cancelCall.resolve():this.streamControllers[c].cancelCall.reject(b(a.reason)),this._deleteStreamController(c);break;case w.CANCEL:if(!this.streamSinks[c])break;var _=this.streamSinks[a.streamId].onCancel;new Promise(function(c){c(_&&_(b(a.reason)))}).then(function(){g.postMessage({sourceName:h,targetName:v,stream:w.CANCEL_COMPLETE,streamId:c,success:!0})},function(a){g.postMessage({sourceName:h,targetName:v,stream:w.CANCEL_COMPLETE,streamId:c,reason:b(a)})}),this.streamSinks[c].sinkCapability.reject(b(a.reason)),this.streamSinks[c].isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(a){return _["default"].async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,_["default"].awrap(Promise.all([this.streamControllers[a].startCall,this.streamControllers[a].pullCall,this.streamControllers[a].cancelCall].map(function(a){return a&&a.promise["catch"](function(){})})));case 2:delete this.streamControllers[a];case 3:case"end":return c.stop()}},null,this)}},{key:"_postMessage",value:function(a,c){c&&this.postMessageTransfers?this.comObj.postMessage(a,c):this.comObj.postMessage(a)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),a}();exports.MessageHandler=k},function(module,exports,a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function h(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function v(a,c,v){return c&&h(a.prototype,c),v&&h(a,v),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Metadata=void 0;var g=a(1),y=a(193),b=function(){function a(h){c(this,a),g.assert("string"==typeof h,"Metadata: input is not a string"),h=this._repair(h);var v=new y.SimpleXMLParser,b=v.parseFromString(h);this._metadata=Object.create(null),b&&this._parse(b)}return v(a,[{key:"_repair",value:function(a){return a.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(a,c){for(var h=c.replace(/\\([0-3])([0-7])([0-7])/g,function(a,c,h,v){return String.fromCharCode(64*c+8*h+1*v)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,c){switch(c){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(c," isn't defined."))}),v="",i=0,g=h.length;g>i;i+=2){var y=256*h.charCodeAt(i)+h.charCodeAt(i+1);v+=y>=32&&127>y&&60!==y&&62!==y&&38!==y?String.fromCharCode(y):"&#x"+(65536+y).toString(16).substring(1)+";"}return">"+v})}},{key:"_parse",value:function(a){var c=a.documentElement;if("rdf:rdf"!==c.nodeName.toLowerCase())for(c=c.firstChild;c&&"rdf:rdf"!==c.nodeName.toLowerCase();)c=c.nextSibling;var h=c?c.nodeName.toLowerCase():null;if(c&&"rdf:rdf"===h&&c.hasChildNodes())for(var v=c.childNodes,i=0,g=v.length;g>i;i++){var y=v[i];if("rdf:description"===y.nodeName.toLowerCase())for(var b=0,_=y.childNodes.length;_>b;b++)if("#text"!==y.childNodes[b].nodeName.toLowerCase()){var A=y.childNodes[b],S=A.nodeName.toLowerCase();this._metadata[S]=A.textContent.trim()}}}},{key:"get",value:function(a){var c=this._metadata[a];return"undefined"!=typeof c?c:null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!=typeof this._metadata[a]}}]),a}();exports.Metadata=b},function(module,exports){"use strict";function a(c){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function c(a,i){return g(a)||v(a,i)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(a,i){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],h=!0,v=!1,g=void 0;try{for(var y,b=a[Symbol.iterator]();!(h=(y=b.next()).done)&&(c.push(y.value),!i||c.length!==i);h=!0);}catch(_){v=!0,g=_}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}return c}}function g(a){return Array.isArray(a)?a:void 0}function y(c,h){return!h||"object"!==a(h)&&"function"!=typeof h?b(c):h}function b(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _(a,c,h){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,c,h){var v=A(a,c);if(v){var g=Object.getOwnPropertyDescriptor(v,c);return g.get?g.get.call(h):g.value}})(a,c,h||a)}function A(a,c){for(;!Object.prototype.hasOwnProperty.call(a,c)&&(a=S(a),null!==a););return a}function S(o){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function w(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&k(a,c)}function k(o,p){return(k=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function C(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function R(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function P(a,c,h){return c&&R(a.prototype,c),h&&R(a,h),a}function E(s,a){var c=s[a];return" "===c||"\n"===c||"\r"===c||"	"===c}function T(s){for(var i=0,a=s.length;a>i;i++)if(!E(s,i))return!1;return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleXMLParser=void 0;var O={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10},L=function(){function a(){C(this,a)}return P(a,[{key:"_resolveEntities",value:function(s){var a=this;return s.replace(/&([^;]+);/g,function(c,h){if("#x"===h.substring(0,2))return String.fromCharCode(parseInt(h.substring(2),16));if("#"===h.substring(0,1))return String.fromCharCode(parseInt(h.substring(1),10));switch(h){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return a.onResolveEntity(h)})}},{key:"_parseContent",value:function(s,a){function c(){for(;v<s.length&&E(s,v);)++v}for(var h,v=a,g=[];v<s.length&&!E(s,v)&&">"!==s[v]&&"/"!==s[v];)++v;for(h=s.substring(a,v),c();v<s.length&&">"!==s[v]&&"/"!==s[v]&&"?"!==s[v];){c();for(var y="",b="";v<s.length&&!E(s,v)&&"="!==s[v];)y+=s[v],++v;if(c(),"="!==s[v])return null;++v,c();var _=s[v];if('"'!==_&&"'"!==_)return null;var A=s.indexOf(_,++v);if(0>A)return null;b=s.substring(v,A),g.push({name:y,value:this._resolveEntities(b)}),v=A+1,c()}return{name:h,attributes:g,parsed:v-a}}},{key:"_parseProcessingInstruction",value:function(s,a){function c(){for(;g<s.length&&E(s,g);)++g}for(var h,v,g=a;g<s.length&&!E(s,g)&&">"!==s[g]&&"/"!==s[g];)++g;h=s.substring(a,g),c();for(var y=g;g<s.length&&("?"!==s[g]||">"!==s[g+1]);)++g;return v=s.substring(y,g),{name:h,value:v,parsed:g-a}}},{key:"parseXml",value:function(s){for(var i=0;i<s.length;){var a=s[i],c=i;if("<"===a){++c;var h=s[c],q=void 0;switch(h){case"/":if(++c,q=s.indexOf(">",c),0>q)return void this.onError(O.UnterminatedElement);this.onEndElement(s.substring(c,q)),c=q+1;break;case"?":++c;var v=this._parseProcessingInstruction(s,c);if("?>"!==s.substring(c+v.parsed,c+v.parsed+2))return void this.onError(O.UnterminatedXmlDeclaration);this.onPi(v.name,v.value),c+=v.parsed+2;break;case"!":if("--"===s.substring(c+1,c+3)){if(q=s.indexOf("-->",c+3),0>q)return void this.onError(O.UnterminatedComment);this.onComment(s.substring(c+3,q)),c=q+3}else if("[CDATA["===s.substring(c+1,c+8)){if(q=s.indexOf("]]>",c+8),0>q)return void this.onError(O.UnterminatedCdat);this.onCdata(s.substring(c+8,q)),c=q+3}else{if("DOCTYPE"!==s.substring(c+1,c+8))return void this.onError(O.MalformedElement);var g=s.indexOf("[",c+8),y=!1;if(q=s.indexOf(">",c+8),0>q)return void this.onError(O.UnterminatedDoctypeDeclaration);if(g>0&&q>g){if(q=s.indexOf("]>",c+8),0>q)return void this.onError(O.UnterminatedDoctypeDeclaration);y=!0}var b=s.substring(c+8,q+(y?1:0));this.onDoctype(b),c=q+(y?2:1)}break;default:var _=this._parseContent(s,c);if(null===_)return void this.onError(O.MalformedElement);var A=!1;if("/>"===s.substring(c+_.parsed,c+_.parsed+2))A=!0;else if(">"!==s.substring(c+_.parsed,c+_.parsed+1))return void this.onError(O.UnterminatedElement);this.onBeginElement(_.name,_.attributes,A),c+=_.parsed+(A?2:1)}}else{for(;c<s.length&&"<"!==s[c];)c++;var S=s.substring(i,c);this.onText(this._resolveEntities(S))}i=c}}},{key:"onResolveEntity",value:function(a){return"&".concat(a,";")}},{key:"onPi",value:function(){}},{key:"onComment",value:function(){}},{key:"onCdata",value:function(){}},{key:"onDoctype",value:function(){}},{key:"onText",value:function(){}},{key:"onBeginElement",value:function(){}},{key:"onEndElement",value:function(){}},{key:"onError",value:function(){}}]),a}(),F=function(){function a(c,h){C(this,a),this.nodeName=c,this.nodeValue=h,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return P(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var a=this.parentNode.childNodes;if(!a)return void 0;var c=a.indexOf(this);return-1===c?void 0:a[c+1]}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(a){return a.textContent}).join(""):this.nodeValue||""}}]),a}(),I=function(a){function h(){var a;return C(this,h),a=y(this,S(h).call(this)),a._currentFragment=null,a._stack=null,a._errorCode=O.NoError,a}return w(h,a),P(h,[{key:"parseFromString",value:function(a){if(this._currentFragment=[],this._stack=[],this._errorCode=O.NoError,this.parseXml(a),this._errorCode!==O.NoError)return void 0;var h=c(this._currentFragment,1),v=h[0];return v?{documentElement:v}:void 0}},{key:"onResolveEntity",value:function(a){switch(a){case"apos":return"'"}return _(S(h.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){if(!T(a)){var c=new F("#text",a);this._currentFragment.push(c)}}},{key:"onCdata",value:function(a){var c=new F("#text",a);this._currentFragment.push(c)}},{key:"onBeginElement",value:function(a,c,h){var v=new F(a);v.childNodes=[],this._currentFragment.push(v),h||(this._stack.push(this._currentFragment),this._currentFragment=v.childNodes)}},{key:"onEndElement",value:function(){this._currentFragment=this._stack.pop()||[];var a=this._currentFragment[this._currentFragment.length-1];if(a)for(var i=0,c=a.childNodes.length;c>i;i++)a.childNodes[i].parentNode=a}},{key:"onError",value:function(a){this._errorCode=a}}]),h}(L);exports.SimpleXMLParser=I},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function v(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function g(a,c,h){return c&&v(a.prototype,c),h&&v(a,h),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDataTransportStream=void 0;var y=c(a(182)),b=a(1),_=function(){function a(c,v){var g=this;h(this,a),b.assert(v),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1;var y=c.initialData;if(y&&y.length>0){var _=new Uint8Array(y).buffer;this._queuedChunks.push(_)}this._pdfDataRangeTransport=v,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,c){g._onReceiveData({begin:a,chunk:c})}),this._pdfDataRangeTransport.addProgressListener(function(a,c){g._onProgress({loaded:a,total:c})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){g._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){g._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return g(a,[{key:"_onReceiveData",value:function(a){var c=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{var h=this._rangeReaders.some(function(h){return h._begin!==a.begin?!1:(h._enqueue(c),!0)});b.assert(h)}}},{key:"_onProgress",value:function(a){if(void 0===a.total){var c=this._rangeReaders[0];c&&c.onProgress&&c.onProgress({loaded:a.loaded})}else{var h=this._fullRequestReader;h&&h.onProgress&&h.onProgress({loaded:a.loaded,total:a.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(a){var i=this._rangeReaders.indexOf(a);i>=0&&this._rangeReaders.splice(i,1)}},{key:"getFullReader",value:function(){b.assert(!this._fullRequestReader);var a=this._queuedChunks;return this._queuedChunks=null,new A(this,a,this._progressiveDone)}},{key:"getRangeReader",value:function(a,c){if(c<=this._progressiveDataLength)return null;var h=new S(this,a,c);return this._pdfDataRangeTransport.requestDataRange(a,c),this._rangeReaders.push(h),h}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var c=this._rangeReaders.slice(0);c.forEach(function(c){c.cancel(a)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),a}();exports.PDFDataTransportStream=_;var A=function(){function a(c,v){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;h(this,a),this._stream=c,this._done=g||!1,this._filename=null,this._queuedChunks=v||[],this._loaded=0;var y=!0,b=!1,_=void 0;try{for(var A,S=this._queuedChunks[Symbol.iterator]();!(y=(A=S.next()).done);y=!0){var w=A.value;this._loaded+=w.byteLength}}catch(k){b=!0,_=k}finally{try{y||null==S["return"]||S["return"]()}finally{if(b)throw _}}this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}return g(a,[{key:"_enqueue",value:function(a){if(!this._done){if(this._requests.length>0){var c=this._requests.shift();c.resolve({value:a,done:!1})}else this._queuedChunks.push(a);this._loaded+=a.byteLength}}},{key:"read",value:function(){var a,c;return y["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(this._queuedChunks.length>0)){h.next=3;break}return a=this._queuedChunks.shift(),h.abrupt("return",{value:a,done:!1});case 3:if(!this._done){h.next=5;break}return h.abrupt("return",{value:void 0,done:!0});case 5:return c=b.createPromiseCapability(),this._requests.push(c),h.abrupt("return",c.promise);case 8:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),a}(),S=function(){function a(c,v,g){h(this,a),this._stream=c,this._begin=v,this._end=g,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return g(a,[{key:"_enqueue",value:function(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{var c=this._requests.shift();c.resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"read",value:function(){var a,c;return y["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this._queuedChunk){h.next=4;break}return a=this._queuedChunk,this._queuedChunk=null,h.abrupt("return",{value:a,done:!1});case 4:if(!this._done){h.next=6;break}return h.abrupt("return",{value:void 0,done:!0});case 6:return c=b.createPromiseCapability(),this._requests.push(c),h.abrupt("return",c.promise);case 9:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),a}()},function(module,exports,a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function h(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function v(a,c,v){return c&&h(a.prototype,c),v&&h(a,v),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebGLContext=void 0;var g=a(1),y=function(){function a(h){var v=h.enable,g=void 0===v?!1:v;c(this,a),this._enabled=g===!0}return v(a,[{key:"composeSMask",value:function(a){var c=a.layer,h=a.mask,v=a.properties;return b.composeSMask(c,h,v)}},{key:"drawFigures",value:function(a){var c=a.width,h=a.height,v=a.backgroundColor,g=a.figures,y=a.context;return b.drawFigures(c,h,v,g,y)}},{key:"clear",value:function(){b.cleanup()}},{key:"isEnabled",get:function(){var a=this._enabled;return a&&(a=b.tryInitGL()),g.shadow(this,"isEnabled",a)}}]),a}();exports.WebGLContext=y;var b=function(){function a(a,c,h){var v=a.createShader(h);a.shaderSource(v,c),a.compileShader(v);var g=a.getShaderParameter(v,a.COMPILE_STATUS);if(!g){var y=a.getShaderInfoLog(v);throw new Error("Error during shader compilation: "+y)}return v}function c(c,h){return a(c,h,c.VERTEX_SHADER)}function h(c,h){return a(c,h,c.FRAGMENT_SHADER)}function v(a,c){for(var h=a.createProgram(),i=0,v=c.length;v>i;++i)a.attachShader(h,c[i]);a.linkProgram(h);var g=a.getProgramParameter(h,a.LINK_STATUS);if(!g){var y=a.getProgramInfoLog(h);throw new Error("Error during program linking: "+y)}return h}function g(a,c,h){a.activeTexture(h);var v=a.createTexture();return a.bindTexture(a.TEXTURE_2D,v),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,c),v}function y(){w||(k=document.createElement("canvas"),w=k.getContext("webgl",{premultipliedalpha:!1}))}function b(){var a,g;y(),a=k,k=null,g=w,w=null;var b=c(g,C),_=h(g,R),A=v(g,[b,_]);g.useProgram(A);var S={};S.gl=g,S.canvas=a,S.resolutionLocation=g.getUniformLocation(A,"u_resolution"),S.positionLocation=g.getAttribLocation(A,"a_position"),S.backdropLocation=g.getUniformLocation(A,"u_backdrop"),S.subtypeLocation=g.getUniformLocation(A,"u_subtype");var E=g.getAttribLocation(A,"a_texCoord"),T=g.getUniformLocation(A,"u_image"),O=g.getUniformLocation(A,"u_mask"),L=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,L),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW),g.enableVertexAttribArray(E),g.vertexAttribPointer(E,2,g.FLOAT,!1,0,0),g.uniform1i(T,0),g.uniform1i(O,1),P=S}function _(a,c,h){var v=a.width,y=a.height;P||b();var _=P,A=_.canvas,S=_.gl;A.width=v,A.height=y,S.viewport(0,0,S.drawingBufferWidth,S.drawingBufferHeight),S.uniform2f(_.resolutionLocation,v,y),h.backdrop?S.uniform4f(_.resolutionLocation,h.backdrop[0],h.backdrop[1],h.backdrop[2],1):S.uniform4f(_.resolutionLocation,0,0,0,0),S.uniform1i(_.subtypeLocation,"Luminosity"===h.subtype?1:0);var w=g(S,a,S.TEXTURE0),k=g(S,c,S.TEXTURE1),C=S.createBuffer();return S.bindBuffer(S.ARRAY_BUFFER,C),S.bufferData(S.ARRAY_BUFFER,new Float32Array([0,0,v,0,0,y,0,y,v,0,v,y]),S.STATIC_DRAW),S.enableVertexAttribArray(_.positionLocation),S.vertexAttribPointer(_.positionLocation,2,S.FLOAT,!1,0,0),S.clearColor(0,0,0,0),S.enable(S.BLEND),S.blendFunc(S.ONE,S.ONE_MINUS_SRC_ALPHA),S.clear(S.COLOR_BUFFER_BIT),S.drawArrays(S.TRIANGLES,0,6),S.flush(),S.deleteTexture(w),S.deleteTexture(k),S.deleteBuffer(C),A
}function A(){var a,g;y(),a=k,k=null,g=w,w=null;var b=c(g,E),_=h(g,T),A=v(g,[b,_]);g.useProgram(A);var S={};S.gl=g,S.canvas=a,S.resolutionLocation=g.getUniformLocation(A,"u_resolution"),S.scaleLocation=g.getUniformLocation(A,"u_scale"),S.offsetLocation=g.getUniformLocation(A,"u_offset"),S.positionLocation=g.getAttribLocation(A,"a_position"),S.colorLocation=g.getAttribLocation(A,"a_color"),O=S}function S(a,c,h,v,g){O||A();var y=O,b=y.canvas,_=y.gl;b.width=a,b.height=c,_.viewport(0,0,_.drawingBufferWidth,_.drawingBufferHeight),_.uniform2f(y.resolutionLocation,a,c);var i,S,w,k=0;for(i=0,S=v.length;S>i;i++)switch(v[i].type){case"lattice":w=v[i].coords.length/v[i].verticesPerRow|0,k+=(w-1)*(v[i].verticesPerRow-1)*6;break;case"triangles":k+=v[i].coords.length}var C=new Float32Array(2*k),R=new Uint8Array(3*k),P=g.coords,E=g.colors,T=0,L=0;for(i=0,S=v.length;S>i;i++){var F=v[i],I=F.coords,M=F.colors;switch(F.type){case"lattice":var N=F.verticesPerRow;w=I.length/N|0;for(var j=1;w>j;j++)for(var D=j*N+1,U=1;N>U;U++,D++)C[T]=P[I[D-N-1]],C[T+1]=P[I[D-N-1]+1],C[T+2]=P[I[D-N]],C[T+3]=P[I[D-N]+1],C[T+4]=P[I[D-1]],C[T+5]=P[I[D-1]+1],R[L]=E[M[D-N-1]],R[L+1]=E[M[D-N-1]+1],R[L+2]=E[M[D-N-1]+2],R[L+3]=E[M[D-N]],R[L+4]=E[M[D-N]+1],R[L+5]=E[M[D-N]+2],R[L+6]=E[M[D-1]],R[L+7]=E[M[D-1]+1],R[L+8]=E[M[D-1]+2],C[T+6]=C[T+2],C[T+7]=C[T+3],C[T+8]=C[T+4],C[T+9]=C[T+5],C[T+10]=P[I[D]],C[T+11]=P[I[D]+1],R[L+9]=R[L+3],R[L+10]=R[L+4],R[L+11]=R[L+5],R[L+12]=R[L+6],R[L+13]=R[L+7],R[L+14]=R[L+8],R[L+15]=E[M[D]],R[L+16]=E[M[D]+1],R[L+17]=E[M[D]+2],T+=12,L+=18;break;case"triangles":for(var W=0,B=I.length;B>W;W++)C[T]=P[I[W]],C[T+1]=P[I[W]+1],R[L]=E[M[W]],R[L+1]=E[M[W]+1],R[L+2]=E[M[W]+2],T+=2,L+=3}}h?_.clearColor(h[0]/255,h[1]/255,h[2]/255,1):_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT);var G=_.createBuffer();_.bindBuffer(_.ARRAY_BUFFER,G),_.bufferData(_.ARRAY_BUFFER,C,_.STATIC_DRAW),_.enableVertexAttribArray(y.positionLocation),_.vertexAttribPointer(y.positionLocation,2,_.FLOAT,!1,0,0);var z=_.createBuffer();return _.bindBuffer(_.ARRAY_BUFFER,z),_.bufferData(_.ARRAY_BUFFER,R,_.STATIC_DRAW),_.enableVertexAttribArray(y.colorLocation),_.vertexAttribPointer(y.colorLocation,3,_.UNSIGNED_BYTE,!1,0,0),_.uniform2f(y.scaleLocation,g.scaleX,g.scaleY),_.uniform2f(y.offsetLocation,g.offsetX,g.offsetY),_.drawArrays(_.TRIANGLES,0,k),_.flush(),_.deleteBuffer(G),_.deleteBuffer(z),b}var w,k,C="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",R="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",P=null,E="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",T="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",O=null;return{tryInitGL:function(){try{return y(),!!w}catch(ex){}return!1},composeSMask:_,drawFigures:S,cleanup:function(){P&&P.canvas&&(P.canvas.width=0,P.canvas.height=0),O&&O.canvas&&(O.canvas.width=0,O.canvas.height=0),P=null,O=null}}}()},function(module,exports,a){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTextLayer=void 0;var c=a(1),h=a(3),v=function(){function a(a){return!k.test(a)}function v(h,v,g){var y=document.createElement("span"),b={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(h._textDivs.push(y),a(v.str))return b.isWhitespace=!0,void h._textDivProperties.set(y,b);var _=c.Util.transform(h._viewport.transform,v.transform),A=Math.atan2(_[1],_[0]),S=g[v.fontName];S.vertical&&(A+=Math.PI/2);var w=Math.sqrt(_[2]*_[2]+_[3]*_[3]),k=w;S.ascent?k=S.ascent*k:S.descent&&(k=(1+S.descent)*k);var C,R;if(0===A?(C=_[4],R=_[5]-k):(C=_[4]+k*Math.sin(A),R=_[5]-k*Math.cos(A)),y.style.left="".concat(C,"px"),y.style.top="".concat(R,"px"),y.style.fontSize="".concat(w,"px"),y.style.fontFamily=S.fontFamily,y.textContent=v.str,h._fontInspectorEnabled&&(y.dataset.fontName=v.fontName),0!==A&&(b.angle=A*(180/Math.PI)),v.str.length>1&&(b.canvasWidth=S.vertical?v.height*h._viewport.scale:v.width*h._viewport.scale),h._textDivProperties.set(y,b),h._textContentStream&&h._layoutText(y),h._enhanceTextSelection){var P=1,E=0;0!==A&&(P=Math.cos(A),E=Math.sin(A));var m,T,O=(S.vertical?v.height:v.width)*h._viewport.scale,L=w;0!==A?(m=[P,E,-E,P,C,R],T=c.Util.getAxialAlignedBoundingBox([0,0,O,L],m)):T=[C,R,C+O,R+L],h._bounds.push({left:T[0],top:T[1],right:T[2],bottom:T[3],div:y,size:[O,L],m:m})}}function g(a){if(!a._canceled){var c=a._textDivs,h=a._capability,v=c.length;if(v>w)return a._renderingDone=!0,void h.resolve();if(!a._textContentStream)for(var i=0;v>i;i++)a._layoutText(c[i]);a._renderingDone=!0,h.resolve()}}function y(a){for(var h=a._bounds,v=a._viewport,g=b(v.width,v.height,h),i=0;i<g.length;i++){var y=h[i].div,_=a._textDivProperties.get(y);if(0!==_.angle){var e=g[i],A=h[i],m=A.m,S=m[0],s=m[1],w=[[0,0],[0,A.size[1]],[A.size[0],0],A.size],ts=new Float64Array(64);w.forEach(function(p,i){var t=c.Util.applyTransform(p,m);ts[i+0]=S&&(e.left-t[0])/S,ts[i+4]=s&&(e.top-t[1])/s,ts[i+8]=S&&(e.right-t[0])/S,ts[i+12]=s&&(e.bottom-t[1])/s,ts[i+16]=s&&(e.left-t[0])/-s,ts[i+20]=S&&(e.top-t[1])/S,ts[i+24]=s&&(e.right-t[0])/-s,ts[i+28]=S&&(e.bottom-t[1])/S,ts[i+32]=S&&(e.left-t[0])/-S,ts[i+36]=s&&(e.top-t[1])/-s,ts[i+40]=S&&(e.right-t[0])/-S,ts[i+44]=s&&(e.bottom-t[1])/-s,ts[i+48]=s&&(e.left-t[0])/s,ts[i+52]=S&&(e.top-t[1])/-S,ts[i+56]=s&&(e.right-t[0])/s,ts[i+60]=S&&(e.bottom-t[1])/-S});var k=function(ts,a,c){for(var h=0,i=0;c>i;i++){var t=ts[a++];t>0&&(h=h?Math.min(t,h):t)}return h},C=1+Math.min(Math.abs(S),Math.abs(s));_.paddingLeft=k(ts,32,16)/C,_.paddingTop=k(ts,48,16)/C,_.paddingRight=k(ts,0,16)/C,_.paddingBottom=k(ts,16,16)/C,a._textDivProperties.set(y,_)}else _.paddingLeft=h[i].left-g[i].left,_.paddingTop=h[i].top-g[i].top,_.paddingRight=g[i].right-h[i].right,_.paddingBottom=g[i].bottom-h[i].bottom,a._textDivProperties.set(y,_)}}function b(a,c,h){var v=h.map(function(a,i){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:i,x1New:void 0,x2New:void 0}});_(a,v);var g=new Array(h.length);return v.forEach(function(a){var i=a.index;g[i]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),h.map(function(c,i){var e=g[i],h=v[i];h.x1=c.top,h.y1=a-e.right,h.x2=c.bottom,h.y2=a-e.left,h.index=i,h.x1New=void 0,h.x2New=void 0}),_(c,v),v.forEach(function(a){var i=a.index;g[i].top=a.x1New,g[i].bottom=a.x2New}),g}function _(a,c){c.sort(function(a,c){return a.x1-c.x1||a.index-c.index});var h={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},v=[{start:-1/0,end:1/0,boundary:h}];c.forEach(function(a){for(var i=0;i<v.length&&v[i].end<=a.y1;)i++;for(var c=v.length-1;c>=0&&v[c].start>=a.y2;)c--;var h,g,q,y,b=-1/0;for(q=i;c>=q;q++){h=v[q],g=h.boundary;var _;_=g.x2>a.x1?g.index>a.index?g.x1New:a.x1:void 0===g.x2New?(g.x2+a.x1)/2:g.x2New,_>b&&(b=_)}for(a.x1New=b,q=i;c>=q;q++)h=v[q],g=h.boundary,void 0===g.x2New?g.x2>a.x1?g.index>a.index&&(g.x2New=g.x2):g.x2New=b:g.x2New>b&&(g.x2New=Math.max(b,g.x2));var A=[],S=null;for(q=i;c>=q;q++){h=v[q],g=h.boundary;var w=g.x2>a.x2?g:a;S===w?A[A.length-1].end=h.end:(A.push({start:h.start,end:h.end,boundary:w}),S=w)}for(v[i].start<a.y1&&(A[0].start=a.y1,A.unshift({start:v[i].start,end:a.y1,boundary:v[i].boundary})),a.y2<v[c].end&&(A[A.length-1].end=a.y2,A.push({start:a.y2,end:v[c].end,boundary:v[c].boundary})),q=i;c>=q;q++)if(h=v[q],g=h.boundary,void 0===g.x2New){var k=!1;for(y=i-1;!k&&y>=0&&v[y].start>=g.y1;y--)k=v[y].boundary===g;for(y=c+1;!k&&y<v.length&&v[y].end<=g.y2;y++)k=v[y].boundary===g;for(y=0;!k&&y<A.length;y++)k=A[y].boundary===g;k||(g.x2New=b)}Array.prototype.splice.apply(v,[i,c-i+1].concat(A))}),v.forEach(function(c){var h=c.boundary;void 0===h.x2New&&(h.x2New=Math.max(a,h.x2))})}function A(a){var v=this,g=a.textContent,y=a.textContentStream,b=a.container,_=a.viewport,A=a.textDivs,S=a.textContentItemsStr,w=a.enhanceTextSelection;this._textContent=g,this._textContentStream=y,this._container=b,this._viewport=_,this._textDivs=A||[],this._textContentItemsStr=S||[],this._enhanceTextSelection=!!w,this._fontInspectorEnabled=!(!h.globalScope.FontInspector||!h.globalScope.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=c.createPromiseCapability(),this._renderTimer=null,this._bounds=[],this._capability.promise["finally"](function(){v._layoutTextCtx&&(v._layoutTextCtx.canvas.width=0,v._layoutTextCtx.canvas.height=0,v._layoutTextCtx=null)})["catch"](function(){})}function S(a){var c=new A({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return c._render(a.timeout),c}var w=1e5,k=/\S/;return A.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new c.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(a,c){for(var i=0,h=a.length;h>i;i++)this._textContentItemsStr.push(a[i].str),v(this,a[i],c)},_layoutText:function(a){var c=this._textDivProperties.get(a);if(!c.isWhitespace){var h="";if(0!==c.canvasWidth){var v=a.style,g=v.fontSize,y=v.fontFamily;(g!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(g," ").concat(y),this._layoutTextLastFontSize=g,this._layoutTextLastFontFamily=y);var b=this._layoutTextCtx.measureText(a.textContent),_=b.width;_>0&&(c.scale=c.canvasWidth/_,h="scaleX(".concat(c.scale,")"))}0!==c.angle&&(h="rotate(".concat(c.angle,"deg) ").concat(h)),h.length>0&&(this._enhanceTextSelection&&(c.originalTransform=h),a.style.transform=h),this._textDivProperties.set(a,c),this._container.appendChild(a)}},_render:function(a){var h=this,v=c.createPromiseCapability(),y=Object.create(null),b=document.createElement("canvas");if(b.mozOpaque=!0,this._layoutTextCtx=b.getContext("2d",{alpha:!1}),this._textContent){var _=this._textContent.items,A=this._textContent.styles;this._processItems(_,A),v.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var S=function w(){h._reader.read().then(function(a){var c=a.value,g=a.done;return g?void v.resolve():(Object.assign(y,c.styles),h._processItems(c.items,y),void w())},v.reject)};this._reader=this._textContentStream.getReader(),S()}v.promise.then(function(){y=null,a?h._renderTimer=setTimeout(function(){g(h),h._renderTimer=null},a):g(h)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(y(this),this._bounds=null);for(var c="0 0 0 0",h=[],v=[],i=0,g=this._textDivs.length;g>i;i++){var b=this._textDivs[i],_=this._textDivProperties.get(b);if(!_.isWhitespace)if(a){h.length=0,v.length=0,_.originalTransform&&h.push(_.originalTransform),_.paddingTop>0?(v.push("".concat(_.paddingTop,"px")),h.push("translateY(".concat(-_.paddingTop,"px)"))):v.push(0),v.push(_.paddingRight>0?"".concat(_.paddingRight/_.scale,"px"):0),v.push(_.paddingBottom>0?"".concat(_.paddingBottom,"px"):0),_.paddingLeft>0?(v.push("".concat(_.paddingLeft/_.scale,"px")),h.push("translateX(".concat(-_.paddingLeft/_.scale,"px)"))):v.push(0);var A=v.join(" ");A!==c&&(b.style.padding=A),h.length&&(b.style.transform=h.join(" "))}else b.style.padding=null,b.style.transform=_.originalTransform}}}},S}();exports.renderTextLayer=v},function(module,exports,a){"use strict";function c(a,v,g){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,c,v){var g=h(a,c);if(g){var y=Object.getOwnPropertyDescriptor(g,c);return y.get?y.get.call(v):y.value}})(a,v,g||a)}function h(a,c){for(;!Object.prototype.hasOwnProperty.call(a,c)&&(a=b(a),null!==a););return a}function v(a){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a,c){return!c||"object"!==v(c)&&"function"!=typeof c?y(a):c}function y(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function b(o){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&A(a,c)}function A(o,p){return(A=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function S(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function w(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function k(a,c,h){return c&&w(a.prototype,c),h&&w(a,h),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationLayer=void 0;var C=a(185),R=a(1),P=function(){function a(){S(this,a)}return k(a,null,[{key:"create",value:function(a){var c=a.data.annotationType;switch(c){case R.AnnotationType.LINK:return new T(a);case R.AnnotationType.TEXT:return new O(a);case R.AnnotationType.WIDGET:var h=a.data.fieldType;switch(h){case"Tx":return new F(a);case"Btn":return a.data.radioButton?new M(a):a.data.checkBox?new I(a):new N(a);case"Ch":return new j(a)}return new L(a);case R.AnnotationType.POPUP:return new D(a);case R.AnnotationType.FREETEXT:return new W(a);case R.AnnotationType.LINE:return new B(a);case R.AnnotationType.SQUARE:return new G(a);case R.AnnotationType.CIRCLE:return new z(a);case R.AnnotationType.POLYLINE:return new H(a);case R.AnnotationType.CARET:return new Y(a);case R.AnnotationType.INK:return new V(a);case R.AnnotationType.POLYGON:return new X(a);case R.AnnotationType.HIGHLIGHT:return new Q(a);case R.AnnotationType.UNDERLINE:return new K(a);case R.AnnotationType.SQUIGGLY:return new J(a);case R.AnnotationType.STRIKEOUT:return new Z(a);case R.AnnotationType.STAMP:return new $(a);case R.AnnotationType.FILEATTACHMENT:return new et(a);default:return new E(a)}}}]),a}(),E=function(){function a(c){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;S(this,a),this.isRenderable=h,this.data=c.data,this.layer=c.layer,this.page=c.page,this.viewport=c.viewport,this.linkService=c.linkService,this.downloadManager=c.downloadManager,this.imageResourcesPath=c.imageResourcesPath,this.renderInteractiveForms=c.renderInteractiveForms,this.svgFactory=c.svgFactory,h&&(this.container=this._createContainer(v))}return k(a,[{key:"_createContainer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,c=this.data,h=this.page,v=this.viewport,g=document.createElement("section"),y=c.rect[2]-c.rect[0],b=c.rect[3]-c.rect[1];g.setAttribute("data-annotation-id",c.id);var _=R.Util.normalizeRect([c.rect[0],h.view[3]-c.rect[1]+h.view[1],c.rect[2],h.view[3]-c.rect[3]+h.view[1]]);if(g.style.transform="matrix(".concat(v.transform.join(","),")"),g.style.transformOrigin="-".concat(_[0],"px -").concat(_[1],"px"),!a&&c.borderStyle.width>0){g.style.borderWidth="".concat(c.borderStyle.width,"px"),c.borderStyle.style!==R.AnnotationBorderStyleType.UNDERLINE&&(y-=2*c.borderStyle.width,b-=2*c.borderStyle.width);var A=c.borderStyle.horizontalCornerRadius,S=c.borderStyle.verticalCornerRadius;if(A>0||S>0){var w="".concat(A,"px / ").concat(S,"px");g.style.borderRadius=w}switch(c.borderStyle.style){case R.AnnotationBorderStyleType.SOLID:g.style.borderStyle="solid";break;case R.AnnotationBorderStyleType.DASHED:g.style.borderStyle="dashed";break;case R.AnnotationBorderStyleType.BEVELED:R.warn("Unimplemented border style: beveled");break;case R.AnnotationBorderStyleType.INSET:R.warn("Unimplemented border style: inset");break;case R.AnnotationBorderStyleType.UNDERLINE:g.style.borderBottomStyle="solid"}c.color?g.style.borderColor=R.Util.makeCssRgb(0|c.color[0],0|c.color[1],0|c.color[2]):g.style.borderWidth=0}return g.style.left="".concat(_[0],"px"),g.style.top="".concat(_[1],"px"),g.style.width="".concat(y,"px"),g.style.height="".concat(b,"px"),g}},{key:"_createPopup",value:function(a,c,h){c||(c=document.createElement("div"),c.style.height=a.style.height,c.style.width=a.style.width,a.appendChild(c));var v=new U({container:a,trigger:c,color:h.color,title:h.title,modificationDate:h.modificationDate,contents:h.contents,hideWrapper:!0}),g=v.render();g.style.left=a.style.width,a.appendChild(g)}},{key:"render",value:function(){R.unreachable("Abstract method `AnnotationElement.render` called")}}]),a}(),T=function(a){function c(a){S(this,c);var h=!!(a.data.url||a.data.dest||a.data.action);return g(this,b(c).call(this,a,h))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=this.data,c=this.linkService,h=document.createElement("a");return a.url?C.addLinkAttributes(h,{url:a.url,target:a.newWindow?C.LinkTarget.BLANK:c.externalLinkTarget,rel:c.externalLinkRel,enabled:c.externalLinkEnabled}):a.action?this._bindNamedAction(h,a.action):this._bindLink(h,a.dest),this.container.appendChild(h),this.container}},{key:"_bindLink",value:function(a,c){var h=this;a.href=this.linkService.getDestinationHash(c),a.onclick=function(){return c&&h.linkService.navigateTo(c),!1},c&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,c){var h=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return h.linkService.executeNamedAction(c),!1},a.className="internalLink"}}]),c}(E),O=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}}]),c}(E),L=function(a){function c(){return S(this,c),g(this,b(c).apply(this,arguments))}return _(c,a),k(c,[{key:"render",value:function(){return this.container}}]),c}(E),F=function(a){function c(a){S(this,c);var h=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return g(this,b(c).call(this,a,h))}return _(c,a),k(c,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var c=null;if(this.renderInteractiveForms){if(this.data.multiLine?(c=document.createElement("textarea"),c.textContent=this.data.fieldValue):(c=document.createElement("input"),c.type="text",c.setAttribute("value",this.data.fieldValue)),c.disabled=this.data.readOnly,null!==this.data.maxLen&&(c.maxLength=this.data.maxLen),this.data.comb){var h=this.data.rect[2]-this.data.rect[0],v=h/this.data.maxLen;c.classList.add("comb"),c.style.letterSpacing="calc(".concat(v,"px - 1ch)")}}else{c=document.createElement("div"),c.textContent=this.data.fieldValue,c.style.verticalAlign="middle",c.style.display="table-cell";var g=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(g=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(c,g)}return null!==this.data.textAlignment&&(c.style.textAlign=a[this.data.textAlignment]),this.container.appendChild(c),this.container}},{key:"_setTextStyle",value:function(a,c){var h=a.style;if(h.fontSize="".concat(this.data.fontSize,"px"),h.direction=this.data.fontDirection<0?"rtl":"ltr",c){h.fontWeight=c.black?c.bold?"900":"bold":c.bold?"bold":"normal",h.fontStyle=c.italic?"italic":"normal";var v=c.loadedName?'"'.concat(c.loadedName,'", '):"",g=c.fallbackName||"Helvetica, sans-serif";h.fontFamily=v+g}}}]),c}(L),I=function(a){function c(a){return S(this,c),g(this,b(c).call(this,a,a.renderInteractiveForms))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),c}(L),M=function(a){function c(a){return S(this,c),g(this,b(c).call(this,a,a.renderInteractiveForms))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="radio",a.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),c}(L),N=function(a){function h(){return S(this,h),g(this,b(h).apply(this,arguments))}return _(h,a),k(h,[{key:"render",value:function(){var a=c(b(h.prototype),"render",this).call(this);return a.className="buttonWidgetAnnotation pushButton",a}}]),h}(T),j=function(a){function c(a){return S(this,c),g(this,b(c).call(this,a,a.renderInteractiveForms))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly,this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));var c=!0,h=!1,v=void 0;try{for(var g,y=this.data.options[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var b=g.value,_=document.createElement("option");_.textContent=b.displayValue,_.value=b.exportValue,this.data.fieldValue.includes(b.displayValue)&&_.setAttribute("selected",!0),a.appendChild(_)}}catch(A){h=!0,v=A}finally{try{c||null==y["return"]||y["return"]()}finally{if(h)throw v}}return this.container.appendChild(a),this.container}}]),c}(L),D=function(a){function c(a){S(this,c);var h=!(!a.data.title&&!a.data.contents);return g(this,b(c).call(this,a,h))}return _(c,a),k(c,[{key:"render",value:function(){var a=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",a.includes(this.data.parentType))return this.container;var c='[data-annotation-id="'.concat(this.data.parentId,'"]'),h=this.layer.querySelector(c);if(!h)return this.container;var v=new U({container:this.container,trigger:h,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),g=parseFloat(h.style.left),y=parseFloat(h.style.width);return this.container.style.transformOrigin="-".concat(g+y,"px -").concat(h.style.top),this.container.style.left="".concat(g+y,"px"),this.container.appendChild(v.render()),this.container}}]),c}(E),U=function(){function a(c){S(this,a),this.container=c.container,this.trigger=c.trigger,this.color=c.color,this.title=c.title,this.modificationDate=c.modificationDate,this.contents=c.contents,this.hideWrapper=c.hideWrapper||!1,this.pinned=!1}return k(a,[{key:"render",value:function(){var a=.7,c=document.createElement("div");c.className="popupWrapper",this.hideElement=this.hideWrapper?c:this.container,this.hideElement.setAttribute("hidden",!0);var h=document.createElement("div");h.className="popup";var v=this.color;if(v){var r=a*(255-v[0])+v[0],g=a*(255-v[1])+v[1],y=a*(255-v[2])+v[2];h.style.backgroundColor=R.Util.makeCssRgb(0|r,0|g,0|y)}var b=document.createElement("h1");b.textContent=this.title,h.appendChild(b);var _=C.PDFDateString.toDateObject(this.modificationDate);if(_){var A=document.createElement("span");A.textContent="{{date}}, {{time}}",A.dataset.l10nId="annotation_date_string",A.dataset.l10nArgs=JSON.stringify({date:_.toLocaleDateString(),time:_.toLocaleTimeString()}),h.appendChild(A)}var S=this._formatContents(this.contents);return h.appendChild(S),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),h.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(h),c}},{key:"_formatContents",value:function(a){for(var p=document.createElement("p"),c=a.split(/(?:\r\n?|\n)/),i=0,h=c.length;h>i;++i){var v=c[i];p.appendChild(document.createTextNode(v)),h-1>i&&p.appendChild(document.createElement("br"))}return p}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;a&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;a&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),a}(),W=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),B=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],h=a.rect[3]-a.rect[1],v=this.svgFactory.create(c,h),g=this.svgFactory.createElement("svg:line");return g.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),g.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),g.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),g.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),g.setAttribute("stroke-width",a.borderStyle.width||1),g.setAttribute("stroke","transparent"),v.appendChild(g),this.container.append(v),this._createPopup(this.container,g,a),this.container}}]),c}(E),G=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],h=a.rect[3]-a.rect[1],v=this.svgFactory.create(c,h),g=a.borderStyle.width,y=this.svgFactory.createElement("svg:rect");return y.setAttribute("x",g/2),y.setAttribute("y",g/2),y.setAttribute("width",c-g),y.setAttribute("height",h-g),y.setAttribute("stroke-width",g||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","none"),v.appendChild(y),this.container.append(v),this._createPopup(this.container,y,a),this.container}}]),c}(E),z=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,c=a.rect[2]-a.rect[0],h=a.rect[3]-a.rect[1],v=this.svgFactory.create(c,h),g=a.borderStyle.width,y=this.svgFactory.createElement("svg:ellipse");return y.setAttribute("cx",c/2),y.setAttribute("cy",h/2),y.setAttribute("rx",c/2-g/2),y.setAttribute("ry",h/2-g/2),y.setAttribute("stroke-width",g||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","none"),v.appendChild(y),this.container.append(v),this._createPopup(this.container,y,a),this.container}}]),c}(E),H=function(a){function c(a){var h;S(this,c);var v=!!(a.data.hasPopup||a.data.title||a.data.contents);return h=g(this,b(c).call(this,a,v,!0)),h.containerClassName="polylineAnnotation",h.svgElementName="svg:polyline",h}return _(c,a),k(c,[{key:"render",value:function(){this.container.className=this.containerClassName;var a=this.data,c=a.rect[2]-a.rect[0],h=a.rect[3]-a.rect[1],v=this.svgFactory.create(c,h),g=[],y=!0,b=!1,_=void 0;try{for(var A,S=a.vertices[Symbol.iterator]();!(y=(A=S.next()).done);y=!0){var w=A.value,x=w.x-a.rect[0],k=a.rect[3]-w.y;
g.push(x+","+k)}}catch(C){b=!0,_=C}finally{try{y||null==S["return"]||S["return"]()}finally{if(b)throw _}}g=g.join(" ");var R=this.svgFactory.createElement(this.svgElementName);return R.setAttribute("points",g),R.setAttribute("stroke-width",a.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","none"),v.appendChild(R),this.container.append(v),this._createPopup(this.container,R,a),this.container}}]),c}(E),X=function(a){function c(a){var h;return S(this,c),h=g(this,b(c).call(this,a)),h.containerClassName="polygonAnnotation",h.svgElementName="svg:polygon",h}return _(c,a),c}(H),Y=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),V=function(a){function c(a){var h;S(this,c);var v=!!(a.data.hasPopup||a.data.title||a.data.contents);return h=g(this,b(c).call(this,a,v,!0)),h.containerClassName="inkAnnotation",h.svgElementName="svg:polyline",h}return _(c,a),k(c,[{key:"render",value:function(){this.container.className=this.containerClassName;var a=this.data,c=a.rect[2]-a.rect[0],h=a.rect[3]-a.rect[1],v=this.svgFactory.create(c,h),g=!0,y=!1,b=void 0;try{for(var _,A=a.inkLists[Symbol.iterator]();!(g=(_=A.next()).done);g=!0){var S=_.value,w=[],k=!0,C=!1,R=void 0;try{for(var P,E=S[Symbol.iterator]();!(k=(P=E.next()).done);k=!0){var T=P.value,x=T.x-a.rect[0],O=a.rect[3]-T.y;w.push("".concat(x,",").concat(O))}}catch(L){C=!0,R=L}finally{try{k||null==E["return"]||E["return"]()}finally{if(C)throw R}}w=w.join(" ");var F=this.svgFactory.createElement(this.svgElementName);F.setAttribute("points",w),F.setAttribute("stroke-width",a.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","none"),this._createPopup(this.container,F,a),v.appendChild(F)}}catch(L){y=!0,b=L}finally{try{g||null==A["return"]||A["return"]()}finally{if(y)throw b}}return this.container.append(v),this.container}}]),c}(E),Q=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),K=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),J=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),Z=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),$=function(a){function c(a){S(this,c);var h=!!(a.data.hasPopup||a.data.title||a.data.contents);return g(this,b(c).call(this,a,h,!0))}return _(c,a),k(c,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),c}(E),et=function(a){function c(a){var h;S(this,c),h=g(this,b(c).call(this,a,!0));var v=h.data.file,_=v.filename,A=v.content;return h.filename=C.getFilenameFromUrl(_),h.content=A,h.linkService.eventBus&&h.linkService.eventBus.dispatch("fileattachmentannotation",{source:y(h),id:R.stringToPDFString(_),filename:_,content:A}),h}return _(c,a),k(c,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}},{key:"_download",value:function(){return this.downloadManager?void this.downloadManager.downloadData(this.content,this.filename,""):void R.warn("Download cannot be started due to unavailable download manager")}}]),c}(E),tt=function(){function a(){S(this,a)}return k(a,null,[{key:"render",value:function(a){var c=!0,h=!1,v=void 0;try{for(var g,y=a.annotations[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var b=g.value;if(b){var _=P.create({data:b,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new C.DOMSVGFactory});_.isRenderable&&a.div.appendChild(_.render())}}}catch(A){h=!0,v=A}finally{try{c||null==y["return"]||y["return"]()}finally{if(h)throw v}}}},{key:"update",value:function(a){var c=!0,h=!1,v=void 0;try{for(var g,y=a.annotations[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var b=g.value,_=a.div.querySelector('[data-annotation-id="'.concat(b.id,'"]'));_&&(_.style.transform="matrix(".concat(a.viewport.transform.join(","),")"))}}catch(A){h=!0,v=A}finally{try{c||null==y["return"]||y["return"]()}finally{if(h)throw v}}a.div.removeAttribute("hidden")}}]),a}();exports.AnnotationLayer=tt},function(module,exports,a){"use strict";function c(a){return g(a)||v(a)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function g(a){if(Array.isArray(a)){for(var i=0,c=new Array(a.length);i<a.length;i++)c[i]=a[i];return c}}function y(a,i){return A(a)||_(a,i)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _(a,i){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],h=!0,v=!1,g=void 0;try{for(var y,b=a[Symbol.iterator]();!(h=(y=b.next()).done)&&(c.push(y.value),!i||c.length!==i);h=!0);}catch(_){v=!0,g=_}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}return c}}function A(a){return Array.isArray(a)?a:void 0}function S(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function w(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function k(a,c,h){return c&&w(a.prototype,c),h&&w(a,h),a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGGraphics=void 0;var C=a(1),R=a(185),P=a(4),E=function(){throw new Error("Not implemented: SVGGraphics")};exports.SVGGraphics=E;var T=function(a){var c=[],h=[],v=!0,g=!1,y=void 0;try{for(var b,_=a[Symbol.iterator]();!(v=(b=_.next()).done);v=!0){var A=b.value;"save"!==A.fn?"restore"===A.fn?c=h.pop():c.push(A):(c.push({fnId:92,fn:"group",items:[]}),h.push(c),c=c[c.length-1].items)}}catch(S){g=!0,y=S}finally{try{v||null==_["return"]||_["return"]()}finally{if(g)throw y}}return c},O=function(a){if(Number.isInteger(a))return a.toString();var s=a.toFixed(10),i=s.length-1;if("0"!==s[i])return s;do i--;while("0"===s[i]);return s.substring(0,"."===s[i]?i:i+1)},L=function(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":"scale(".concat(O(m[0])," ").concat(O(m[3]),")");if(m[0]===m[3]&&m[1]===-m[2]){var a=180*Math.acos(m[0])/Math.PI;return"rotate(".concat(O(a),")")}}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return"translate(".concat(O(m[4])," ").concat(O(m[5]),")");return"matrix(".concat(O(m[0])," ").concat(O(m[1])," ").concat(O(m[2])," ").concat(O(m[3])," ").concat(O(m[4])," ")+"".concat(O(m[5]),")")},F={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},I="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/1999/xlink",N=["butt","round","square"],j=["miter","round","bevel"],D=function(){function a(a,c,h){for(var v=-1,g=c;h>g;g++){var y=255&(v^a[g]),b=A[y];v=v>>>8^b}return-1^v}function c(c,h,v,g){var p=g,y=h.length;v[p]=y>>24&255,v[p+1]=y>>16&255,v[p+2]=y>>8&255,v[p+3]=255&y,p+=4,v[p]=255&c.charCodeAt(0),v[p+1]=255&c.charCodeAt(1),v[p+2]=255&c.charCodeAt(2),v[p+3]=255&c.charCodeAt(3),p+=4,v.set(h,p),p+=h.length;var b=a(v,g+4,p);v[p]=b>>24&255,v[p+1]=b>>16&255,v[p+2]=b>>8&255,v[p+3]=255&b}function h(a,c,h){for(var v=1,g=0,y=c;h>y;++y)v=(v+(255&a[y]))%65521,g=(g+v)%65521;return g<<16|v}function v(a){if(!P.isNodeJS)return g(a);try{var c;c=parseInt(process.versions.node)>=8?a:new Buffer(a);var h=require("zlib").deflateSync(c,{level:9});return h instanceof Uint8Array?h:new Uint8Array(h)}catch(e){C.warn("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return g(a)}function g(a){var c=a.length,v=65535,g=Math.ceil(c/v),y=new Uint8Array(2+c+5*g+4),b=0;y[b++]=120,y[b++]=156;for(var _=0;c>v;)y[b++]=0,y[b++]=255,y[b++]=255,y[b++]=0,y[b++]=0,y.set(a.subarray(_,_+v),b),b+=v,_+=v,c-=v;y[b++]=1,y[b++]=255&c,y[b++]=c>>8&255,y[b++]=65535&~c&255,y[b++]=(65535&~c)>>8&255,y.set(a.subarray(_),b),b+=a.length-_;var A=h(a,0,a.length);return y[b++]=A>>24&255,y[b++]=A>>16&255,y[b++]=A>>8&255,y[b++]=255&A,y}function y(a,h,g,y){var A,S,w,k=a.width,R=a.height,P=a.data;switch(h){case C.ImageKind.GRAYSCALE_1BPP:S=0,A=1,w=k+7>>3;break;case C.ImageKind.RGB_24BPP:S=2,A=8,w=3*k;break;case C.ImageKind.RGBA_32BPP:S=6,A=8,w=4*k;break;default:throw new Error("invalid format")}for(var E=new Uint8Array((1+w)*R),T=0,O=0,L=0;R>L;++L)E[T++]=0,E.set(P.subarray(O,O+w),T),O+=w,T+=w;if(h===C.ImageKind.GRAYSCALE_1BPP&&y){T=0;for(var F=0;R>F;F++){T++;for(var I=0;w>I;I++)E[T++]^=255}}var M=new Uint8Array([k>>24&255,k>>16&255,k>>8&255,255&k,R>>24&255,R>>16&255,R>>8&255,255&R,A,S,0,0,0]),N=v(E),j=b.length+3*_+M.length+N.length,D=new Uint8Array(j),U=0;return D.set(b,U),U+=b.length,c("IHDR",M,D,U),U+=_+M.length,c("IDATA",N,D,U),U+=_+N.length,c("IEND",new Uint8Array(0),D,U),C.createObjectURL(D,"image/png",g)}for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,A=new Int32Array(256),i=0;256>i;i++){for(var S=i,w=0;8>w;w++)S=1&S?3988292384^S>>1&2147483647:S>>1&2147483647;A[i]=S}return function(a,c,h){var v=void 0===a.kind?C.ImageKind.GRAYSCALE_1BPP:a.kind;return y(a,v,c,h)}}(),U=function(){function a(){S(this,a),this.fontSizeScale=1,this.fontWeight=F.fontWeight,this.fontSize=0,this.textMatrix=C.IDENTITY_MATRIX,this.fontMatrix=C.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=C.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=F.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return k(a,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(x,a){this.x=x,this.y=a}}]),a}(),W=0,B=0,G=0;exports.SVGGraphics=E=function(){function a(c,h,v){S(this,a),this.svgFactory=new R.DOMSVGFactory,this.current=new U,this.transformMatrix=C.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=c,this.objs=h,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!v,this._operatorIdMapping=[];for(var g in C.OPS)this._operatorIdMapping[C.OPS[g]]=g}return k(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(a){this.save(),this.executeOpTree(a),this.restore()}},{key:"loadDependencies",value:function(a){for(var c=this,h=a.fnArray,v=a.argsArray,i=0,g=h.length;g>i;i++)if(h[i]===C.OPS.dependency){var y=!0,b=!1,_=void 0;try{for(var A,S=function(){var a=A.value,h=a.startsWith("g_")?c.commonObjs:c.objs,v=new Promise(function(c){h.get(a,c)});c.current.dependencies.push(v)},w=v[i][Symbol.iterator]();!(y=(A=w.next()).done);y=!0)S()}catch(k){b=!0,_=k}finally{try{y||null==w["return"]||w["return"]()}finally{if(b)throw _}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(a,c,h,d,e,f){var v=[a,c,h,d,e,f];this.transformMatrix=C.Util.transform(this.transformMatrix,v),this.tgrp=null}},{key:"getSVG",value:function(a,c){var h=this;this.viewport=c;var v=this._initialize(c);return this.loadDependencies(a).then(function(){return h.transformMatrix=C.IDENTITY_MATRIX,h.executeOpTree(h.convertOpList(a)),v})}},{key:"convertOpList",value:function(a){for(var c=this._operatorIdMapping,h=a.argsArray,v=a.fnArray,g=[],i=0,y=v.length;y>i;i++){var b=v[i];g.push({fnId:b,fn:c[b],args:h[i]})}return T(g)}},{key:"executeOpTree",value:function(a){var c=!0,h=!1,v=void 0;try{for(var g,y=a[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var b=g.value,_=b.fn,A=b.fnId,S=b.args;switch(0|A){case C.OPS.beginText:this.beginText();break;case C.OPS.dependency:break;case C.OPS.setLeading:this.setLeading(S);break;case C.OPS.setLeadingMoveText:this.setLeadingMoveText(S[0],S[1]);break;case C.OPS.setFont:this.setFont(S);break;case C.OPS.showText:this.showText(S[0]);break;case C.OPS.showSpacedText:this.showText(S[0]);break;case C.OPS.endText:this.endText();break;case C.OPS.moveText:this.moveText(S[0],S[1]);break;case C.OPS.setCharSpacing:this.setCharSpacing(S[0]);break;case C.OPS.setWordSpacing:this.setWordSpacing(S[0]);break;case C.OPS.setHScale:this.setHScale(S[0]);break;case C.OPS.setTextMatrix:this.setTextMatrix(S[0],S[1],S[2],S[3],S[4],S[5]);break;case C.OPS.setTextRise:this.setTextRise(S[0]);break;case C.OPS.setTextRenderingMode:this.setTextRenderingMode(S[0]);break;case C.OPS.setLineWidth:this.setLineWidth(S[0]);break;case C.OPS.setLineJoin:this.setLineJoin(S[0]);break;case C.OPS.setLineCap:this.setLineCap(S[0]);break;case C.OPS.setMiterLimit:this.setMiterLimit(S[0]);break;case C.OPS.setFillRGBColor:this.setFillRGBColor(S[0],S[1],S[2]);break;case C.OPS.setStrokeRGBColor:this.setStrokeRGBColor(S[0],S[1],S[2]);break;case C.OPS.setStrokeColorN:this.setStrokeColorN(S);break;case C.OPS.setFillColorN:this.setFillColorN(S);break;case C.OPS.shadingFill:this.shadingFill(S[0]);break;case C.OPS.setDash:this.setDash(S[0],S[1]);break;case C.OPS.setRenderingIntent:this.setRenderingIntent(S[0]);break;case C.OPS.setFlatness:this.setFlatness(S[0]);break;case C.OPS.setGState:this.setGState(S[0]);break;case C.OPS.fill:this.fill();break;case C.OPS.eoFill:this.eoFill();break;case C.OPS.stroke:this.stroke();break;case C.OPS.fillStroke:this.fillStroke();break;case C.OPS.eoFillStroke:this.eoFillStroke();break;case C.OPS.clip:this.clip("nonzero");break;case C.OPS.eoClip:this.clip("evenodd");break;case C.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case C.OPS.paintJpegXObject:this.paintJpegXObject(S[0],S[1],S[2]);break;case C.OPS.paintImageXObject:this.paintImageXObject(S[0]);break;case C.OPS.paintInlineImageXObject:this.paintInlineImageXObject(S[0]);break;case C.OPS.paintImageMaskXObject:this.paintImageMaskXObject(S[0]);break;case C.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(S[0],S[1]);break;case C.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case C.OPS.closePath:this.closePath();break;case C.OPS.closeStroke:this.closeStroke();break;case C.OPS.closeFillStroke:this.closeFillStroke();break;case C.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case C.OPS.nextLine:this.nextLine();break;case C.OPS.transform:this.transform(S[0],S[1],S[2],S[3],S[4],S[5]);break;case C.OPS.constructPath:this.constructPath(S[0],S[1]);break;case C.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:C.warn("Unimplemented operator ".concat(_))}}}catch(w){h=!0,v=w}finally{try{c||null==y["return"]||y["return"]()}finally{if(h)throw v}}}},{key:"setWordSpacing",value:function(a){this.current.wordSpacing=a}},{key:"setCharSpacing",value:function(a){this.current.charSpacing=a}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(a,c,h,d,e,f){var v=this.current;v.textMatrix=v.lineMatrix=[a,c,h,d,e,f],v.textMatrixScale=Math.sqrt(a*a+c*c),v.x=v.lineX=0,v.y=v.lineY=0,v.xcoords=[],v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size","".concat(O(v.fontSize),"px")),v.tspan.setAttributeNS(null,"y",O(-v.y)),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtElement.appendChild(v.tspan)}},{key:"beginText",value:function(){var a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=C.IDENTITY_MATRIX,a.lineMatrix=C.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[]}},{key:"moveText",value:function(x,a){var c=this.current;c.x=c.lineX+=x,c.y=c.lineY+=a,c.xcoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size","".concat(O(c.fontSize),"px")),c.tspan.setAttributeNS(null,"y",O(-c.y))}},{key:"showText",value:function(a){var c=this.current,h=c.font,v=c.fontSize;if(0!==v){var g=c.charSpacing,y=c.wordSpacing,b=c.fontDirection,_=c.textHScale*b,A=h.vertical,S=v*c.fontMatrix[0],x=0,w=!0,k=!1,R=void 0;try{for(var P,E=a[Symbol.iterator]();!(w=(P=E.next()).done);w=!0){var T=P.value;if(null!==T)if(C.isNum(T))x+=-T*v*.001;else{var M=T.width,N=T.fontChar,j=(T.isSpace?y:0)+g,D=M*S+j*b;T.isInFont||h.missingFile?(c.xcoords.push(c.x+x*_),c.tspan.textContent+=N,x+=D):x+=D}else x+=b*y}}catch(U){k=!0,R=U}finally{try{w||null==E["return"]||E["return"]()}finally{if(k)throw R}}A?c.y-=x*_:c.x+=x*_,c.tspan.setAttributeNS(null,"x",c.xcoords.map(O).join(" ")),c.tspan.setAttributeNS(null,"y",O(-c.y)),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size","".concat(O(c.fontSize),"px")),c.fontStyle!==F.fontStyle&&c.tspan.setAttributeNS(null,"font-style",c.fontStyle),c.fontWeight!==F.fontWeight&&c.tspan.setAttributeNS(null,"font-weight",c.fontWeight);var W=c.textRenderingMode&C.TextRenderingMode.FILL_STROKE_MASK;if(W===C.TextRenderingMode.FILL||W===C.TextRenderingMode.FILL_STROKE?(c.fillColor!==F.fillColor&&c.tspan.setAttributeNS(null,"fill",c.fillColor),c.fillAlpha<1&&c.tspan.setAttributeNS(null,"fill-opacity",c.fillAlpha)):c.textRenderingMode===C.TextRenderingMode.ADD_TO_PATH?c.tspan.setAttributeNS(null,"fill","transparent"):c.tspan.setAttributeNS(null,"fill","none"),W===C.TextRenderingMode.STROKE||W===C.TextRenderingMode.FILL_STROKE){var B=1/(c.textMatrixScale||1);this._setStrokeAttributes(c.tspan,B)}var G=c.textMatrix;0!==c.textRise&&(G=G.slice(),G[5]+=c.textRise),c.txtElement.setAttributeNS(null,"transform","".concat(L(G)," scale(1, -1)")),c.txtElement.setAttributeNS(I,"xml:space","preserve"),c.txtElement.appendChild(c.tspan),c.txtgrp.appendChild(c.txtElement),this._ensureTransformGroup().appendChild(c.txtElement)}}},{key:"setLeadingMoveText",value:function(x,a){this.setLeading(-a),this.moveText(x,a)}},{key:"addFontStyle",value:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var c=C.createObjectURL(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(a.loadedName,'";')+" src: url(".concat(c,"); }\n")}},{key:"setFont",value:function(a){var c=this.current,h=this.commonObjs.get(a[0]),v=a[1];c.font=h,this.embedFonts&&h.data&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),c.fontMatrix=h.fontMatrix?h.fontMatrix:C.FONT_IDENTITY_MATRIX;var g=h.black?h.bold?"bolder":"bold":h.bold?"bold":"normal",y=h.italic?"italic":"normal";0>v?(v=-v,c.fontDirection=-1):c.fontDirection=1,c.fontSize=v,c.fontFamily=h.loadedName,c.fontWeight=g,c.fontStyle=y,c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"y",O(-c.y)),c.xcoords=[]}},{key:"endText",value:function(){var a=this.current;a.textRenderingMode&C.TextRenderingMode.ADD_TO_PATH_FLAG&&a.txtElement&&a.txtElement.hasChildNodes()&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(a){a>0&&(this.current.lineWidth=a)}},{key:"setLineCap",value:function(a){this.current.lineCap=N[a]}},{key:"setLineJoin",value:function(a){this.current.lineJoin=j[a]}},{key:"setMiterLimit",value:function(a){this.current.miterLimit=a}},{key:"setStrokeAlpha",value:function(a){this.current.strokeAlpha=a}},{key:"setStrokeRGBColor",value:function(r,a,c){this.current.strokeColor=C.Util.makeCssRgb(r,a,c)}},{key:"setFillAlpha",value:function(a){this.current.fillAlpha=a}},{key:"setFillRGBColor",value:function(r,a,c){this.current.fillColor=C.Util.makeCssRgb(r,a,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(a){this.current.strokeColor=this._makeColorN_Pattern(a)}},{key:"setFillColorN",value:function(a){this.current.fillColor=this._makeColorN_Pattern(a)}},{key:"shadingFill",value:function(a){var c=this.viewport.width,h=this.viewport.height,v=C.Util.inverseTransform(this.transformMatrix),g=C.Util.applyTransform([0,0],v),y=C.Util.applyTransform([0,h],v),ul=C.Util.applyTransform([c,0],v),b=C.Util.applyTransform([c,h],v),_=Math.min(g[0],y[0],ul[0],b[0]),A=Math.min(g[1],y[1],ul[1],b[1]),S=Math.max(g[0],y[0],ul[0],b[0]),w=Math.max(g[1],y[1],ul[1],b[1]),k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x",_),k.setAttributeNS(null,"y",A),k.setAttributeNS(null,"width",S-_),k.setAttributeNS(null,"height",w-A),k.setAttributeNS(null,"fill",this._makeShadingPattern(a)),this._ensureTransformGroup().appendChild(k)}},{key:"_makeColorN_Pattern",value:function(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}},{key:"_makeTilingPattern",value:function(a){var h=a[1],v=a[2],g=a[3]||C.IDENTITY_MATRIX,b=y(a[4],4),_=b[0],A=b[1],S=b[2],w=b[3],k=a[5],R=a[6],P=a[7],E="shading".concat(G++),T=C.Util.applyTransform([_,A],g),O=y(T,2),L=O[0],F=O[1],I=C.Util.applyTransform([S,w],g),M=y(I,2),N=M[0],j=M[1],D=C.Util.singularValueDecompose2dScale(g),U=y(D,2),W=U[0],B=U[1],z=k*W,H=R*B,X=this.svgFactory.createElement("svg:pattern");X.setAttributeNS(null,"id",E),X.setAttributeNS(null,"patternUnits","userSpaceOnUse"),X.setAttributeNS(null,"width",z),X.setAttributeNS(null,"height",H),X.setAttributeNS(null,"x","".concat(L)),X.setAttributeNS(null,"y","".concat(F));var Y=this.svg,V=this.transformMatrix,Q=this.current.fillColor,K=this.current.strokeColor,J=this.svgFactory.create(N-L,j-F);if(this.svg=J,this.transformMatrix=g,2===P){var Z=C.Util.makeCssRgb.apply(C.Util,c(h));this.current.fillColor=Z,this.current.strokeColor=Z}return this.executeOpTree(this.convertOpList(v)),this.svg=Y,this.transformMatrix=V,this.current.fillColor=Q,this.current.strokeColor=K,X.appendChild(J.childNodes[0]),this.defs.appendChild(X),"url(#".concat(E,")")}},{key:"_makeShadingPattern",value:function(a){switch(a[0]){case"RadialAxial":var c,h="shading".concat(G++),v=a[2];switch(a[1]){case"axial":var g=a[3],y=a[4];c=this.svgFactory.createElement("svg:linearGradient"),c.setAttributeNS(null,"id",h),c.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),c.setAttributeNS(null,"x1",g[0]),c.setAttributeNS(null,"y1",g[1]),c.setAttributeNS(null,"x2",y[0]),c.setAttributeNS(null,"y2",y[1]);break;case"radial":var b=a[3],_=a[4],A=a[5],S=a[6];c=this.svgFactory.createElement("svg:radialGradient"),c.setAttributeNS(null,"id",h),c.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),c.setAttributeNS(null,"cx",_[0]),c.setAttributeNS(null,"cy",_[1]),c.setAttributeNS(null,"r",S),c.setAttributeNS(null,"fx",b[0]),c.setAttributeNS(null,"fy",b[1]),c.setAttributeNS(null,"fr",A);break;default:throw new Error("Unknown RadialAxial type: ".concat(a[1]))}var w=!0,k=!1,R=void 0;try{for(var P,E=v[Symbol.iterator]();!(w=(P=E.next()).done);w=!0){var T=P.value,O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",T[0]),O.setAttributeNS(null,"stop-color",T[1]),c.appendChild(O)}}catch(L){k=!0,R=L}finally{try{w||null==E["return"]||E["return"]()}finally{if(k)throw R}}return this.defs.appendChild(c),"url(#".concat(h,")");case"Mesh":return C.warn("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(a[0]))}}},{key:"setDash",value:function(a,c){this.current.dashArray=a,this.current.dashPhase=c}},{key:"constructPath",value:function(a,c){var h=this.current,x=h.x,v=h.y,d=[],g=0,y=!0,b=!1,_=void 0;try{for(var A,S=a[Symbol.iterator]();!(y=(A=S.next()).done);y=!0){var w=A.value;switch(0|w){case C.OPS.rectangle:x=c[g++],v=c[g++];var k=c[g++],R=c[g++],P=x+k,E=v+R;d.push("M",O(x),O(v),"L",O(P),O(v),"L",O(P),O(E),"L",O(x),O(E),"Z");break;case C.OPS.moveTo:x=c[g++],v=c[g++],d.push("M",O(x),O(v));break;case C.OPS.lineTo:x=c[g++],v=c[g++],d.push("L",O(x),O(v));break;case C.OPS.curveTo:x=c[g+4],v=c[g+5],d.push("C",O(c[g]),O(c[g+1]),O(c[g+2]),O(c[g+3]),O(x),O(v)),g+=6;break;case C.OPS.curveTo2:x=c[g+2],v=c[g+3],d.push("C",O(x),O(v),O(c[g]),O(c[g+1]),O(c[g+2]),O(c[g+3])),g+=4;break;case C.OPS.curveTo3:x=c[g+2],v=c[g+3],d.push("C",O(c[g]),O(c[g+1]),O(x),O(v),O(x),O(v)),g+=4;break;case C.OPS.closePath:d.push("Z")}}}catch(T){b=!0,_=T}finally{try{y||null==S["return"]||S["return"]()}finally{if(b)throw _}}d=d.join(" "),h.path&&a.length>0&&a[0]!==C.OPS.rectangle&&a[0]!==C.OPS.moveTo?d=h.path.getAttributeNS(null,"d")+d:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(h.path)),h.path.setAttributeNS(null,"d",d),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(x,v)}},{key:"endPath",value:function(){var a=this.current;if(a.path=null,this.pendingClip){if(!a.element)return void(this.pendingClip=null);var c="clippath".concat(W++),h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",c),h.setAttributeNS(null,"transform",L(this.transformMatrix));var v=a.element.cloneNode(!0);"evenodd"===this.pendingClip?v.setAttributeNS(null,"clip-rule","evenodd"):v.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,h.appendChild(v),this.defs.appendChild(h),a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),h.setAttributeNS(null,"clip-path",a.activeClipUrl)),a.activeClipUrl="url(#".concat(c,")"),this.tgrp=null}}},{key:"clip",value:function(a){this.pendingClip=a}},{key:"closePath",value:function(){var a=this.current;if(a.path){var d="".concat(a.path.getAttributeNS(null,"d"),"Z");a.path.setAttributeNS(null,"d",d)}}},{key:"setLeading",value:function(a){this.current.leading=-a}},{key:"setTextRise",value:function(a){this.current.textRise=a}},{key:"setTextRenderingMode",value:function(a){this.current.textRenderingMode=a}},{key:"setHScale",value:function(a){this.current.textHScale=a/100}},{key:"setRenderingIntent",value:function(){}},{key:"setFlatness",value:function(){}},{key:"setGState",value:function(a){var c=!0,h=!1,v=void 0;try{for(var g,b=a[Symbol.iterator]();!(c=(g=b.next()).done);c=!0){var _=y(g.value,2),A=_[0],S=_[1];switch(A){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S);break;case"CA":this.setStrokeAlpha(S);break;case"ca":this.setFillAlpha(S);break;default:C.warn("Unimplemented graphic state operator ".concat(A))}}}catch(w){h=!0,v=w}finally{try{c||null==b["return"]||b["return"]()}finally{if(h)throw v}}}},{key:"fill",value:function(){var a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,h=this.current,v=h.dashArray;1!==c&&v.length>0&&(v=v.map(function(a){return c*a})),a.setAttributeNS(null,"stroke",h.strokeColor),a.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",O(h.miterLimit)),a.setAttributeNS(null,"stroke-linecap",h.lineCap),a.setAttributeNS(null,"stroke-linejoin",h.lineJoin),a.setAttributeNS(null,"stroke-width",O(c*h.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",v.map(O).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",O(c*h.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(a)}},{key:"paintJpegXObject",value:function(a,c,h){var v=this.objs.get(a),g=this.svgFactory.createElement("svg:image");g.setAttributeNS(M,"xlink:href",v.src),g.setAttributeNS(null,"width",O(c)),g.setAttributeNS(null,"height",O(h)),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",O(-h)),g.setAttributeNS(null,"transform","scale(".concat(O(1/c)," ").concat(O(-1/h),")")),this._ensureTransformGroup().appendChild(g)}},{key:"paintImageXObject",value:function(a){var c=this.objs.get(a);return c?void this.paintInlineImageXObject(c):void C.warn("Dependent image with object ID ".concat(a," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(a,c){var h=a.width,v=a.height,g=D(a,this.forceDataSchema,!!c),y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width",O(h)),y.setAttributeNS(null,"height",O(v)),this.current.element=y,this.clip("nonzero");var b=this.svgFactory.createElement("svg:image");b.setAttributeNS(M,"xlink:href",g),b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y",O(-v)),b.setAttributeNS(null,"width",O(h)+"px"),b.setAttributeNS(null,"height",O(v)+"px"),b.setAttributeNS(null,"transform","scale(".concat(O(1/h)," ").concat(O(-1/v),")")),c?c.appendChild(b):this._ensureTransformGroup().appendChild(b)}},{key:"paintImageMaskXObject",value:function(a){var c=this.current,h=a.width,v=a.height,g=c.fillColor;c.maskId="mask".concat(B++);var y=this.svgFactory.createElement("svg:mask");y.setAttributeNS(null,"id",c.maskId);var b=this.svgFactory.createElement("svg:rect");
b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",O(h)),b.setAttributeNS(null,"height",O(v)),b.setAttributeNS(null,"fill",g),b.setAttributeNS(null,"mask","url(#".concat(c.maskId,")")),this.defs.appendChild(y),this._ensureTransformGroup().appendChild(b),this.paintInlineImageXObject(a,y)}},{key:"paintFormXObjectBegin",value:function(a,c){if(Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),c){var h=c[2]-c[0],v=c[3]-c[1],g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x",c[0]),g.setAttributeNS(null,"y",c[1]),g.setAttributeNS(null,"width",O(h)),g.setAttributeNS(null,"height",O(v)),this.current.element=g,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(a){var c=this.svgFactory.create(a.width,a.height),h=this.svgFactory.createElement("svg:defs");c.appendChild(h),this.defs=h;var v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",L(a.transform)),c.appendChild(v),this.svg=v,c}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),a}()},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(a,c){return!c||"object"!==h(c)&&"function"!=typeof c?g(a):c}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function y(o){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function b(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&_(a,c)}function _(o,p){return(_=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function A(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function S(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function w(a,c,h){return c&&S(a.prototype,c),h&&S(a,h),a}function k(a){var c=F.parse(a);return"file:"===c.protocol||c.host?c:/^[a-z]:[\/\\]/i.test(a)?F.parse("file:///".concat(a)):(c.host||(c.protocol="file:"),c)}function C(a,c){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:c}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNodeStream=void 0;var R=c(a(182)),P=a(1),E=a(200),T=require("fs"),O=require("http"),L=require("https"),F=require("url"),I=/^file:\/\/\/[a-zA-Z]:\//,M=function(){function a(c){A(this,a),this.source=c,this.url=k(c.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return w(a,[{key:"getFullReader",value:function(){return P.assert(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new W(this):new D(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,c){if(c<=this._progressiveDataLength)return null;var h=this.isFsUrl?new B(this,a,c):new U(this,a,c);return this._rangeRequestReaders.push(h),h}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var c=this._rangeRequestReaders.slice(0);c.forEach(function(c){c.cancel(a)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),a}();exports.PDFNodeStream=M;var N=function(){function a(c){A(this,a),this._url=c.url,this._done=!1,this._storedError=null,this.onProgress=null;var h=c.source;this._contentLength=h.length,this._loaded=0,this._filename=null,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._readableStream=null,this._readCapability=P.createPromiseCapability(),this._headersCapability=P.createPromiseCapability()}return w(a,[{key:"read",value:function(){var a,c;return R["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,R["default"].awrap(this._readCapability.promise);case 2:if(!this._done){h.next=4;break}return h.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){h.next=6;break}throw this._storedError;case 6:if(a=this._readableStream.read(),null!==a){h.next=10;break}return this._readCapability=P.createPromiseCapability(),h.abrupt("return",this.read());case 10:return this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),c=new Uint8Array(a).buffer,h.abrupt("return",{value:c,done:!1});case 14:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(a){return this._readableStream?void this._readableStream.destroy(a):void this._error(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var c=this;this._readableStream=a,a.on("readable",function(){c._readCapability.resolve()}),a.on("end",function(){a.destroy(),c._done=!0,c._readCapability.resolve()}),a.on("error",function(a){c._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new P.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),j=function(){function a(c){A(this,a),this._url=c.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=P.createPromiseCapability();var h=c.source;this._isStreamingSupported=!h.disableStream}return w(a,[{key:"read",value:function(){var a,c;return R["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,R["default"].awrap(this._readCapability.promise);case 2:if(!this._done){h.next=4;break}return h.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){h.next=6;break}throw this._storedError;case 6:if(a=this._readableStream.read(),null!==a){h.next=10;break}return this._readCapability=P.createPromiseCapability(),h.abrupt("return",this.read());case 10:return this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded}),c=new Uint8Array(a).buffer,h.abrupt("return",{value:c,done:!1});case 14:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(a){return this._readableStream?void this._readableStream.destroy(a):void this._error(a)}},{key:"_error",value:function(a){this._storedError=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var c=this;this._readableStream=a,a.on("readable",function(){c._readCapability.resolve()}),a.on("end",function(){a.destroy(),c._done=!0,c._readCapability.resolve()}),a.on("error",function(a){c._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),D=function(a){function c(a){var h;A(this,c),h=v(this,y(c).call(this,a));var g=function(c){if(404===c.statusCode){var v=new P.MissingPDFException('Missing PDF "'.concat(h._url,'".'));return h._storedError=v,void h._headersCapability.reject(v)}h._headersCapability.resolve(),h._setReadableStream(c);var g=function(a){return h._readableStream.headers[a.toLowerCase()]},y=E.validateRangeRequestCapabilities({getResponseHeader:g,isHttp:a.isHttp,rangeChunkSize:h._rangeChunkSize,disableRange:h._disableRange}),b=y.allowRangeRequests,_=y.suggestedLength;h._isRangeSupported=b,h._contentLength=_||h._contentLength,h._filename=E.extractFilenameFromHeader(g)};return h._request=null,h._request="http:"===h._url.protocol?O.request(C(h._url,a.httpHeaders),g):L.request(C(h._url,a.httpHeaders),g),h._request.on("error",function(a){h._storedError=a,h._headersCapability.reject(a)}),h._request.end(),h}return b(c,a),c}(N),U=function(a){function c(a,h,g){var b;A(this,c),b=v(this,y(c).call(this,a)),b._httpHeaders={};for(var _ in a.httpHeaders){var S=a.httpHeaders[_];"undefined"!=typeof S&&(b._httpHeaders[_]=S)}b._httpHeaders.Range="bytes=".concat(h,"-").concat(g-1);var w=function(a){if(404===a.statusCode){var c=new P.MissingPDFException('Missing PDF "'.concat(b._url,'".'));return void(b._storedError=c)}b._setReadableStream(a)};return b._request=null,b._request="http:"===b._url.protocol?O.request(C(b._url,b._httpHeaders),w):L.request(C(b._url,b._httpHeaders),w),b._request.on("error",function(a){b._storedError=a}),b._request.end(),b}return b(c,a),c}(j),W=function(a){function c(a){var h;A(this,c),h=v(this,y(c).call(this,a));var g=decodeURIComponent(h._url.path);return I.test(h._url.href)&&(g=g.replace(/^\//,"")),T.lstat(g,function(a,c){return a?("ENOENT"===a.code&&(a=new P.MissingPDFException('Missing PDF "'.concat(g,'".'))),h._storedError=a,void h._headersCapability.reject(a)):(h._contentLength=c.size,h._setReadableStream(T.createReadStream(g)),void h._headersCapability.resolve())}),h}return b(c,a),c}(N),B=function(a){function c(a,h,g){var b;A(this,c),b=v(this,y(c).call(this,a));var _=decodeURIComponent(b._url.path);return I.test(b._url.href)&&(_=_.replace(/^\//,"")),b._setReadableStream(T.createReadStream(_,{start:h,end:g-1})),b}return b(c,a),c}(j)},function(module,exports,a){"use strict";function c(a){var c=a.getResponseHeader,h=a.isHttp,v=a.rangeChunkSize,g=a.disableRange;y.assert(v>0,"Range chunk size must be larger than zero");var b={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(c("Content-Length"),10);if(!Number.isInteger(_))return b;if(b.suggestedLength=_,2*v>=_)return b;if(g||!h)return b;if("bytes"!==c("Accept-Ranges"))return b;var A=c("Content-Encoding")||"identity";return"identity"!==A?b:(b.allowRangeRequests=!0,b)}function h(a){var c=a("Content-Disposition");if(c){var h=b.getFilenameFromContentDispositionHeader(c);if(h.includes("%"))try{h=decodeURIComponent(h)}catch(ex){}if(/\.pdf$/i.test(h))return h}return null}function v(a,c){return 404===a||0===a&&/^file:/.test(c)?new y.MissingPDFException('Missing PDF "'+c+'".'):new y.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+c+'".',a)}function g(a){return 200===a||206===a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createResponseStatusError=v,exports.extractFilenameFromHeader=h,exports.validateRangeRequestCapabilities=c,exports.validateResponseStatus=g;var y=a(1),b=a(201)},function(module,exports){"use strict";function a(a,i){return v(a)||h(a,i)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(a,i){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],h=!0,v=!1,g=void 0;try{for(var y,b=a[Symbol.iterator]();!(h=(y=b.next()).done)&&(c.push(y.value),!i||c.length!==i);h=!0);}catch(_){v=!0,g=_}finally{try{h||null==b["return"]||b["return"]()}finally{if(v)throw g}}return c}}function v(a){return Array.isArray(a)?a:void 0}function g(c){function h(a,c){return new RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',c)}function v(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{var h=new TextDecoder(a,{fatal:!0}),v=Array.from(c,function(a){return 255&a.charCodeAt(0)});c=h.decode(new Uint8Array(v)),S=!1}catch(e){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),S=!1}catch(g){}}}return c}function g(a){return S&&/[\x80-\xff]/.test(a)&&(a=v("utf-8",a),S&&(a=v("iso-8859-1",a))),a}function y(c){for(var v,g=[],y=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(v=y.exec(c));){var A=v,S=a(A,4),n=S[1],w=S[2],k=S[3];if(n=parseInt(n,10),n in g){if(0===n)break}else g[n]=[w,k]}for(var C=[],R=0;R<g.length&&R in g;++R){var P=a(g[R],2),E=P[0],T=P[1];T=b(T),E&&(T=unescape(T),0===R&&(T=_(T))),C.push(T)}return C.join("")}function b(a){if(a.startsWith('"')){for(var c=a.slice(1).split('\\"'),i=0;i<c.length;++i){var h=c[i].indexOf('"');-1!==h&&(c[i]=c[i].slice(0,h),c.length=i+1),c[i]=c[i].replace(/\\(.)/g,"$1")}a=c.join('"')}return a}function _(a){var c=a.indexOf("'");if(-1===c)return a;var h=a.slice(0,c),g=a.slice(c+1),y=g.replace(/^[^']*'/,"");return v(h,y)}function A(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,c,h,g){if("q"===h||"Q"===h)return g=g.replace(/_/g," "),g=g.replace(/=([0-9a-fA-F]{2})/g,function(a,c){return String.fromCharCode(parseInt(c,16))}),v(c,g);try{g=atob(g)}catch(e){}return v(c,g)})}var S=!0,w=h("filename\\*","i").exec(c);if(w){w=w[1];var k=b(w);return k=unescape(k),k=_(k),k=A(k),g(k)}if(w=y(c)){var C=A(w);return g(C)}if(w=h("filename","i").exec(c)){w=w[1];var R=b(w);return R=A(R),g(R)}return""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFilenameFromContentDispositionHeader=g},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function v(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function g(a,c,h){return c&&v(a.prototype,c),h&&v(a,h),a}function y(a){var c=a.response;if("string"!=typeof c)return c;var h=_.stringToBytes(c);return h.buffer}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNetworkStream=void 0;var b=c(a(182)),_=a(1),A=a(200),S=200,w=206,k=function(){function a(c,v){h(this,a),this.url=c,v=v||{},this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&v.httpHeaders||{},this.withCredentials=v.withCredentials||!1,this.getXhr=v.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return g(a,[{key:"requestRange",value:function(a,c,h){var v={begin:a,end:c};for(var g in h)v[g]=h[g];return this.request(v)}},{key:"requestFull",value:function(a){return this.request(a)}},{key:"request",value:function(a){var c=this.getXhr(),h=this.currXhrId++,v=this.pendingRequests[h]={xhr:c};c.open("GET",this.url),c.withCredentials=this.withCredentials;for(var g in this.httpHeaders){var y=this.httpHeaders[g];"undefined"!=typeof y&&c.setRequestHeader(g,y)}return this.isHttp&&"begin"in a&&"end"in a?(c.setRequestHeader("Range","bytes=".concat(a.begin,"-").concat(a.end-1)),v.expectedStatus=w):v.expectedStatus=S,c.responseType="arraybuffer",a.onError&&(c.onerror=function(){a.onError(c.status)}),c.onreadystatechange=this.onStateChange.bind(this,h),c.onprogress=this.onProgress.bind(this,h),v.onHeadersReceived=a.onHeadersReceived,v.onDone=a.onDone,v.onError=a.onError,v.onProgress=a.onProgress,c.send(null),h}},{key:"onProgress",value:function(a,c){var h=this.pendingRequests[a];h&&h.onProgress&&h.onProgress(c)}},{key:"onStateChange",value:function(a){var c=this.pendingRequests[a];if(c){var h=c.xhr;if(h.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4===h.readyState&&a in this.pendingRequests){if(delete this.pendingRequests[a],0===h.status&&this.isHttp)return void(c.onError&&c.onError(h.status));var v=h.status||S,g=v===S&&c.expectedStatus===w;if(!g&&v!==c.expectedStatus)return void(c.onError&&c.onError(h.status));var b=y(h);if(v===w){var _=h.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);c.onDone({begin:parseInt(A[1],10),chunk:b})}else b?c.onDone({begin:0,chunk:b}):c.onError&&c.onError(h.status)}}}},{key:"hasPendingRequests",value:function(){for(var a in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(a){return this.pendingRequests[a].xhr}},{key:"isPendingRequest",value:function(a){return a in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var a in this.pendingRequests)this.abortRequest(0|a)}},{key:"abortRequest",value:function(a){var c=this.pendingRequests[a].xhr;delete this.pendingRequests[a],c.abort()}}]),a}(),C=function(){function a(c){h(this,a),this._source=c,this._manager=new k(c.url,{httpHeaders:c.httpHeaders,withCredentials:c.withCredentials}),this._rangeChunkSize=c.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return g(a,[{key:"_onRangeRequestReaderClosed",value:function(a){var i=this._rangeRequestReaders.indexOf(a);i>=0&&this._rangeRequestReaders.splice(i,1)}},{key:"getFullReader",value:function(){return _.assert(!this._fullRequestReader),this._fullRequestReader=new R(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(a,c){var h=new P(this._manager,a,c);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var c=this._rangeRequestReaders.slice(0);c.forEach(function(c){c.cancel(a)})}}]),a}();exports.PDFNetworkStream=C;var R=function(){function a(c,v){h(this,a),this._manager=c;var g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=v.url,this._fullRequestId=c.requestFull(g),this._headersReceivedCapability=_.createPromiseCapability(),this._disableRange=v.disableRange||!1,this._contentLength=v.length,this._rangeChunkSize=v.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return g(a,[{key:"_onHeadersReceived",value:function(){var a=this._fullRequestId,c=this._manager.getRequestXhr(a),h=function(a){return c.getResponseHeader(a)},v=A.validateRangeRequestCapabilities({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),g=v.allowRangeRequests,y=v.suggestedLength;g&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=A.extractFilenameFromHeader(h),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(a){if(a)if(this._requests.length>0){var c=this._requests.shift();c.resolve({value:a.chunk,done:!1})}else this._cachedChunks.push(a.chunk);this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(a){var c=this._url,h=A.createResponseStatusError(a,c);this._storedError=h,this._headersReceivedCapability.reject(h),this._requests.forEach(function(a){a.reject(h)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(a){this.onProgress&&this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}},{key:"read",value:function(){var a,c;return b["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this._storedError){h.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){h.next=5;break}return a=this._cachedChunks.shift(),h.abrupt("return",{value:a,done:!1});case 5:if(!this._done){h.next=7;break}return h.abrupt("return",{value:void 0,done:!0});case 7:return c=_.createPromiseCapability(),this._requests.push(c),h.abrupt("return",c.promise);case 10:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(a){this._done=!0,this._headersReceivedCapability.reject(a),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),a}(),P=function(){function a(c,v,g){h(this,a),this._manager=c;var y={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=c.requestRange(v,g,y),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return g(a,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(a){var c=a.chunk;if(this._requests.length>0){var h=this._requests.shift();h.resolve({value:c,done:!1})}else this._queuedChunk=c;this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(a){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:a.loaded})}},{key:"read",value:function(){var a,c;return b["default"].async(function(h){for(;;)switch(h.prev=h.next){case 0:if(null===this._queuedChunk){h.next=4;break}return a=this._queuedChunk,this._queuedChunk=null,h.abrupt("return",{value:a,done:!1});case 4:if(!this._done){h.next=6;break}return h.abrupt("return",{value:void 0,done:!0});case 6:return c=_.createPromiseCapability(),this._requests.push(c),h.abrupt("return",c.promise);case 9:case"end":return h.stop()}},null,this)}},{key:"cancel",value:function(){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),a}()},function(module,exports,a){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function v(a,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function g(a,c,h){return c&&v(a.prototype,c),h&&v(a,h),a}function y(a,c,h){return{method:"GET",headers:a,signal:h&&h.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFetchStream=void 0;var b=c(a(182)),_=a(1),A=a(200),S=function(){function a(c){h(this,a),this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return g(a,[{key:"getFullReader",value:function(){return _.assert(!this._fullRequestReader),this._fullRequestReader=new w(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,c){if(c<=this._progressiveDataLength)return null;var h=new k(this,a,c);return this._rangeRequestReaders.push(h),h}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var c=this._rangeRequestReaders.slice(0);c.forEach(function(c){c.cancel(a)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),a}();exports.PDFFetchStream=S;var w=function(){function a(c){var v=this;h(this,a),this._stream=c,this._reader=null,this._loaded=0,this._filename=null;var g=c.source;this._withCredentials=g.withCredentials||!1,this._contentLength=g.length,this._headersCapability=_.createPromiseCapability(),this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._headers=new Headers;for(var b in this._stream.httpHeaders){var S=this._stream.httpHeaders[b];"undefined"!=typeof S&&this._headers.append(b,S)}var w=g.url;fetch(w,y(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!A.validateResponseStatus(a.status))throw A.createResponseStatusError(a.status,w);v._reader=a.body.getReader(),v._headersCapability.resolve();var c=function(c){return a.headers.get(c)},h=A.validateRangeRequestCapabilities({getResponseHeader:c,isHttp:v._stream.isHttp,rangeChunkSize:v._rangeChunkSize,disableRange:v._disableRange}),g=h.allowRangeRequests,y=h.suggestedLength;v._isRangeSupported=g,v._contentLength=y||v._contentLength,v._filename=A.extractFilenameFromHeader(c),!v._isStreamingSupported&&v._isRangeSupported&&v.cancel(new _.AbortException("Streaming is disabled."))})["catch"](this._headersCapability.reject),this.onProgress=null}return g(a,[{key:"read",value:function(){var a,c,h,v;return b["default"].async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,b["default"].awrap(this._headersCapability.promise);case 2:return g.next=4,b["default"].awrap(this._reader.read());case 4:if(a=g.sent,c=a.value,h=a.done,!h){g.next=9;break}return g.abrupt("return",{value:c,done:h});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),v=new Uint8Array(c).buffer,g.abrupt("return",{value:v,done:!1});case 13:case"end":return g.stop()}},null,this)}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),k=function(){function a(c,v,g){var b=this;h(this,a),this._stream=c,this._reader=null,this._loaded=0;var S=c.source;this._withCredentials=S.withCredentials||!1,this._readCapability=_.createPromiseCapability(),this._isStreamingSupported=!S.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers;for(var w in this._stream.httpHeaders){var k=this._stream.httpHeaders[w];"undefined"!=typeof k&&this._headers.append(w,k)}this._headers.append("Range","bytes=".concat(v,"-").concat(g-1));var C=S.url;fetch(C,y(this._headers,this._withCredentials,this._abortController)).then(function(a){if(!A.validateResponseStatus(a.status))throw A.createResponseStatusError(a.status,C);b._readCapability.resolve(),b._reader=a.body.getReader()}),this.onProgress=null}return g(a,[{key:"read",value:function(){var a,c,h,v;return b["default"].async(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,b["default"].awrap(this._readCapability.promise);case 2:return g.next=4,b["default"].awrap(this._reader.read());case 4:if(a=g.sent,c=a.value,h=a.done,!h){g.next=9;break}return g.abrupt("return",{value:c,done:h});case 9:return this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),v=new Uint8Array(c).buffer,g.abrupt("return",{value:v,done:!1});case 13:case"end":return g.stop()}},null,this)}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}()}])});
/*!common/widgets/un_login_upload_resume/main.js*/
;define("common/widgets/un_login_upload_resume/main",["require","exports","module","common/components/util/htoc","common/components/validate/validate","common/widgets/passport/common/js/sense","common/components/toast/index","common/components/modal/modal","common/static/js/pdf/pdf"],function(require){function a(){function a(){$("#upload-resume-tip").hasClass("dn")||($("#upload-resume-tip").addClass("dn"),localStorage.setItem("isNotShowUploadTip",!0))}var c=!1;if(window.localStorage)if(c=localStorage.getItem("isNotShowUploadTip"))$("#upload-resume-tip").hasClass("dn")||$("#upload-resume-tip").addClass("dn");else if($("#upload-resume")){var T='<div class="upload-resume-tip" id="upload-resume-tip">\n        <span>点我，注册更快捷～</span>\n        <div class="close-icon-style" id="close-icon-style"></div>\n        <div class="triangle-style"></div>\n    </div>';$("#upload-resume").append(T),$("#close-icon-style").bind("click",a)}}function c(){$("#uploadUnLoginFile").click()}function T(a){V.animate({width:a+"%"},1e3)}function _(a,c){I(a&&a.msg?a.msg:"简历上传失败，请重新上传"),c||v(O.SHOW_FIRST_TEMPLATE)}function w(){T(0),$("#uploadUnLoginFile").val(""),$("#uploadUnLoginFile").off("change"),$("#uploadUnLoginFile").change(function(){L($(this),"https://www.lagou.com/nearBy/updateMyResume","uploadUnLoginFile")})}function h(){en&&(clearTimeout(en),en=null)}function L(a,c,h){var L=$("#"+h);if(Z===O.IS_UPLOADING)return!1;Z=O.IS_UPLOADING,this.AllowExt=".doc,.docx,.pdf,.ppt,.pptx,.txt,.wps",this.FileExt=L.val().substr(L.val().lastIndexOf(".")).toLowerCase();var b=L[0].files[0].size;if(""===L.val())return Z=O.IS_UPLOAD_INIT,!1;if(0!==this.AllowExt&&-1===this.AllowExt.indexOf(this.FileExt))C.error("格式错误，只支持word、pdf、ppt、txt、wps格式文件，请重新上传"),Z=O.IS_UPLOAD_INIT,$("#uploadUnLoginFile").val(""),window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwg"});else if(b>10485760)C.error("文件大小需小于10M，请重新上传"),window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwh"}),Z=O.IS_UPLOAD_INIT;else{Z=O.IS_UPLOAD_INIT,nn=10,v(O.SHOW_SECOND_TEMPLATE),T(nn),K=setInterval(function(){50>nn?(nn+=2,T(nn)):clearInterval(K)},1e3);var E=new FormData;E.append("newResume",L[0].files[0]),E.append("forPreview",1),$.lgAjax({type:"POST",url:c,contentType:!1,processData:!1,data:E,xhrFields:{withCredentials:!0},success:function(a){K&&clearInterval(K),a.success?g(a):(window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwk"}),v(O.SHOW_THIRD_TEMPLATE),_(a,!0))},error:function(a){if(console.log(a,"err"),K&&clearInterval(K),a&&a.responseText){var c={};a.responseText.includes("↵")?(c={msg:"上传错误，请重新上传"},_(c)):(c=JSON.parse(a.responseText),_(c)),window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwk"})}else _(null),window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwj"});Z=O.IS_UPLOAD_INIT,w(),v(O.SHOW_THIRD_TEMPLATE)}})}}function b(a){a.content&&(Q=a.content.nearbyUrl,X=a.content.nearbyName),$.lgAjax({type:"POST",cache:!1,crossDomain:!0,headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:"https://gate.lagou.com/v1/entry/nearby/submitParse",data:JSON.stringify({fileId:Q}),contentType:"application/json;charset=UTF-8",dataType:"json",needNoToken:!0}).done(function(a){function c(){$.lgAjax({type:"POST",headers:{"Content-Type":"application/json;charset=UTF-8","X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:"https://gate.lagou.com/v1/entry/nearby/queryParseSummary",data:JSON.stringify({fileId:Q}),dataType:"json",needNoToken:!0}).then(function(a){if(h(),1===a.state)if(a.content){nn=100,T(nn);for(var i=0;i<a.content.entries.length;i++){var w=a.content.entries[i].size||0,L=a.content.entries[i].name||"";switch(i){case 0:$("#left-content-block-title-0").text(""+L),$("#left-content-block-num-0").text(""+w);break;case 1:$("#left-content-block-title-1").text(""+L),$("#left-content-block-num-1").text(""+w);break;case 2:$("#left-content-block-title-2").text(""+L),$("#left-content-block-num-2").text(""+w);break;case 3:$("#left-content-block-title-3").text(""+L),$("#left-content-block-num-3").text(""+w)}}a.content.phone&&$("#phoneNum").val(a.content.phone),setTimeout(function(){v(O.SHOW_FOURTH_TEMPLATE)},1500)}else if(90>nn)nn+=10,T(nn),en=setTimeout(function(){c()},1500);else{window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwi"}),v(O.SHOW_THIRD_TEMPLATE);var b={msg:"简历解析失败，请重试"};_(b)}else _(a)})}1===a.state?c():(window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nwk"}),v(O.SHOW_THIRD_TEMPLATE),_(a))}).fail(function(a){_(a),w()})}function g(a){if(a.content){var c=require("common/static/js/pdf/pdf"),T="https://www.lagou.com/nearBy/previewResume?id="+a.content.id+"&nearbyName="+a.content.nearbyName+"&nearbyUrl="+a.content.nearbyUrl;c.GlobalWorkerOptions.workerSrc="https://www.lgstatic.com/lg-static-fed/common/static/js/pdf/pdf.worker.js",E(T,c,a)}}function E(a,c,T){function _(){var h=c.getDocument(a);h.promise.then(function(){b(T)},function(a){console.error(a),w++,w>2?(v(O.SHOW_FIRST_TEMPLATE),C.error("简历解析失败，请重新上传")):_()})}var w=0;_()}function v(a){switch(a){case O.SHOW_FIRST_TEMPLATE:w(),D.css("display","block"),M.css("display","none"),z.css("display","none"),$(".fourth-upload-resume-success").css("display","none"),J=O.FIRST_TEMPLATE_CLOSE,window.LGWebTj({_lt:"pcshow",_address_id:"1npf"});break;case O.SHOW_SECOND_TEMPLATE:D.css("display","none"),M.css("display","block"),z.css("display","none"),$(".fourth-upload-resume-success").css("display","none"),K&&clearInterval(K),B&&(clearInterval(B),$("#yzmId").text("获取验证码"),$("#yzmId").removeClass("disabled")),$("#phoneNum").val(""),$("#yzmNum").val("");break;case O.SHOW_THIRD_TEMPLATE:D.css("display","none"),M.css("display","none"),z.css("display","block"),$(".fourth-upload-resume-success").css("display","none"),J=O.THIRD_TEMPLATE_CLOSE,window.LGWebTj&&window.LGWebTj({_lt:"pcshow",_address_id:"1npj"});break;case O.SHOW_FOURTH_TEMPLATE:D.css("display","none"),M.css("display","none"),z.css("display","none"),$(".fourth-upload-resume-success").css("display","block"),Y.init($(".fourth-upload-resume-success")),W(function(a){S=a},function(){}),J=O.FORTH_TEMPLATE_CLOSE,window.LGWebTj&&window.LGWebTj({_lt:"pcshow",_address_id:"1npp"})}}function y(){function a(){$(".upload-resume-modal").modal("hide"),h(),K&&clearInterval(K),B&&(clearInterval(B),$("#yzmId").text("获取验证码"),$("#yzmId").removeClass("disabled")),$("#phoneNum").val(""),$("#yzmNum").val(""),window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:J})}function T(e){e.preventDefault(),$(".upload-resume-modal").modal("hide"),PASSPORT&&PASSPORT.registerPopup()}G.bind("click",function(e){window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1npi"}),T(e)}),H.bind("click",function(e){window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1npn"}),T(e)}),R.bind("click",function(){window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1npg"}),c()}),N.bind("click",function(){window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1npk"}),c()}),U.bind("click",a)}function k(){$(".upload-resume-modal").modal("show"),v(O.SHOW_FIRST_TEMPLATE);const a=$("#upload-resume-tip");a&&(a.hasClass("dn")||(a.addClass("dn"),localStorage.setItem("isNotShowUploadTip",!0)))}function I(a){$("#ajaxErrorTip h4").html(a||"网络出错啦"),$.colorbox({title:"出错了",href:"#ajaxErrorTip",inline:!0})}var S,O={IS_UPLOAD_INIT:"IS_UPLOAD_INIT",IS_UPLOADING:"IS_UPLOADING",SHOW_FIRST_TEMPLATE:"SHOW_FIRST_TEMPLATE",SHOW_SECOND_TEMPLATE:"SHOW_SECOND_TEMPLATE",SHOW_THIRD_TEMPLATE:"SHOW_THIRD_TEMPLATE",SHOW_FOURTH_TEMPLATE:"SHOW_FOURTH_TEMPLATE",FIRST_TEMPLATE_CLOSE:"1nph",THIRD_TEMPLATE_CLOSE:"1npm",FORTH_TEMPLATE_CLOSE:"1npr"},j={240:{message:"请输入手机号码",linkFor:"phone"},203:{message:"手机号码不正确",linkFor:"phone"},245:{message:"请输入手机验证码",linkFor:"yzm"},400:{message:"验证码错误",linkFor:"yzm"},401:{message:"手机验证码不正确",linkFor:"yzm"},402:{message:"手机验证码不正确",linkFor:"yzm"},501:{message:"系统错误",linkFor:"phone"},500:{message:"系统错误",linkFor:"phone"}},A={1:{message:"验证码已发送，请查收短信",linkFor:"phone"},201:{message:"请输入手机号码",linkFor:"phone"},241:{message:"手机号码格式错误，暂只支持国内手机号",linkFor:"phone"},203:{message:"请输入有效手机号，暂只支持国内手机号",linkFor:"phone"},21010:{message:"校验码错误，请刷新重试",linkFor:"phone"},204:{message:"发送验证码异常",linkFor:"yzm"},205:{message:"手机号码格式错误，暂只支持国内手机号",linkFor:"phone"},206:{message:"系统错误",linkFor:"yzm"},207:{message:"验证码已达上限，请明天再试",linkFor:"yzm"},208:{message:"验证码发送太过频繁，请稍后再试",linkFor:"yzm"}},P=require("common/components/util/htoc"),F=require("common/components/validate/validate").LgValidate,W=require("common/widgets/passport/common/js/sense"),C=require("common/components/toast/index");require("common/components/modal/modal");var G=($("#upload-resume-tip"),$(".go-register-first")),H=$(".go-register-second"),U=$(".upload-resume-modal-close"),R=$(".upload-resume-button"),N=$(".upload-resume-button-restart"),D=$(".first-upload-resume"),M=$(".second-uploading-resume"),z=$(".third-upload-resume-reUpload"),V=$(".schedule-success-block"),J=O.FIRST_TEMPLATE_CLOSE,Q="",X="",B=null,K=null,Y=function(){function a(a){L=a.find(".tel-input"),b=a.find(".yzm-input"),g=a.find(".yzm-btn"),E=a.find(".register-login-btn"),y=a.find(".error-area"),T(),h(),c()}function c(){v=new F({form:".login-register-block",rules:{phone:{required:!0,isMobile:function(a){var c=$.trim(a),T=/^\d{5,15}$/;return c.length<=0?!0:!!T.test(c)}},yzm:{required:!0,isValid:function(a){var c=$.trim(a),T=/^[0-9]{6,6}$/;return c.length<=0?!0:!!T.test(c)}}},messages:{phone:{required:"请输入手机号",isMobile:"请输入正确手机号"},yzm:{required:"请输入验证码",isValid:"请输入6位数字验证码"}},errorPlacement:function(a){y.html(a).addClass("show")},errorRemove:function(){y.html("").removeClass("show")}}),v.errorRemove()}function T(){g.bind("click",function(){v.valid("phone")&&(g.hasClass("disabled")||S&&(window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1nps"}),S._c_interactive=3,S._c_onSuccess=function(a){_(a.challenge)},S.sense()))})}function _(a){var c="0086",T=$.trim(L.val());g.addClass("disabled"),$.lgAjax({url:"https://passport.lagou.com/login/sendVerifyCode.json",type:"GET",dataType:"jsonp",jsonp:"jsoncallback",data:{countryCode:c,phone:T,type:0,challenge:a}}).done(function(a){if(1===a.state)return void w(function(){g.removeClass("disabled")});var c,T=A[a.state];T&&("phone"===T.linkFor&&(c=L),"yzm"===T.linkFor&&(c=b),v.showError(c,T.linkFor,T.message)),g.removeClass("disabled")}).fail(function(){g.removeClass("disabled")})}function w(a){var c=60;g.text(c+"s"),B=setInterval(function(){c--,0===c?(clearInterval(B),g.text("获取验证码"),a&&a()):g.text(c+"s")},1e3)}function h(){var a="0086";E.bind("click",function(){if(v.checkAll()&&!E.hasClass("disabled")){window.LGWebTj&&window.LGWebTj({_lt:"pcclick",_address_id:"1npq"}),E.addClass("disabled");var c=$.trim(L.val()),T=$.trim(b.val());$.lgAjax({url:"https://passport.lagou.com/login/registerAndLogin.json",type:"POST",dataType:"jsonp",jsonp:"jsoncallback",data:{countryCode:a,phone:c,phoneVerificationCode:T}}).done(function(a){if(1===a.state)return void $.lgAjax({type:"GET",headers:{"X-L-REQ-HEADER":"{deviceType: 1}"},xhrFields:{withCredentials:!0},url:"https://gate.lagou.com/v1/entry/nearby/canUpload",data:{},contentType:"application/json;charset=UTF-8",dataType:"json",needNoToken:!0}).done(function(a){1===a.state?window.location.href="https://passport.lagou.com/grantServiceTicket/grant.html?service="+encodeURIComponent("https://www.lagou.com/resume/myresume.html?isParse=1&fileId="+Q+"&resumeName="+encodeURIComponent(encodeURIComponent(X))):(E.removeClass("disabled"),$.colorbox({inline:!0,href:$("div#uploadFull"),title:"上传失败"}))});var c,T=j[a.state];T&&("phone"===T.linkFor&&(c=L),"yzm"===T.linkFor&&(c=b),v.showError(c,T.linkFor,T.message)),E.removeClass("disabled")}).fail(function(){E.removeClass("disabled")})}})}var L,b,g,E,v,y;return{init:a}}(),Z=O.IS_UPLOAD_INIT,en=null,nn=0;$(".HtoC_JS").each(function(){$(this).keyup(function(){P.HtoC($(this))})}),a(),y(),window.UN_LOGIN_UPLOAD=window.UN_LOGIN_UPLOAD||{showUploadPop:k}});