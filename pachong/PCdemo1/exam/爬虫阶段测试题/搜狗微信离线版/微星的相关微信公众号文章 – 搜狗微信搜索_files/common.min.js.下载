function getCookieVal(e){var n=document.cookie.indexOf(";",e);return-1==n&&(n=window.document.cookie.length),document.cookie.substring(e,n)}function addCookie(e,n,t){var r=e+"="+escape(n);if(t){"never"==t&&(t=5256e4);var o=new Date;o.setTime(o.getTime()+60*t*1e3),r+="; expires="+o.toGMTString()}r+="; path=/; domain="+document.domain,document.cookie=r}function getCookie(e){for(var n=e+"=",t=n.length,r=document.cookie.length,o=0;o<r;){var c=o+t;if(document.cookie.substring(o,c)==n)return getCookieVal(c);if(0==(o=document.cookie.indexOf(" ",o)+1))break}return null}function timeConvert(e){if(e){var n,t,r,o;if(e=parseInt(e),o=parseInt((new Date).getTime()/1e3)-e,r=parseInt(o/86400),t=parseInt(o/3600),n=parseInt(o/60),r>0&&r<4)return r+"天前";if(r<=0&&t>0)return t+"小时前";if(t<=0&&n>0)return n+"分钟前";var c=new Date(1e3*e);return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()}return""}function authname(e){return"1"==e?"腾讯":"2"==e?"微信":"4"==e?"新浪":"微信"}function errorHeadImage(e){e&&(e.src=location.protocol.toLocaleLowerCase()+"//weixin.sogou.com/wechat/images/account/def56-56.png",e.onerror=null)}function markGreen(e){if(e){var n=e.lastIndexOf("");return e.lastIndexOf("")<n&&(e=e.substring(0,n)+e.substring(n+1)),e.replace(/\ue40a/g,"<em>").replace(/\ue40b/g,"</em>")}return""}function cutGreen(e){return(e||"").replace(/<.*?>/g,"").replace(/[\ue40a\ue40b]/g,"")}function unescapeForHtml(e){return(e||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function trim(e){return(e||"").replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function len(e){return e?e.replace(/<.*?>/g,"").replace(/[^\x00-\xff]/g,"rr").replace(/&nbsp;/g," ").length:0}function wordNumCal(e){for(var n=(e||"").length,t=0,r=0,o=0;o<n;o++)e.charCodeAt(o)<128?t++:r+=2;return t+=r/2}function cutLength(e,n,t,r){if(t=t||"...",r=r||2,len(e=(e=e||"").replace(/<!.*?>/g,""))>n){do{e=e.substring(0,e.length-1)}while(e&&len(e)+r>n);return e.lastIndexOf("</")!=e.lastIndexOf("<")&&(e=e.substring(0,e.lastIndexOf("<"))+e.substring(e.lastIndexOf(">")+1)),e+t}return e}function escapeForHtml(e){return(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function encode(e){return encodeURIComponent(e)}function successBack(e){return e&&("success"==e.code||"ok"==e.code||"exist"==e.code)}function objToUrlParam(e){var n=[];for(var t in e)n.push("&",t,"=",encodeURIComponent(e[t]));return n.join("")}function getArticleReadNum(){window.article_anti_url?$.ajax({url:window.article_anti_url,dataType:"json",success:function(e){if(successBack(e)&&e.msg){var n=e.msg;getAccountReadNum(buildBottomBar,n)}else getAccountReadNum(buildBottomBar)},error:function(){getAccountReadNum(buildBottomBar)}}):getAccountReadNum(buildBottomBar)}function getAccountReadNum(e,n){e&&(window.account_anti_url?$.ajax({url:window.account_anti_url,dataType:"json",success:function(t){if(successBack(t)&&t.msg){var r=t.msg;e(n,r)}else e(n)},error:function(){e(n)}}):e(n))}