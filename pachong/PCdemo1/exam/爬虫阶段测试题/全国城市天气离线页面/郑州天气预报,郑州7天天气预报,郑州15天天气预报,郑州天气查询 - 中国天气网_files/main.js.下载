function height(e){var t=e;return isNaN(t.offsetHeight)?t.document.documentElement.clientHeight:t.offsetHeight}function pageYOffset(e){return isNaN(window.pageYOffset)?window.document.documentElement.scrollTop:e.ownerDocument?e.ownerDocument.defaultView.pageYOffset:e.offsetTop}function offsetTop(e){return e.getBoundingClientRect?e.getBoundingClientRect().top+pageYOffset(e):void 0}function throttle(e,t){function n(){return r=(new Date).getTime(),clearInterval(a),a=null,e.call()}function o(){var o=(new Date).getTime(),i=t-(o-r);0>=i?(clearInterval(a),a=null,r=o,e.call()):a||(a=setInterval(n,i,1))}var a=null,r=0;return o}function defaultHandler(){var e,t;if(container===windowElement)e=height(container)+pageYOffset(container.document.documentElement),t=offsetTop(elem)+height(elem);else{e=height(container);var n=0;void 0!==offsetTop(container)&&(n=offsetTop(container)),t=offsetTop(elem)-n+height(elem)}useDocumentBottom&&(t=height((elem.ownerDocument||elem.document).documentElement));var o=t-e,a=o<=height(container)*scrollDistance+1;5===elem.getElementsByTagName("dl").length&&a&&fetchFromServer()}function infiniteScroll(e){var t=Math.ceil(Math.abs(e)/itemHeight),n=1;0!==t%n&&(t=(Math.ceil(t/n)+1)*n),fetchFromServer()}function fetchFromServer(){var e="http://show.g.mediav.com/s?type=1&of=4&newf=1&showid=t8DWf9&uid=14703100938272515666870689766453&impct=4";$.ajax({url:e,type:"get",cache:!1,dataType:"jsonp",jsonp:"jsonp",jsonpCallback:"getMessage"})}function getMessage(e){var t,n=renderMediaDom(e.ads);for(t=0;2>t;t++)0==t?$(elem1).after(n[t]):$(elem2).after(n[t]),mediavNewsFeed.ads.push(n[t]);mediavNewsFeed.isInSightAndWaitExposure(n)}function renderMediaDom(e){for(var t=[],n=0;2>n;n++){var o=e[n],a='<dl class="mv-ads-'+n+'" data-data-imptk='+JSON.stringify(o.imptk)+'><dt><a href="'+o.curl+'" target="_blank" data-src=""><img src="'+o.img+'"></a></dt><dd><a href="'+o.curl+'" target="_blank">'+o.title+"</a><span>"+o.src+"　广告</span> </dd></dl>";$(document).on("click",".mv-ads-"+n,function(e){return function(){mediavNewsFeed.trackClick(e)}}(o.clktk)),t.push($(a))}return t}function supplant(e,t,n){return n=n||/\{([^\{\}]*)\}/g,e.replace(n,function(e,n){var o=n.split("."),a=t;try{for(var r in o)o.hasOwnProperty(r)&&(a=a[o[r]])}catch(i){a=e}return"string"==typeof a||"number"==typeof a?a:e})}var mediavNewsFeed=new NewsFeed,THROTTLE_MILLISECONDS=200,elem=document.getElementById("tq_zx"),elem1=document.getElementById("tq_zx").getElementsByTagName("dl")[0],elem2=document.getElementById("tq_zx").getElementsByTagName("dl")[3],windowElement=window,scrollDistance=1,container=window,useDocumentBottom=!1,addEventListenerFn=window.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},removeEventListenerFn=window.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)};addEventListenerFn(container,"scroll",throttle(defaultHandler,THROTTLE_MILLISECONDS));